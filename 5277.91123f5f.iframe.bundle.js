(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[5277],{"./packages/api-fetch/build-module/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>api_fetch_build_module});var build_module=__webpack_require__("./packages/i18n/build-module/index.js");const nonce=function createNonceMiddleware(nonce){const middleware=(options,next)=>{const{headers={}}=options;for(const headerName in headers)if("x-wp-nonce"===headerName.toLowerCase()&&headers[headerName]===middleware.nonce)return next(options);return next({...options,headers:{...headers,"X-WP-Nonce":middleware.nonce}})};return middleware.nonce=nonce,middleware},namespace_endpoint=(options,next)=>{let namespaceTrimmed,endpointTrimmed,path=options.path;return"string"==typeof options.namespace&&"string"==typeof options.endpoint&&(namespaceTrimmed=options.namespace.replace(/^\/|\/$/g,""),endpointTrimmed=options.endpoint.replace(/^\//,""),path=endpointTrimmed?namespaceTrimmed+"/"+endpointTrimmed:namespaceTrimmed),delete options.namespace,delete options.endpoint,next({...options,path})},root_url=rootURL=>(options,next)=>namespace_endpoint(options,(optionsWithPath=>{let apiRoot,url=optionsWithPath.url,path=optionsWithPath.path;return"string"==typeof path&&(apiRoot=rootURL,-1!==rootURL.indexOf("?")&&(path=path.replace("?","&")),path=path.replace(/^\//,""),"string"==typeof apiRoot&&-1!==apiRoot.indexOf("?")&&(path=path.replace("?","&")),url=apiRoot+path),next({...optionsWithPath,url})}));function normalizePath(path){const splitted=path.split("?"),query=splitted[1],base=splitted[0];return query?base+"?"+query.split("&").map((entry=>entry.split("="))).map((pair=>pair.map(decodeURIComponent))).sort(((a,b)=>a[0].localeCompare(b[0]))).map((pair=>pair.map(encodeURIComponent))).map((pair=>pair.join("="))).join("&"):base}var get_query_args=__webpack_require__("./packages/url/build-module/get-query-args.js"),add_query_args=__webpack_require__("./packages/url/build-module/add-query-args.js");function prepareResponse(responseData,parse){return Promise.resolve(parse?responseData.body:new window.Response(JSON.stringify(responseData.body),{status:200,statusText:"OK",headers:responseData.headers}))}const preloading=function createPreloadingMiddleware(preloadedData){const cache=Object.fromEntries(Object.entries(preloadedData).map((([path,data])=>[normalizePath(path),data])));return(options,next)=>{const{parse=!0}=options;let rawPath=options.path;if(!rawPath&&options.url){const{rest_route:pathFromQuery,...queryArgs}=(0,get_query_args.w)(options.url);"string"==typeof pathFromQuery&&(rawPath=(0,add_query_args.f)(pathFromQuery,queryArgs))}if("string"!=typeof rawPath)return next(options);const method=options.method||"GET",path=normalizePath(rawPath);if("GET"===method&&cache[path]){const cacheData=cache[path];return delete cache[path],prepareResponse(cacheData,!!parse)}if("OPTIONS"===method&&cache[method]&&cache[method][path]){const cacheData=cache[method][path];return delete cache[method][path],prepareResponse(cacheData,!!parse)}return next(options)}},modifyQuery=({path,url,...options},queryArgs)=>({...options,url:url&&(0,add_query_args.f)(url,queryArgs),path:path&&(0,add_query_args.f)(path,queryArgs)}),parseResponse=response=>response.json?response.json():Promise.reject(response),getNextPageUrl=response=>{const{next}=(linkHeader=>{if(!linkHeader)return{};const match=linkHeader.match(/<([^>]+)>; rel="next"/);return match?{next:match[1]}:{}})(response.headers.get("link"));return next},fetch_all_middleware=async(options,next)=>{if(!1===options.parse)return next(options);if(!(options=>{const pathIsUnbounded=!!options.path&&-1!==options.path.indexOf("per_page=-1"),urlIsUnbounded=!!options.url&&-1!==options.url.indexOf("per_page=-1");return pathIsUnbounded||urlIsUnbounded})(options))return next(options);const response=await api_fetch_build_module({...modifyQuery(options,{per_page:100}),parse:!1}),results=await parseResponse(response);if(!Array.isArray(results))return results;let nextPage=getNextPageUrl(response);if(!nextPage)return results;let mergedResults=[].concat(results);for(;nextPage;){const nextResponse=await api_fetch_build_module({...options,path:void 0,url:nextPage,parse:!1}),nextResults=await parseResponse(nextResponse);mergedResults=mergedResults.concat(nextResults),nextPage=getNextPageUrl(nextResponse)}return mergedResults},OVERRIDE_METHODS=new Set(["PATCH","PUT","DELETE"]),DEFAULT_METHOD="GET";function hasQueryArg(url,arg){return void 0!==function getQueryArg(url,arg){return(0,get_query_args.w)(url)[arg]}(url,arg)}const parseResponseAndNormalizeError=(response,shouldParseResponse=!0)=>Promise.resolve(((response,shouldParseResponse=!0)=>shouldParseResponse?204===response.status?null:response.json?response.json():Promise.reject(response):response)(response,shouldParseResponse)).catch((res=>parseAndThrowError(res,shouldParseResponse)));function parseAndThrowError(response,shouldParseResponse=!0){if(!shouldParseResponse)throw response;return(response=>{const invalidJsonError={code:"invalid_json",message:(0,build_module.__)("The response is not a valid JSON response.")};if(!response||!response.json)throw invalidJsonError;return response.json().catch((()=>{throw invalidJsonError}))})(response).then((error=>{const unknownError={code:"unknown_error",message:(0,build_module.__)("An unknown error occurred.")};throw error||unknownError}))}const media_upload=(options,next)=>{if(!function isMediaUploadRequest(options){const isCreateMethod=!!options.method&&"POST"===options.method;return(!!options.path&&-1!==options.path.indexOf("/wp/v2/media")||!!options.url&&-1!==options.url.indexOf("/wp/v2/media"))&&isCreateMethod}(options))return next(options);let retries=0;const postProcess=attachmentId=>(retries++,next({path:`/wp/v2/media/${attachmentId}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch((()=>retries<5?postProcess(attachmentId):(next({path:`/wp/v2/media/${attachmentId}?force=true`,method:"DELETE"}),Promise.reject()))));return next({...options,parse:!1}).catch((response=>{const attachmentId=response.headers.get("x-wp-upload-attachment-id");return response.status>=500&&response.status<600&&attachmentId?postProcess(attachmentId).catch((()=>!1!==options.parse?Promise.reject({code:"post_process",message:(0,build_module.__)("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(response))):parseAndThrowError(response,options.parse)})).then((response=>parseResponseAndNormalizeError(response,options.parse)))},theme_preview=themePath=>(options,next)=>("string"!=typeof options.url||hasQueryArg(options.url,"gutenberg_theme_preview")||(options.url=(0,add_query_args.f)(options.url,{gutenberg_theme_preview:themePath})),"string"!=typeof options.path||hasQueryArg(options.path,"gutenberg_theme_preview")||(options.path=(0,add_query_args.f)(options.path,{gutenberg_theme_preview:themePath})),next(options)),DEFAULT_HEADERS={Accept:"application/json, */*;q=0.1"},DEFAULT_OPTIONS={credentials:"include"},middlewares=[(options,next)=>("string"!=typeof options.url||hasQueryArg(options.url,"_locale")||(options.url=(0,add_query_args.f)(options.url,{_locale:"user"})),"string"!=typeof options.path||hasQueryArg(options.path,"_locale")||(options.path=(0,add_query_args.f)(options.path,{_locale:"user"})),next(options)),namespace_endpoint,(options,next)=>{const{method=DEFAULT_METHOD}=options;return OVERRIDE_METHODS.has(method.toUpperCase())&&(options={...options,headers:{...options.headers,"X-HTTP-Method-Override":method,"Content-Type":"application/json"},method:"POST"}),next(options)},fetch_all_middleware];const checkStatus=response=>{if(response.status>=200&&response.status<300)return response;throw response};let fetchHandler=nextOptions=>{const{url,path,data,parse=!0,...remainingOptions}=nextOptions;let{body,headers}=nextOptions;headers={...DEFAULT_HEADERS,...headers},data&&(body=JSON.stringify(data),headers["Content-Type"]="application/json");return window.fetch(url||path||window.location.href,{...DEFAULT_OPTIONS,...remainingOptions,body,headers}).then((value=>Promise.resolve(value).then(checkStatus).catch((response=>parseAndThrowError(response,parse))).then((response=>parseResponseAndNormalizeError(response,parse)))),(err=>{if(err&&"AbortError"===err.name)throw err;throw{code:"fetch_error",message:(0,build_module.__)("You are probably offline.")}}))};function apiFetch(options){return middlewares.reduceRight(((next,middleware)=>workingOptions=>middleware(workingOptions,next)),fetchHandler)(options).catch((error=>"rest_cookie_invalid_nonce"!==error.code?Promise.reject(error):window.fetch(apiFetch.nonceEndpoint).then(checkStatus).then((data=>data.text())).then((text=>(apiFetch.nonceMiddleware.nonce=text,apiFetch(options))))))}apiFetch.use=function registerMiddleware(middleware){middlewares.unshift(middleware)},apiFetch.setFetchHandler=function setFetchHandler(newFetchHandler){fetchHandler=newFetchHandler},apiFetch.createNonceMiddleware=nonce,apiFetch.createPreloadingMiddleware=preloading,apiFetch.createRootURLMiddleware=root_url,apiFetch.fetchAllMiddleware=fetch_all_middleware,apiFetch.mediaUploadMiddleware=media_upload,apiFetch.createThemePreviewMiddleware=theme_preview;const api_fetch_build_module=apiFetch},"./packages/block-editor/build-module/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{aE:()=>AlignmentControl,RE:()=>AlignmentToolbar,Dh:()=>BlockAlignmentControl,nu:()=>BlockAlignmentToolbar,Q4:()=>BlockContextProvider,Zp:()=>block_controls,$H:()=>keyboard_shortcuts,B5:()=>provider,wD:()=>block_icon,N$:()=>block_inspector,WD:()=>BlockList,G3:()=>block_preview,pB:()=>block_settings_menu_controls,bi:()=>BlockTitle,u9:()=>BlockTools,_l:()=>BlockVerticalAlignmentControl,nZ:()=>BlockVerticalAlignmentToolbar,VZ:()=>components_color_palette,ro:()=>contrast_checker,gv:()=>inner_blocks,Af:()=>inspector_controls,om:()=>media_placeholder,mS:()=>media_replace_flow,R:()=>media_upload,VA:()=>check,uy:()=>observe_typing,f3:()=>plain_text,Ho:()=>rich_text,Wx:()=>RichTextShortcut,oe:()=>RichTextToolbarButton,wE:()=>url_input,_$:()=>url_popover,v3:()=>warning,o2:()=>writing_flow,At:()=>block_alignment_matrix_control,pY:()=>block_full_height_alignment_control,A7:()=>block_patterns_list,G6:()=>block_variation_picker,zJ:()=>ColorGradientSettingsDropdown,xO:()=>DateFormatPicker,fG:()=>getBorderClassesAndStyles,Ti:()=>getColorClassesAndStyles,F6:()=>__experimentalGetElementClassName,PE:()=>getGapCSSValue,$R:()=>__experimentalGetGradientClass,qL:()=>__experimentalGetMatchingVariation,Ge:()=>getSpacingClassesAndStyles,C9:()=>ImageEditor,lf:()=>ImageSizeControl,n_:()=>ImageURLInputUI,Ml:()=>link_control,RK:()=>publish_date_time_picker,Kl:()=>RecursionProvider,dH:()=>SpacingSizesControl,h:()=>useBlockOverlayActive,fZ:()=>useBlockPreview,P1:()=>useBorderProps,Yj:()=>useColorProps,ok:()=>__experimentalUseGradient,cL:()=>useHasRecursion,jC:()=>useMultipleOriginColorsAndGradients,Ih:()=>EditorStyles,lP:()=>iframe,kL:()=>__unstableRichTextInputEvent,Gd:()=>getColorClassName,M9:()=>getColorObjectByAttributeValues,Gr:()=>getColorObjectByColorValue,Zq:()=>getCustomValueFromPreset,rS:()=>getFontSizeClass,m6:()=>getSpacingPresetCssVar,PD:()=>getTypographyClassesAndStyles,Sh:()=>isValueSpacingPreset,YH:()=>privateApis,t2:()=>store,Fu:()=>transform_styles,yc:()=>useBlockDisplayInformation,Wo:()=>useBlockProps,ni:()=>useCachedTruthy,fh:()=>useInnerBlocksProps,yu:()=>use_setting_useSetting,$c:()=>withColors});var private_selectors_namespaceObject={};__webpack_require__.r(private_selectors_namespaceObject),__webpack_require__.d(private_selectors_namespaceObject,{getBlockEditingMode:()=>getBlockEditingMode,getLastInsertedBlocksClientIds:()=>getLastInsertedBlocksClientIds,isBlockInterfaceHidden:()=>private_selectors_isBlockInterfaceHidden,isBlockSubtreeDisabled:()=>isBlockSubtreeDisabled});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject),__webpack_require__.d(selectors_namespaceObject,{__experimentalGetActiveBlockIdByBlockNames:()=>__experimentalGetActiveBlockIdByBlockNames,__experimentalGetAllowedBlocks:()=>__experimentalGetAllowedBlocks,__experimentalGetAllowedPatterns:()=>__experimentalGetAllowedPatterns,__experimentalGetBlockListSettingsForBlocks:()=>__experimentalGetBlockListSettingsForBlocks,__experimentalGetDirectInsertBlock:()=>__experimentalGetDirectInsertBlock,__experimentalGetGlobalBlocksByName:()=>__experimentalGetGlobalBlocksByName,__experimentalGetLastBlockAttributeChanges:()=>__experimentalGetLastBlockAttributeChanges,__experimentalGetParsedPattern:()=>__experimentalGetParsedPattern,__experimentalGetPatternTransformItems:()=>__experimentalGetPatternTransformItems,__experimentalGetPatternsByBlockTypes:()=>__experimentalGetPatternsByBlockTypes,__experimentalGetReusableBlockTitle:()=>__experimentalGetReusableBlockTitle,__unstableGetBlockWithoutInnerBlocks:()=>__unstableGetBlockWithoutInnerBlocks,__unstableGetClientIdWithClientIdsTree:()=>__unstableGetClientIdWithClientIdsTree,__unstableGetClientIdsTree:()=>__unstableGetClientIdsTree,__unstableGetContentLockingParent:()=>__unstableGetContentLockingParent,__unstableGetEditorMode:()=>__unstableGetEditorMode,__unstableGetSelectedBlocksWithPartialSelection:()=>__unstableGetSelectedBlocksWithPartialSelection,__unstableGetTemporarilyEditingAsBlocks:()=>__unstableGetTemporarilyEditingAsBlocks,__unstableGetVisibleBlocks:()=>__unstableGetVisibleBlocks,__unstableHasActiveBlockOverlayActive:()=>__unstableHasActiveBlockOverlayActive,__unstableIsFullySelected:()=>__unstableIsFullySelected,__unstableIsLastBlockChangeIgnored:()=>__unstableIsLastBlockChangeIgnored,__unstableIsSelectionCollapsed:()=>__unstableIsSelectionCollapsed,__unstableIsSelectionMergeable:()=>__unstableIsSelectionMergeable,__unstableIsWithinBlockOverlay:()=>__unstableIsWithinBlockOverlay,__unstableSelectionHasUnmergeableBlock:()=>__unstableSelectionHasUnmergeableBlock,areInnerBlocksControlled:()=>areInnerBlocksControlled,canEditBlock:()=>canEditBlock,canInsertBlockType:()=>canInsertBlockType,canInsertBlocks:()=>canInsertBlocks,canLockBlockType:()=>canLockBlockType,canMoveBlock:()=>canMoveBlock,canMoveBlocks:()=>canMoveBlocks,canRemoveBlock:()=>canRemoveBlock,canRemoveBlocks:()=>canRemoveBlocks,didAutomaticChange:()=>didAutomaticChange,getAdjacentBlockClientId:()=>getAdjacentBlockClientId,getAllowedBlocks:()=>getAllowedBlocks,getBehaviors:()=>getBehaviors,getBlock:()=>getBlock,getBlockAttributes:()=>getBlockAttributes,getBlockCount:()=>getBlockCount,getBlockHierarchyRootClientId:()=>getBlockHierarchyRootClientId,getBlockIndex:()=>getBlockIndex,getBlockInsertionPoint:()=>getBlockInsertionPoint,getBlockListSettings:()=>getBlockListSettings,getBlockMode:()=>getBlockMode,getBlockName:()=>getBlockName,getBlockNamesByClientId:()=>getBlockNamesByClientId,getBlockOrder:()=>getBlockOrder,getBlockParents:()=>getBlockParents,getBlockParentsByBlockName:()=>getBlockParentsByBlockName,getBlockRootClientId:()=>getBlockRootClientId,getBlockSelectionEnd:()=>getBlockSelectionEnd,getBlockSelectionStart:()=>getBlockSelectionStart,getBlockTransformItems:()=>getBlockTransformItems,getBlocks:()=>getBlocks,getBlocksByClientId:()=>getBlocksByClientId,getClientIdsOfDescendants:()=>getClientIdsOfDescendants,getClientIdsWithDescendants:()=>getClientIdsWithDescendants,getDraggedBlockClientIds:()=>getDraggedBlockClientIds,getFirstMultiSelectedBlockClientId:()=>getFirstMultiSelectedBlockClientId,getGlobalBlockCount:()=>getGlobalBlockCount,getInserterItems:()=>getInserterItems,getLastMultiSelectedBlockClientId:()=>getLastMultiSelectedBlockClientId,getLowestCommonAncestorWithSelectedBlock:()=>getLowestCommonAncestorWithSelectedBlock,getMultiSelectedBlockClientIds:()=>getMultiSelectedBlockClientIds,getMultiSelectedBlocks:()=>getMultiSelectedBlocks,getMultiSelectedBlocksEndClientId:()=>getMultiSelectedBlocksEndClientId,getMultiSelectedBlocksStartClientId:()=>getMultiSelectedBlocksStartClientId,getNextBlockClientId:()=>getNextBlockClientId,getPatternsByBlockTypes:()=>getPatternsByBlockTypes,getPreviousBlockClientId:()=>getPreviousBlockClientId,getSelectedBlock:()=>getSelectedBlock,getSelectedBlockClientId:()=>getSelectedBlockClientId,getSelectedBlockClientIds:()=>getSelectedBlockClientIds,getSelectedBlockCount:()=>getSelectedBlockCount,getSelectedBlocksInitialCaretPosition:()=>getSelectedBlocksInitialCaretPosition,getSelectionEnd:()=>getSelectionEnd,getSelectionStart:()=>getSelectionStart,getSettings:()=>getSettings,getTemplate:()=>getTemplate,getTemplateLock:()=>getTemplateLock,hasBlockMovingClientId:()=>selectors_hasBlockMovingClientId,hasDraggedInnerBlock:()=>hasDraggedInnerBlock,hasInserterItems:()=>hasInserterItems,hasMultiSelection:()=>hasMultiSelection,hasSelectedBlock:()=>hasSelectedBlock,hasSelectedInnerBlock:()=>hasSelectedInnerBlock,isAncestorBeingDragged:()=>isAncestorBeingDragged,isAncestorMultiSelected:()=>isAncestorMultiSelected,isBlockBeingDragged:()=>isBlockBeingDragged,isBlockHighlighted:()=>isBlockHighlighted,isBlockInsertionPointVisible:()=>isBlockInsertionPointVisible,isBlockMultiSelected:()=>isBlockMultiSelected,isBlockSelected:()=>isBlockSelected,isBlockValid:()=>isBlockValid,isBlockVisible:()=>isBlockVisible,isBlockWithinSelection:()=>isBlockWithinSelection,isCaretWithinFormattedText:()=>isCaretWithinFormattedText,isDraggingBlocks:()=>isDraggingBlocks,isFirstMultiSelectedBlock:()=>isFirstMultiSelectedBlock,isLastBlockChangePersistent:()=>isLastBlockChangePersistent,isMultiSelecting:()=>selectors_isMultiSelecting,isNavigationMode:()=>isNavigationMode,isSelectionEnabled:()=>selectors_isSelectionEnabled,isTyping:()=>selectors_isTyping,isValidTemplate:()=>isValidTemplate,wasBlockJustInserted:()=>wasBlockJustInserted});var private_actions_namespaceObject={};__webpack_require__.r(private_actions_namespaceObject),__webpack_require__.d(private_actions_namespaceObject,{__experimentalUpdateSettings:()=>__experimentalUpdateSettings,hideBlockInterface:()=>hideBlockInterface,setBlockEditingMode:()=>setBlockEditingMode,showBlockInterface:()=>showBlockInterface,unsetBlockEditingMode:()=>unsetBlockEditingMode});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,{__unstableDeleteSelection:()=>__unstableDeleteSelection,__unstableExpandSelection:()=>__unstableExpandSelection,__unstableMarkAutomaticChange:()=>__unstableMarkAutomaticChange,__unstableMarkLastChangeAsPersistent:()=>__unstableMarkLastChangeAsPersistent,__unstableMarkNextChangeAsNotPersistent:()=>__unstableMarkNextChangeAsNotPersistent,__unstableSaveReusableBlock:()=>__unstableSaveReusableBlock,__unstableSetEditorMode:()=>__unstableSetEditorMode,__unstableSetTemporarilyEditingAsBlocks:()=>__unstableSetTemporarilyEditingAsBlocks,__unstableSplitSelection:()=>__unstableSplitSelection,clearSelectedBlock:()=>clearSelectedBlock,duplicateBlocks:()=>duplicateBlocks,enterFormattedText:()=>enterFormattedText,exitFormattedText:()=>exitFormattedText,flashBlock:()=>flashBlock,hideInsertionPoint:()=>hideInsertionPoint,insertAfterBlock:()=>insertAfterBlock,insertBeforeBlock:()=>insertBeforeBlock,insertBlock:()=>insertBlock,insertBlocks:()=>insertBlocks,insertDefaultBlock:()=>insertDefaultBlock,mergeBlocks:()=>mergeBlocks,moveBlockToPosition:()=>moveBlockToPosition,moveBlocksDown:()=>moveBlocksDown,moveBlocksToPosition:()=>moveBlocksToPosition,moveBlocksUp:()=>moveBlocksUp,multiSelect:()=>multiSelect,receiveBlocks:()=>receiveBlocks,removeBlock:()=>removeBlock,removeBlocks:()=>removeBlocks,replaceBlock:()=>replaceBlock,replaceBlocks:()=>replaceBlocks,replaceInnerBlocks:()=>replaceInnerBlocks,resetBlocks:()=>resetBlocks,resetSelection:()=>resetSelection,selectBlock:()=>selectBlock,selectNextBlock:()=>selectNextBlock,selectPreviousBlock:()=>selectPreviousBlock,selectionChange:()=>selectionChange,setBlockMovingClientId:()=>setBlockMovingClientId,setBlockVisibility:()=>setBlockVisibility,setHasControlledInnerBlocks:()=>setHasControlledInnerBlocks,setNavigationMode:()=>setNavigationMode,setTemplateValidity:()=>setTemplateValidity,showInsertionPoint:()=>showInsertionPoint,startDraggingBlocks:()=>startDraggingBlocks,startMultiSelect:()=>startMultiSelect,startTyping:()=>startTyping,stopDraggingBlocks:()=>stopDraggingBlocks,stopMultiSelect:()=>stopMultiSelect,stopTyping:()=>stopTyping,synchronizeTemplate:()=>synchronizeTemplate,toggleBlockHighlight:()=>toggleBlockHighlight,toggleBlockMode:()=>toggleBlockMode,toggleSelection:()=>toggleSelection,updateBlock:()=>updateBlock,updateBlockAttributes:()=>updateBlockAttributes,updateBlockListSettings:()=>updateBlockListSettings,updateSettings:()=>updateSettings,validateBlocksToTemplate:()=>validateBlocksToTemplate});var global_styles_namespaceObject={};__webpack_require__.r(global_styles_namespaceObject),__webpack_require__.d(global_styles_namespaceObject,{AdvancedPanel:()=>AdvancedPanel,BorderPanel:()=>BorderPanel,ColorPanel:()=>ColorPanel,DimensionsPanel:()=>DimensionsPanel,EffectsPanel:()=>EffectsPanel,FiltersPanel:()=>FiltersPanel,GlobalStylesContext:()=>GlobalStylesContext,TypographyPanel:()=>TypographyPanel,areGlobalStyleConfigsEqual:()=>areGlobalStyleConfigsEqual,getBlockCSSSelector:()=>getBlockCSSSelector,getLayoutStyles:()=>getLayoutStyles,useGlobalSetting:()=>useGlobalSetting,useGlobalStyle:()=>useGlobalStyle,useGlobalStylesOutput:()=>useGlobalStylesOutput,useGlobalStylesOutputWithConfig:()=>useGlobalStylesOutputWithConfig,useGlobalStylesReset:()=>useGlobalStylesReset,useHasBorderPanel:()=>useHasBorderPanel,useHasColorPanel:()=>useHasColorPanel,useHasDimensionsPanel:()=>useHasDimensionsPanel,useHasEffectsPanel:()=>useHasEffectsPanel,useHasFiltersPanel:()=>useHasFiltersPanel,useHasTypographyPanel:()=>useHasTypographyPanel,useSettingsForBlockElement:()=>useSettingsForBlockElement});var build_module=__webpack_require__("./packages/blocks/build-module/index.js"),hooks_build_module=__webpack_require__("./packages/hooks/build-module/index.js");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/compat/migrateLightBlockWrapper",(function migrateLightBlockWrapper(settings){const{apiVersion=1}=settings;return apiVersion<2&&(0,build_module.zb)(settings,"lightBlockWrapper",!1)&&(settings.apiVersion=2),settings}));var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),create_higher_order_component=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),toolbar_group=__webpack_require__("./packages/components/build-module/toolbar/toolbar-group/index.js"),style_provider=__webpack_require__("./packages/components/build-module/style-provider/index.js"),use_select=__webpack_require__("./packages/data/build-module/components/use-select/index.js"),slot_fill=__webpack_require__("./packages/components/build-module/slot-fill/index.js");const block_controls_groups={default:(0,slot_fill.up)("BlockControls"),block:(0,slot_fill.up)("BlockControlsBlock"),inline:(0,slot_fill.up)("BlockFormatControls"),other:(0,slot_fill.up)("BlockControlsOther"),parent:(0,slot_fill.up)("BlockControlsParent")};var data_build_module=__webpack_require__("./packages/data/build-module/index.js"),redux_store=__webpack_require__("./packages/data/build-module/redux-store/index.js"),es6=__webpack_require__("./node_modules/fast-deep-equal/es6/index.js"),es6_default=__webpack_require__.n(es6),pipe=__webpack_require__("./packages/compose/build-module/higher-order/pipe.js"),build_module_select=__webpack_require__("./packages/data/build-module/select.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js");const PREFERENCES_DEFAULTS={insertUsage:{}},SETTINGS_DEFAULTS={alignWide:!1,supportsLayout:!0,colors:[{name:(0,i18n_build_module.__)("Black"),slug:"black",color:"#000000"},{name:(0,i18n_build_module.__)("Cyan bluish gray"),slug:"cyan-bluish-gray",color:"#abb8c3"},{name:(0,i18n_build_module.__)("White"),slug:"white",color:"#ffffff"},{name:(0,i18n_build_module.__)("Pale pink"),slug:"pale-pink",color:"#f78da7"},{name:(0,i18n_build_module.__)("Vivid red"),slug:"vivid-red",color:"#cf2e2e"},{name:(0,i18n_build_module.__)("Luminous vivid orange"),slug:"luminous-vivid-orange",color:"#ff6900"},{name:(0,i18n_build_module.__)("Luminous vivid amber"),slug:"luminous-vivid-amber",color:"#fcb900"},{name:(0,i18n_build_module.__)("Light green cyan"),slug:"light-green-cyan",color:"#7bdcb5"},{name:(0,i18n_build_module.__)("Vivid green cyan"),slug:"vivid-green-cyan",color:"#00d084"},{name:(0,i18n_build_module.__)("Pale cyan blue"),slug:"pale-cyan-blue",color:"#8ed1fc"},{name:(0,i18n_build_module.__)("Vivid cyan blue"),slug:"vivid-cyan-blue",color:"#0693e3"},{name:(0,i18n_build_module.__)("Vivid purple"),slug:"vivid-purple",color:"#9b51e0"}],fontSizes:[{name:(0,i18n_build_module._x)("Small","font size name"),size:13,slug:"small"},{name:(0,i18n_build_module._x)("Normal","font size name"),size:16,slug:"normal"},{name:(0,i18n_build_module._x)("Medium","font size name"),size:20,slug:"medium"},{name:(0,i18n_build_module._x)("Large","font size name"),size:36,slug:"large"},{name:(0,i18n_build_module._x)("Huge","font size name"),size:42,slug:"huge"}],imageDefaultSize:"large",imageSizes:[{slug:"thumbnail",name:(0,i18n_build_module.__)("Thumbnail")},{slug:"medium",name:(0,i18n_build_module.__)("Medium")},{slug:"large",name:(0,i18n_build_module.__)("Large")},{slug:"full",name:(0,i18n_build_module.__)("Full Size")}],imageEditing:!0,maxWidth:580,allowedBlockTypes:!0,maxUploadFileSize:0,allowedMimeTypes:null,canLockBlocks:!0,enableOpenverseMediaCategory:!0,clearBlockSelection:!0,__experimentalCanUserUseUnfilteredHTML:!1,__experimentalBlockDirectory:!1,__mobileEnablePageTemplates:!1,__experimentalBlockPatterns:[],__experimentalBlockPatternCategories:[],__unstableGalleryWithImageBlocks:!1,__unstableIsPreviewMode:!1,blockInspectorAnimation:{animationParent:"core/navigation","core/navigation":{enterDirection:"leftToRight"},"core/navigation-submenu":{enterDirection:"rightToLeft"},"core/navigation-link":{enterDirection:"rightToLeft"},"core/search":{enterDirection:"rightToLeft"},"core/social-links":{enterDirection:"rightToLeft"},"core/page-list":{enterDirection:"rightToLeft"},"core/spacer":{enterDirection:"rightToLeft"},"core/home-link":{enterDirection:"rightToLeft"},"core/site-title":{enterDirection:"rightToLeft"},"core/site-logo":{enterDirection:"rightToLeft"}},generateAnchors:!1,gradients:[{name:(0,i18n_build_module.__)("Vivid cyan blue to vivid purple"),gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:(0,i18n_build_module.__)("Light green cyan to vivid green cyan"),gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:(0,i18n_build_module.__)("Luminous vivid amber to luminous vivid orange"),gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"},{name:(0,i18n_build_module.__)("Luminous vivid orange to vivid red"),gradient:"linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)",slug:"luminous-vivid-orange-to-vivid-red"},{name:(0,i18n_build_module.__)("Very light gray to cyan bluish gray"),gradient:"linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)",slug:"very-light-gray-to-cyan-bluish-gray"},{name:(0,i18n_build_module.__)("Cool to warm spectrum"),gradient:"linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)",slug:"cool-to-warm-spectrum"},{name:(0,i18n_build_module.__)("Blush light purple"),gradient:"linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)",slug:"blush-light-purple"},{name:(0,i18n_build_module.__)("Blush bordeaux"),gradient:"linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)",slug:"blush-bordeaux"},{name:(0,i18n_build_module.__)("Luminous dusk"),gradient:"linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)",slug:"luminous-dusk"},{name:(0,i18n_build_module.__)("Pale ocean"),gradient:"linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)",slug:"pale-ocean"},{name:(0,i18n_build_module.__)("Electric grass"),gradient:"linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)",slug:"electric-grass"},{name:(0,i18n_build_module.__)("Midnight"),gradient:"linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)",slug:"midnight"}],__unstableResolvedAssets:{styles:[],scripts:[]}};function insertAt(array,elements,index){return[...array.slice(0,index),...Array.isArray(elements)?elements:[elements],...array.slice(index)]}function moveTo(array,from,to,count=1){const withoutMovedElements=[...array];return withoutMovedElements.splice(from,count),insertAt(withoutMovedElements,array.slice(from,from+count),to)}const identity=x=>x;function mapBlockOrder(blocks,rootClientId=""){const result=new Map,current=[];return result.set(rootClientId,current),blocks.forEach((block=>{const{clientId,innerBlocks}=block;current.push(clientId),mapBlockOrder(innerBlocks,clientId).forEach(((order,subClientId)=>{result.set(subClientId,order)}))})),result}function mapBlockParents(blocks,rootClientId=""){const result=[],stack=[[rootClientId,blocks]];for(;stack.length;){const[parent,currentBlocks]=stack.shift();currentBlocks.forEach((({innerBlocks,...block})=>{result.push([block.clientId,parent]),innerBlocks?.length&&stack.push([block.clientId,innerBlocks])}))}return result}function flattenBlocks(blocks,transform=identity){const result=[],stack=[...blocks];for(;stack.length;){const{innerBlocks,...block}=stack.shift();stack.push(...innerBlocks),result.push([block.clientId,transform(block)])}return result}function getFlattenedBlocksWithoutAttributes(blocks){return flattenBlocks(blocks,(block=>{const{attributes,...restBlock}=block;return restBlock}))}function getFlattenedBlockAttributes(blocks){return flattenBlocks(blocks,(block=>block.attributes))}function isUpdatingSameBlockAttribute(action,lastAction){return"UPDATE_BLOCK_ATTRIBUTES"===action.type&&void 0!==lastAction&&"UPDATE_BLOCK_ATTRIBUTES"===lastAction.type&&es6_default()(action.clientIds,lastAction.clientIds)&&function hasSameKeys(a,b){return es6_default()(Object.keys(a),Object.keys(b))}(action.attributes,lastAction.attributes)}function updateBlockTreeForBlocks(state,blocks){const treeToUpdate=state.tree,stack=[...blocks],flattenedBlocks=[...blocks];for(;stack.length;){const block=stack.shift();stack.push(...block.innerBlocks),flattenedBlocks.push(...block.innerBlocks)}for(const block of flattenedBlocks)treeToUpdate.set(block.clientId,{});for(const block of flattenedBlocks)treeToUpdate.set(block.clientId,Object.assign(treeToUpdate.get(block.clientId),{...state.byClientId.get(block.clientId),attributes:state.attributes.get(block.clientId),innerBlocks:block.innerBlocks.map((subBlock=>treeToUpdate.get(subBlock.clientId)))}))}function updateParentInnerBlocksInTree(state,updatedClientIds,updateChildrenOfUpdatedClientIds=!1){const treeToUpdate=state.tree,uncontrolledParents=new Set([]),controlledParents=new Set;for(const clientId of updatedClientIds){let current=updateChildrenOfUpdatedClientIds?clientId:state.parents.get(clientId);do{if(state.controlledInnerBlocks[current]){controlledParents.add(current);break}uncontrolledParents.add(current),current=state.parents.get(current)}while(void 0!==current)}for(const clientId of uncontrolledParents)treeToUpdate.set(clientId,{...treeToUpdate.get(clientId)});for(const clientId of uncontrolledParents)treeToUpdate.get(clientId).innerBlocks=(state.order.get(clientId)||[]).map((subClientId=>treeToUpdate.get(subClientId)));for(const clientId of controlledParents)treeToUpdate.set("controlled||"+clientId,{innerBlocks:(state.order.get(clientId)||[]).map((subClientId=>treeToUpdate.get(subClientId)))})}const blocks=(0,pipe.Z)(data_build_module.UY,(reducer=>(state,action)=>{if(state&&"SAVE_REUSABLE_BLOCK_SUCCESS"===action.type){const{id,updatedId}=action;if(id===updatedId)return state;(state={...state}).attributes=new Map(state.attributes),state.attributes.forEach(((attributes,clientId)=>{const{name}=state.byClientId.get(clientId);"core/block"===name&&attributes.ref===id&&state.attributes.set(clientId,{...attributes,ref:updatedId})}))}return reducer(state,action)}),(reducer=>(state={},action)=>{const newState=reducer(state,action);if(newState===state)return state;switch(newState.tree=state.tree?state.tree:new Map,action.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":newState.tree=new Map(newState.tree),updateBlockTreeForBlocks(newState,action.blocks),updateParentInnerBlocksInTree(newState,action.rootClientId?[action.rootClientId]:[""],!0);break;case"UPDATE_BLOCK":newState.tree=new Map(newState.tree),newState.tree.set(action.clientId,{...newState.tree.get(action.clientId),...newState.byClientId.get(action.clientId),attributes:newState.attributes.get(action.clientId)}),updateParentInnerBlocksInTree(newState,[action.clientId],!1);break;case"UPDATE_BLOCK_ATTRIBUTES":newState.tree=new Map(newState.tree),action.clientIds.forEach((clientId=>{newState.tree.set(clientId,{...newState.tree.get(clientId),attributes:newState.attributes.get(clientId)})})),updateParentInnerBlocksInTree(newState,action.clientIds,!1);break;case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const inserterClientIds=function getFlattenedClientIds(blocks){const result={},stack=[...blocks];for(;stack.length;){const{innerBlocks,...block}=stack.shift();stack.push(...innerBlocks),result[block.clientId]=!0}return result}(action.blocks);newState.tree=new Map(newState.tree),action.replacedClientIds.concat(action.replacedClientIds.filter((clientId=>!inserterClientIds[clientId])).map((clientId=>"controlled||"+clientId))).forEach((key=>{newState.tree.delete(key)})),updateBlockTreeForBlocks(newState,action.blocks),updateParentInnerBlocksInTree(newState,action.blocks.map((b=>b.clientId)),!1);const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds)void 0===state.parents.get(clientId)||""!==state.parents.get(clientId)&&!newState.byClientId.get(state.parents.get(clientId))||parentsOfRemovedBlocks.push(state.parents.get(clientId));updateParentInnerBlocksInTree(newState,parentsOfRemovedBlocks,!0);break}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds)void 0===state.parents.get(clientId)||""!==state.parents.get(clientId)&&!newState.byClientId.get(state.parents.get(clientId))||parentsOfRemovedBlocks.push(state.parents.get(clientId));newState.tree=new Map(newState.tree),action.removedClientIds.concat(action.removedClientIds.map((clientId=>"controlled||"+clientId))).forEach((key=>{newState.tree.delete(key)})),updateParentInnerBlocksInTree(newState,parentsOfRemovedBlocks,!0);break;case"MOVE_BLOCKS_TO_POSITION":{const updatedBlockUids=[];action.fromRootClientId?updatedBlockUids.push(action.fromRootClientId):updatedBlockUids.push(""),action.toRootClientId&&updatedBlockUids.push(action.toRootClientId),newState.tree=new Map(newState.tree),updateParentInnerBlocksInTree(newState,updatedBlockUids,!0);break}case"MOVE_BLOCKS_UP":case"MOVE_BLOCKS_DOWN":{const updatedBlockUids=[action.rootClientId?action.rootClientId:""];newState.tree=new Map(newState.tree),updateParentInnerBlocksInTree(newState,updatedBlockUids,!0);break}case"SAVE_REUSABLE_BLOCK_SUCCESS":{const updatedBlockUids=[];newState.attributes.forEach(((attributes,clientId)=>{"core/block"===newState.byClientId.get(clientId).name&&attributes.ref===action.updatedId&&updatedBlockUids.push(clientId)})),newState.tree=new Map(newState.tree),updatedBlockUids.forEach((clientId=>{newState.tree.set(clientId,{...newState.byClientId.get(clientId),attributes:newState.attributes.get(clientId),innerBlocks:newState.tree.get(clientId).innerBlocks})})),updateParentInnerBlocksInTree(newState,updatedBlockUids,!1)}}return newState}),(reducer=>(state,action)=>{const getAllChildren=clientIds=>{let result=clientIds;for(let i=0;i<result.length;i++)!state.order.get(result[i])||action.keepControlledInnerBlocks&&action.keepControlledInnerBlocks[result[i]]||(result===clientIds&&(result=[...result]),result.push(...state.order.get(result[i])));return result};if(state)switch(action.type){case"REMOVE_BLOCKS":action={...action,type:"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN",removedClientIds:getAllChildren(action.clientIds)};break;case"REPLACE_BLOCKS":action={...action,type:"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN",replacedClientIds:getAllChildren(action.clientIds)}}return reducer(state,action)}),(reducer=>(state,action)=>{if("REPLACE_INNER_BLOCKS"!==action.type)return reducer(state,action);const nestedControllers={};if(Object.keys(state.controlledInnerBlocks).length){const stack=[...action.blocks];for(;stack.length;){const{innerBlocks,...block}=stack.shift();stack.push(...innerBlocks),state.controlledInnerBlocks[block.clientId]&&(nestedControllers[block.clientId]=!0)}}let stateAfterBlocksRemoval=state;state.order.get(action.rootClientId)&&(stateAfterBlocksRemoval=reducer(stateAfterBlocksRemoval,{type:"REMOVE_BLOCKS",keepControlledInnerBlocks:nestedControllers,clientIds:state.order.get(action.rootClientId)}));let stateAfterInsert=stateAfterBlocksRemoval;if(action.blocks.length){stateAfterInsert=reducer(stateAfterInsert,{...action,type:"INSERT_BLOCKS",index:0});const stateAfterInsertOrder=new Map(stateAfterInsert.order);Object.keys(nestedControllers).forEach((key=>{state.order.get(key)&&stateAfterInsertOrder.set(key,state.order.get(key))})),stateAfterInsert.order=stateAfterInsertOrder,stateAfterInsert.tree=new Map(stateAfterInsert.tree),Object.keys(nestedControllers).forEach((_key=>{const key=`controlled||${_key}`;state.tree.has(key)&&stateAfterInsert.tree.set(key,state.tree.get(key))}))}return stateAfterInsert}),(reducer=>(state,action)=>{if("RESET_BLOCKS"===action.type){const newState={...state,byClientId:new Map(getFlattenedBlocksWithoutAttributes(action.blocks)),attributes:new Map(getFlattenedBlockAttributes(action.blocks)),order:mapBlockOrder(action.blocks),parents:new Map(mapBlockParents(action.blocks)),controlledInnerBlocks:{}};return newState.tree=new Map(state?.tree),updateBlockTreeForBlocks(newState,action.blocks),newState.tree.set("",{innerBlocks:action.blocks.map((subBlock=>newState.tree.get(subBlock.clientId)))}),newState}return reducer(state,action)}),(function withPersistentBlockChange(reducer){let lastAction,markNextChangeAsNotPersistent=!1;return(state,action)=>{let nextState=reducer(state,action);const isExplicitPersistentChange="MARK_LAST_CHANGE_AS_PERSISTENT"===action.type||markNextChangeAsNotPersistent;if(state===nextState&&!isExplicitPersistentChange){var _state$isPersistentCh;markNextChangeAsNotPersistent="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===action.type;const nextIsPersistentChange=null===(_state$isPersistentCh=state?.isPersistentChange)||void 0===_state$isPersistentCh||_state$isPersistentCh;return state.isPersistentChange===nextIsPersistentChange?state:{...nextState,isPersistentChange:nextIsPersistentChange}}return nextState={...nextState,isPersistentChange:isExplicitPersistentChange?!markNextChangeAsNotPersistent:!isUpdatingSameBlockAttribute(action,lastAction)},lastAction=action,markNextChangeAsNotPersistent="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===action.type,nextState}}),(function withIgnoredBlockChange(reducer){const IGNORED_ACTION_TYPES=new Set(["RECEIVE_BLOCKS"]);return(state,action)=>{const nextState=reducer(state,action);return nextState!==state&&(nextState.isIgnoredChange=IGNORED_ACTION_TYPES.has(action.type)),nextState}}),(reducer=>(state,action)=>{if("SET_HAS_CONTROLLED_INNER_BLOCKS"===action.type){const tempState=reducer(state,{type:"REPLACE_INNER_BLOCKS",rootClientId:action.clientId,blocks:[]});return reducer(tempState,action)}return reducer(state,action)}))({byClientId(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const newState=new Map(state);return getFlattenedBlocksWithoutAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"UPDATE_BLOCK":{if(!state.has(action.clientId))return state;const{attributes,...changes}=action.updates;if(0===Object.values(changes).length)return state;const newState=new Map(state);return newState.set(action.clientId,{...state.get(action.clientId),...changes}),newState}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!action.blocks)return state;const newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),getFlattenedBlocksWithoutAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState}}return state},attributes(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const newState=new Map(state);return getFlattenedBlockAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"UPDATE_BLOCK":{if(!state.get(action.clientId)||!action.updates.attributes)return state;const newState=new Map(state);return newState.set(action.clientId,{...state.get(action.clientId),...action.updates.attributes}),newState}case"UPDATE_BLOCK_ATTRIBUTES":{if(action.clientIds.every((id=>!state.get(id))))return state;let hasChange=!1;const newState=new Map(state);for(const clientId of action.clientIds){var _action$attributes;const updatedAttributeEntries=Object.entries(action.uniqueByBlock?action.attributes[clientId]:null!==(_action$attributes=action.attributes)&&void 0!==_action$attributes?_action$attributes:{});if(0===updatedAttributeEntries.length)continue;let hasUpdatedAttributes=!1;const existingAttributes=state.get(clientId),newAttributes={};updatedAttributeEntries.forEach((([key,value])=>{existingAttributes[key]!==value&&(hasUpdatedAttributes=!0,newAttributes[key]=value)})),hasChange=hasChange||hasUpdatedAttributes,hasUpdatedAttributes&&newState.set(clientId,{...existingAttributes,...newAttributes})}return hasChange?newState:state}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!action.blocks)return state;const newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),getFlattenedBlockAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState}}return state},order(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":{var _state$get;const blockOrder=mapBlockOrder(action.blocks),newState=new Map(state);return blockOrder.forEach(((order,clientId)=>{""!==clientId&&newState.set(clientId,order)})),newState.set("",(null!==(_state$get=state.get(""))&&void 0!==_state$get?_state$get:[]).concat(blockOrder[""])),newState}case"INSERT_BLOCKS":{const{rootClientId=""}=action,subState=state.get(rootClientId)||[],mappedBlocks=mapBlockOrder(action.blocks,rootClientId),{index=subState.length}=action,newState=new Map(state);return mappedBlocks.forEach(((order,clientId)=>{newState.set(clientId,order)})),newState.set(rootClientId,insertAt(subState,mappedBlocks.get(rootClientId),index)),newState}case"MOVE_BLOCKS_TO_POSITION":{var _state$get$filter;const{fromRootClientId="",toRootClientId="",clientIds}=action,{index=state.get(toRootClientId).length}=action;if(fromRootClientId===toRootClientId){const fromIndex=state.get(toRootClientId).indexOf(clientIds[0]),newState=new Map(state);return newState.set(toRootClientId,moveTo(state.get(toRootClientId),fromIndex,index,clientIds.length)),newState}const newState=new Map(state);return newState.set(fromRootClientId,null!==(_state$get$filter=state.get(fromRootClientId)?.filter((id=>!clientIds.includes(id))))&&void 0!==_state$get$filter?_state$get$filter:[]),newState.set(toRootClientId,insertAt(state.get(toRootClientId),clientIds,index)),newState}case"MOVE_BLOCKS_UP":{const{clientIds,rootClientId=""}=action,firstClientId=clientIds[0],subState=state.get(rootClientId);if(!subState.length||firstClientId===subState[0])return state;const firstIndex=subState.indexOf(firstClientId),newState=new Map(state);return newState.set(rootClientId,moveTo(subState,firstIndex,firstIndex-1,clientIds.length)),newState}case"MOVE_BLOCKS_DOWN":{const{clientIds,rootClientId=""}=action,firstClientId=clientIds[0],lastClientId=clientIds[clientIds.length-1],subState=state.get(rootClientId);if(!subState.length||lastClientId===subState[subState.length-1])return state;const firstIndex=subState.indexOf(firstClientId),newState=new Map(state);return newState.set(rootClientId,moveTo(subState,firstIndex,firstIndex+1,clientIds.length)),newState}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const{clientIds}=action;if(!action.blocks)return state;const mappedBlocks=mapBlockOrder(action.blocks),newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),mappedBlocks.forEach(((order,clientId)=>{""!==clientId&&newState.set(clientId,order)})),newState.forEach(((order,clientId)=>{const newSubOrder=Object.values(order).reduce(((result,subClientId)=>subClientId===clientIds[0]?[...result,...mappedBlocks.get("")]:(-1===clientIds.indexOf(subClientId)&&result.push(subClientId),result)),[]);newState.set(clientId,newSubOrder)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState.forEach(((order,clientId)=>{var _order$filter;const newSubOrder=null!==(_order$filter=order?.filter((id=>!action.removedClientIds.includes(id))))&&void 0!==_order$filter?_order$filter:[];newSubOrder.length!==order.length&&newState.set(clientId,newSubOrder)})),newState}}return state},parents(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":{const newState=new Map(state);return mapBlockParents(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"INSERT_BLOCKS":{const newState=new Map(state);return mapBlockParents(action.blocks,action.rootClientId||"").forEach((([key,value])=>{newState.set(key,value)})),newState}case"MOVE_BLOCKS_TO_POSITION":{const newState=new Map(state);return action.clientIds.forEach((id=>{newState.set(id,action.toRootClientId||"")})),newState}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),mapBlockParents(action.blocks,state.get(action.clientIds[0])).forEach((([key,value])=>{newState.set(key,value)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState}}return state},controlledInnerBlocks:(state={},{type,clientId,hasControlledInnerBlocks})=>"SET_HAS_CONTROLLED_INNER_BLOCKS"===type?{...state,[clientId]:hasControlledInnerBlocks}:state});function selectionHelper(state={},action){switch(action.type){case"CLEAR_SELECTED_BLOCK":return state.clientId?{}:state;case"SELECT_BLOCK":return action.clientId===state.clientId?state:{clientId:action.clientId};case"REPLACE_INNER_BLOCKS":case"INSERT_BLOCKS":return action.updateSelection&&action.blocks.length?{clientId:action.blocks[0].clientId}:state;case"REMOVE_BLOCKS":return action.clientIds&&action.clientIds.length&&-1!==action.clientIds.indexOf(state.clientId)?{}:state;case"REPLACE_BLOCKS":{if(-1===action.clientIds.indexOf(state.clientId))return state;const blockToSelect=action.blocks[action.indexToSelect]||action.blocks[action.blocks.length-1];return blockToSelect?blockToSelect.clientId===state.clientId?state:{clientId:blockToSelect.clientId}:{}}}return state}const combinedReducers=(0,data_build_module.UY)({blocks,isTyping:function isTyping(state=!1,action){switch(action.type){case"START_TYPING":return!0;case"STOP_TYPING":return!1}return state},isBlockInterfaceHidden:function isBlockInterfaceHidden(state=!1,action){switch(action.type){case"HIDE_BLOCK_INTERFACE":return!0;case"SHOW_BLOCK_INTERFACE":return!1}return state},draggedBlocks:function draggedBlocks(state=[],action){switch(action.type){case"START_DRAGGING_BLOCKS":return action.clientIds;case"STOP_DRAGGING_BLOCKS":return[]}return state},selection:function selection(state={},action){switch(action.type){case"SELECTION_CHANGE":return action.clientId?{selectionStart:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.startOffset},selectionEnd:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.endOffset}}:{selectionStart:action.start||state.selectionStart,selectionEnd:action.end||state.selectionEnd};case"RESET_SELECTION":const{selectionStart,selectionEnd}=action;return{selectionStart,selectionEnd};case"MULTI_SELECT":const{start,end}=action;return start===state.selectionStart?.clientId&&end===state.selectionEnd?.clientId?state:{selectionStart:{clientId:start},selectionEnd:{clientId:end}};case"RESET_BLOCKS":const startClientId=state?.selectionStart?.clientId,endClientId=state?.selectionEnd?.clientId;if(!startClientId&&!endClientId)return state;if(!action.blocks.some((block=>block.clientId===startClientId)))return{selectionStart:{},selectionEnd:{}};if(!action.blocks.some((block=>block.clientId===endClientId)))return{...state,selectionEnd:state.selectionStart}}const selectionStart=selectionHelper(state.selectionStart,action),selectionEnd=selectionHelper(state.selectionEnd,action);return selectionStart===state.selectionStart&&selectionEnd===state.selectionEnd?state:{selectionStart,selectionEnd}},isMultiSelecting:function isMultiSelecting(state=!1,action){switch(action.type){case"START_MULTI_SELECT":return!0;case"STOP_MULTI_SELECT":return!1}return state},isSelectionEnabled:function isSelectionEnabled(state=!0,action){return"TOGGLE_SELECTION"===action.type?action.isSelectionEnabled:state},initialPosition:function initialPosition(state=null,action){return"REPLACE_BLOCKS"===action.type&&void 0!==action.initialPosition||["MULTI_SELECT","SELECT_BLOCK","RESET_SELECTION","INSERT_BLOCKS","REPLACE_INNER_BLOCKS"].includes(action.type)?action.initialPosition:state},blocksMode:function blocksMode(state={},action){if("TOGGLE_BLOCK_MODE"===action.type){const{clientId}=action;return{...state,[clientId]:state[clientId]&&"html"===state[clientId]?"visual":"html"}}return state},blockListSettings:(state={},action)=>{switch(action.type){case"REPLACE_BLOCKS":case"REMOVE_BLOCKS":return Object.fromEntries(Object.entries(state).filter((([id])=>!action.clientIds.includes(id))));case"UPDATE_BLOCK_LIST_SETTINGS":{const{clientId}=action;if(!action.settings){if(state.hasOwnProperty(clientId)){const{[clientId]:removedBlock,...restBlocks}=state;return restBlocks}return state}return es6_default()(state[clientId],action.settings)?state:{...state,[clientId]:action.settings}}}return state},insertionPoint:function insertionPoint(state=null,action){switch(action.type){case"SHOW_INSERTION_POINT":{const{rootClientId,index,__unstableWithInserter,operation}=action,nextState={rootClientId,index,__unstableWithInserter,operation};return es6_default()(state,nextState)?state:nextState}case"HIDE_INSERTION_POINT":return null}return state},template:function template(state={isValid:!0},action){return"SET_TEMPLATE_VALIDITY"===action.type?{...state,isValid:action.isValid}:state},settings:function settings(state=SETTINGS_DEFAULTS,action){return"UPDATE_SETTINGS"===action.type?{...state,...action.settings}:state},preferences:function preferences(state=PREFERENCES_DEFAULTS,action){switch(action.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":return action.blocks.reduce(((prevState,block)=>{const{attributes,name:blockName}=block;let id=blockName;const match=(0,build_module_select.Y)(build_module.h).getActiveBlockVariation(blockName,attributes);return match?.name&&(id+="/"+match.name),"core/block"===blockName&&(id+="/"+attributes.ref),{...prevState,insertUsage:{...prevState.insertUsage,[id]:{time:action.time,count:prevState.insertUsage[id]?prevState.insertUsage[id].count+1:1}}}}),state)}return state},lastBlockAttributesChange:function lastBlockAttributesChange(state=null,action){switch(action.type){case"UPDATE_BLOCK":if(!action.updates.attributes)break;return{[action.clientId]:action.updates.attributes};case"UPDATE_BLOCK_ATTRIBUTES":return action.clientIds.reduce(((accumulator,id)=>({...accumulator,[id]:action.uniqueByBlock?action.attributes[id]:action.attributes})),{})}return state},editorMode:function editorMode(state="edit",action){return"INSERT_BLOCKS"===action.type&&"navigation"===state?"edit":"SET_EDITOR_MODE"===action.type?action.mode:state},hasBlockMovingClientId:function hasBlockMovingClientId(state=null,action){return"SET_BLOCK_MOVING_MODE"===action.type?action.hasBlockMovingClientId:"SET_EDITOR_MODE"===action.type?null:state},highlightedBlock:function highlightedBlock(state,action){switch(action.type){case"TOGGLE_BLOCK_HIGHLIGHT":const{clientId,isHighlighted}=action;return isHighlighted?clientId:state===clientId?null:state;case"SELECT_BLOCK":if(action.clientId!==state)return null}return state},lastBlockInserted:function lastBlockInserted(state={},action){switch(action.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":case"REPLACE_INNER_BLOCKS":if(!action.blocks.length)return state;const clientIds=action.blocks.map((block=>block.clientId)),source=action.meta?.source;return{clientIds,source};case"RESET_BLOCKS":return{}}return state},temporarilyEditingAsBlocks:function temporarilyEditingAsBlocks(state="",action){return"SET_TEMPORARILY_EDITING_AS_BLOCKS"===action.type?action.temporarilyEditingAsBlocks:state},blockVisibility:function blockVisibility(state={},action){return"SET_BLOCK_VISIBILITY"===action.type?{...state,...action.updates}:state},blockEditingModes:function blockEditingModes(state=new Map,action){switch(action.type){case"SET_BLOCK_EDITING_MODE":return new Map(state).set(action.clientId,action.mode);case"UNSET_BLOCK_EDITING_MODE":{const newState=new Map(state);return newState.delete(action.clientId),newState}case"RESET_BLOCKS":return state.has("")?(new Map).set("",state.get("")):state}return state}});const reducer=function withAutomaticChangeReset(reducer){return(state,action)=>{const nextState=reducer(state,action);return state?(nextState.automaticChangeStatus=state.automaticChangeStatus,"MARK_AUTOMATIC_CHANGE"===action.type?{...nextState,automaticChangeStatus:"pending"}:"MARK_AUTOMATIC_CHANGE_FINAL"===action.type&&"pending"===state.automaticChangeStatus?{...nextState,automaticChangeStatus:"final"}:nextState.blocks===state.blocks&&nextState.selection===state.selection||"final"!==nextState.automaticChangeStatus&&nextState.selection!==state.selection?nextState:{...nextState,automaticChangeStatus:void 0}):nextState}}(combinedReducers);var rememo=__webpack_require__("./node_modules/rememo/rememo.js"),platform=__webpack_require__("./packages/element/build-module/platform.js"),symbol=__webpack_require__("./packages/icons/build-module/library/symbol.js"),rich_text_build_module=__webpack_require__("./packages/rich-text/build-module/index.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js");function mapRichTextSettings(attributeDefinition){const{multiline:multilineTag,__unstableMultilineWrapperTags:multilineWrapperTags,__unstablePreserveWhiteSpace:preserveWhiteSpace}=attributeDefinition;return{multilineTag,multilineWrapperTags,preserveWhiteSpace}}const comparator=(field,items,order)=>(a,b)=>{let cmpA,cmpB;if("function"==typeof field?(cmpA=field(a),cmpB=field(b)):(cmpA=a[field],cmpB=b[field]),cmpA>cmpB)return"asc"===order?1:-1;if(cmpB>cmpA)return"asc"===order?-1:1;const orderA=items.findIndex((item=>item===a)),orderB=items.findIndex((item=>item===b));return orderA>orderB?1:orderB>orderA?-1:0};function orderBy(items,field,order="asc"){return items.concat().sort(comparator(field,items,order))}function private_selectors_isBlockInterfaceHidden(state){return state.isBlockInterfaceHidden}function getLastInsertedBlocksClientIds(state){return state?.lastBlockInserted?.clientIds}const getBlockEditingMode=(0,rememo.Z)(((state,clientId="")=>{if(state.blockEditingModes.has(clientId))return state.blockEditingModes.get(clientId);if(!clientId)return"default";const rootClientId=getBlockRootClientId(state,clientId);if("contentOnly"===getTemplateLock(state,rootClientId)){const name=getBlockName(state,clientId);return(0,build_module_select.Y)(build_module.h).__experimentalHasContentRoleAttribute(name)?"contentOnly":"disabled"}const parentMode=getBlockEditingMode(state,rootClientId);return"contentOnly"===parentMode?"default":parentMode}),(state=>[state.blockEditingModes,state.blocks.parents,state.settings.templateLock,state.blockListSettings])),isBlockSubtreeDisabled=(0,rememo.Z)(((state,clientId)=>{const isChildSubtreeDisabled=childClientId=>{const mode=state.blockEditingModes.get(childClientId);return(void 0===mode||"disabled"===mode)&&getBlockOrder(state,childClientId).every(isChildSubtreeDisabled)};return"disabled"===getBlockEditingMode(state,clientId)&&getBlockOrder(state,clientId).every(isChildSubtreeDisabled)}),(state=>[state.blockEditingModes,state.blocks.parents])),EMPTY_ARRAY=[],EMPTY_SET=new Set;function getBlockName(state,clientId){const block=state.blocks.byClientId.get(clientId);if("web"!==platform.Z.OS&&"core/social-link"===block?.name){const attributes=state.blocks.attributes.get(clientId),{service}=null!=attributes?attributes:{};return service?`core/social-link-${service}`:"core/social-link"}return block?block.name:null}function isBlockValid(state,clientId){const block=state.blocks.byClientId.get(clientId);return!!block&&block.isValid}function getBlockAttributes(state,clientId){return state.blocks.byClientId.get(clientId)?state.blocks.attributes.get(clientId):null}function getBlock(state,clientId){return state.blocks.byClientId.has(clientId)?state.blocks.tree.get(clientId):null}const __unstableGetBlockWithoutInnerBlocks=(0,rememo.Z)(((state,clientId)=>state.blocks.byClientId.has(clientId)?{...state.blocks.byClientId.get(clientId),attributes:getBlockAttributes(state,clientId)}:null),((state,clientId)=>[state.blocks.byClientId.get(clientId),state.blocks.attributes.get(clientId)]));function getBlocks(state,rootClientId){const treeKey=rootClientId&&areInnerBlocksControlled(state,rootClientId)?"controlled||"+rootClientId:rootClientId||"";return state.blocks.tree.get(treeKey)?.innerBlocks||EMPTY_ARRAY}const __unstableGetClientIdWithClientIdsTree=(0,rememo.Z)(((state,clientId)=>({clientId,innerBlocks:__unstableGetClientIdsTree(state,clientId)})),(state=>[state.blocks.order])),__unstableGetClientIdsTree=(0,rememo.Z)(((state,rootClientId="")=>getBlockOrder(state,rootClientId).map((clientId=>__unstableGetClientIdWithClientIdsTree(state,clientId)))),(state=>[state.blocks.order])),getClientIdsOfDescendants=(0,rememo.Z)(((state,clientIds)=>{const collectedIds=[];for(const givenId of clientIds)for(const descendantId of getBlockOrder(state,givenId))collectedIds.push(descendantId,...getClientIdsOfDescendants(state,[descendantId]));return collectedIds}),(state=>[state.blocks.order])),getClientIdsWithDescendants=(0,rememo.Z)((state=>{const collectedIds=[];for(const topLevelId of getBlockOrder(state))collectedIds.push(topLevelId,...getClientIdsOfDescendants(state,[topLevelId]));return collectedIds}),(state=>[state.blocks.order])),getGlobalBlockCount=(0,rememo.Z)(((state,blockName)=>{const clientIds=getClientIdsWithDescendants(state);return blockName?clientIds.reduce(((accumulator,clientId)=>state.blocks.byClientId.get(clientId).name===blockName?accumulator+1:accumulator),0):clientIds.length}),(state=>[state.blocks.order,state.blocks.byClientId])),__experimentalGetGlobalBlocksByName=(0,rememo.Z)(((state,blockName)=>{if(!blockName)return EMPTY_ARRAY;const blockNames=Array.isArray(blockName)?blockName:[blockName],foundBlocks=getClientIdsWithDescendants(state).filter((clientId=>{const block=state.blocks.byClientId.get(clientId);return blockNames.includes(block.name)}));return foundBlocks.length>0?foundBlocks:EMPTY_ARRAY}),(state=>[state.blocks.order,state.blocks.byClientId])),getBlocksByClientId=(0,rememo.Z)(((state,clientIds)=>(Array.isArray(clientIds)?clientIds:[clientIds]).map((clientId=>getBlock(state,clientId)))),((state,clientIds)=>(Array.isArray(clientIds)?clientIds:[clientIds]).map((clientId=>state.blocks.tree.get(clientId))))),getBlockNamesByClientId=(0,rememo.Z)(((state,clientIds)=>getBlocksByClientId(state,clientIds).filter(Boolean).map((block=>block.name))),((state,clientIds)=>getBlocksByClientId(state,clientIds)));function getBlockCount(state,rootClientId){return getBlockOrder(state,rootClientId).length}function getSelectionStart(state){return state.selection.selectionStart}function getSelectionEnd(state){return state.selection.selectionEnd}function getBlockSelectionStart(state){return state.selection.selectionStart.clientId}function getBlockSelectionEnd(state){return state.selection.selectionEnd.clientId}function getSelectedBlockCount(state){const multiSelectedBlockCount=getMultiSelectedBlockClientIds(state).length;return multiSelectedBlockCount||(state.selection.selectionStart.clientId?1:0)}function hasSelectedBlock(state){const{selectionStart,selectionEnd}=state.selection;return!!selectionStart.clientId&&selectionStart.clientId===selectionEnd.clientId}function getSelectedBlockClientId(state){const{selectionStart,selectionEnd}=state.selection,{clientId}=selectionStart;return clientId&&clientId===selectionEnd.clientId?clientId:null}function getSelectedBlock(state){const clientId=getSelectedBlockClientId(state);return clientId?getBlock(state,clientId):null}function getBlockRootClientId(state,clientId){return state.blocks.parents.has(clientId)?state.blocks.parents.get(clientId):null}const getBlockParents=(0,rememo.Z)(((state,clientId,ascending=!1)=>{const parents=[];let current=clientId;for(;state.blocks.parents.get(current);)current=state.blocks.parents.get(current),parents.push(current);return parents.length?ascending?parents:parents.reverse():EMPTY_ARRAY}),(state=>[state.blocks.parents])),getBlockParentsByBlockName=(0,rememo.Z)(((state,clientId,blockName,ascending=!1)=>{const parents=getBlockParents(state,clientId,ascending),hasName=Array.isArray(blockName)?name=>blockName.includes(name):name=>blockName===name;return parents.filter((id=>hasName(getBlockName(state,id))))}),(state=>[state.blocks.parents]));function getBlockHierarchyRootClientId(state,clientId){let parent,current=clientId;do{parent=current,current=state.blocks.parents.get(current)}while(current);return parent}function getLowestCommonAncestorWithSelectedBlock(state,clientId){const selectedId=getSelectedBlockClientId(state),clientParents=[...getBlockParents(state,clientId),clientId],selectedParents=[...getBlockParents(state,selectedId),selectedId];let lowestCommonAncestor;const maxDepth=Math.min(clientParents.length,selectedParents.length);for(let index=0;index<maxDepth&&clientParents[index]===selectedParents[index];index++)lowestCommonAncestor=clientParents[index];return lowestCommonAncestor}function getAdjacentBlockClientId(state,startClientId,modifier=1){if(void 0===startClientId&&(startClientId=getSelectedBlockClientId(state)),void 0===startClientId&&(startClientId=modifier<0?getFirstMultiSelectedBlockClientId(state):getLastMultiSelectedBlockClientId(state)),!startClientId)return null;const rootClientId=getBlockRootClientId(state,startClientId);if(null===rootClientId)return null;const{order}=state.blocks,orderSet=order.get(rootClientId),nextIndex=orderSet.indexOf(startClientId)+1*modifier;return nextIndex<0||nextIndex===orderSet.length?null:orderSet[nextIndex]}function getPreviousBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,-1)}function getNextBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,1)}function getSelectedBlocksInitialCaretPosition(state){return state.initialPosition}const getSelectedBlockClientIds=(0,rememo.Z)((state=>{const{selectionStart,selectionEnd}=state.selection;if(!selectionStart.clientId||!selectionEnd.clientId)return EMPTY_ARRAY;if(selectionStart.clientId===selectionEnd.clientId)return[selectionStart.clientId];const rootClientId=getBlockRootClientId(state,selectionStart.clientId);if(null===rootClientId)return EMPTY_ARRAY;const blockOrder=getBlockOrder(state,rootClientId),startIndex=blockOrder.indexOf(selectionStart.clientId),endIndex=blockOrder.indexOf(selectionEnd.clientId);return startIndex>endIndex?blockOrder.slice(endIndex,startIndex+1):blockOrder.slice(startIndex,endIndex+1)}),(state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]));function getMultiSelectedBlockClientIds(state){const{selectionStart,selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId?EMPTY_ARRAY:getSelectedBlockClientIds(state)}const getMultiSelectedBlocks=(0,rememo.Z)((state=>{const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state);return multiSelectedBlockClientIds.length?multiSelectedBlockClientIds.map((clientId=>getBlock(state,clientId))):EMPTY_ARRAY}),(state=>[...getSelectedBlockClientIds.getDependants(state),state.blocks.byClientId,state.blocks.order,state.blocks.attributes]));function getFirstMultiSelectedBlockClientId(state){return getMultiSelectedBlockClientIds(state)[0]||null}function getLastMultiSelectedBlockClientId(state){const selectedClientIds=getMultiSelectedBlockClientIds(state);return selectedClientIds[selectedClientIds.length-1]||null}function isFirstMultiSelectedBlock(state,clientId){return getFirstMultiSelectedBlockClientId(state)===clientId}function isBlockMultiSelected(state,clientId){return-1!==getMultiSelectedBlockClientIds(state).indexOf(clientId)}const isAncestorMultiSelected=(0,rememo.Z)(((state,clientId)=>{let ancestorClientId=clientId,isMultiSelected=!1;for(;ancestorClientId&&!isMultiSelected;)ancestorClientId=getBlockRootClientId(state,ancestorClientId),isMultiSelected=isBlockMultiSelected(state,ancestorClientId);return isMultiSelected}),(state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]));function getMultiSelectedBlocksStartClientId(state){const{selectionStart,selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId?null:selectionStart.clientId||null}function getMultiSelectedBlocksEndClientId(state){const{selectionStart,selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId?null:selectionEnd.clientId||null}function __unstableIsFullySelected(state){const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);return!selectionAnchor.attributeKey&&!selectionFocus.attributeKey&&void 0===selectionAnchor.offset&&void 0===selectionFocus.offset}function __unstableIsSelectionCollapsed(state){const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);return!!selectionAnchor&&!!selectionFocus&&selectionAnchor.clientId===selectionFocus.clientId&&selectionAnchor.attributeKey===selectionFocus.attributeKey&&selectionAnchor.offset===selectionFocus.offset}function __unstableSelectionHasUnmergeableBlock(state){return getSelectedBlockClientIds(state).some((clientId=>{const blockName=getBlockName(state,clientId);return!(0,build_module.ck)(blockName).merge}))}function __unstableIsSelectionMergeable(state,isForward){const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId)return!1;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return!1;const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);if(anchorRootClientId!==getBlockRootClientId(state,selectionFocus.clientId))return!1;const blockOrder=getBlockOrder(state,anchorRootClientId);let selectionStart,selectionEnd;blockOrder.indexOf(selectionAnchor.clientId)>blockOrder.indexOf(selectionFocus.clientId)?(selectionStart=selectionFocus,selectionEnd=selectionAnchor):(selectionStart=selectionAnchor,selectionEnd=selectionFocus);const targetBlockClientId=isForward?selectionEnd.clientId:selectionStart.clientId,blockToMergeClientId=isForward?selectionStart.clientId:selectionEnd.clientId,targetBlockName=getBlockName(state,targetBlockClientId);if(!(0,build_module.ck)(targetBlockName).merge)return!1;const blockToMerge=getBlock(state,blockToMergeClientId);if(blockToMerge.name===targetBlockName)return!0;const blocksToMerge=(0,build_module.m4)(blockToMerge,targetBlockName);return blocksToMerge&&blocksToMerge.length}const __unstableGetSelectedBlocksWithPartialSelection=state=>{const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId)return EMPTY_ARRAY;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return EMPTY_ARRAY;const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);if(anchorRootClientId!==getBlockRootClientId(state,selectionFocus.clientId))return EMPTY_ARRAY;const blockOrder=getBlockOrder(state,anchorRootClientId),anchorIndex=blockOrder.indexOf(selectionAnchor.clientId),focusIndex=blockOrder.indexOf(selectionFocus.clientId),[selectionStart,selectionEnd]=anchorIndex>focusIndex?[selectionFocus,selectionAnchor]:[selectionAnchor,selectionFocus],blockA=getBlock(state,selectionStart.clientId),blockAType=(0,build_module.ck)(blockA.name),blockB=getBlock(state,selectionEnd.clientId),blockBType=(0,build_module.ck)(blockB.name),htmlA=blockA.attributes[selectionStart.attributeKey],htmlB=blockB.attributes[selectionEnd.attributeKey],attributeDefinitionA=blockAType.attributes[selectionStart.attributeKey],attributeDefinitionB=blockBType.attributes[selectionEnd.attributeKey];let valueA=(0,rich_text_build_module.Ue)({html:htmlA,...mapRichTextSettings(attributeDefinitionA)}),valueB=(0,rich_text_build_module.Ue)({html:htmlB,...mapRichTextSettings(attributeDefinitionB)});return valueA=(0,rich_text_build_module.Od)(valueA,0,selectionStart.offset),valueB=(0,rich_text_build_module.Od)(valueB,selectionEnd.offset,valueB.text.length),[{...blockA,attributes:{...blockA.attributes,[selectionStart.attributeKey]:(0,rich_text_build_module.Jz)({value:valueA,...mapRichTextSettings(attributeDefinitionA)})}},{...blockB,attributes:{...blockB.attributes,[selectionEnd.attributeKey]:(0,rich_text_build_module.Jz)({value:valueB,...mapRichTextSettings(attributeDefinitionB)})}}]};function getBlockOrder(state,rootClientId){return state.blocks.order.get(rootClientId||"")||EMPTY_ARRAY}function getBlockIndex(state,clientId){return getBlockOrder(state,getBlockRootClientId(state,clientId)).indexOf(clientId)}function isBlockSelected(state,clientId){const{selectionStart,selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId&&selectionStart.clientId===clientId}function hasSelectedInnerBlock(state,clientId,deep=!1){return getBlockOrder(state,clientId).some((innerClientId=>isBlockSelected(state,innerClientId)||isBlockMultiSelected(state,innerClientId)||deep&&hasSelectedInnerBlock(state,innerClientId,deep)))}function hasDraggedInnerBlock(state,clientId,deep=!1){return getBlockOrder(state,clientId).some((innerClientId=>isBlockBeingDragged(state,innerClientId)||deep&&hasDraggedInnerBlock(state,innerClientId,deep)))}function isBlockWithinSelection(state,clientId){if(!clientId)return!1;const clientIds=getMultiSelectedBlockClientIds(state),index=clientIds.indexOf(clientId);return index>-1&&index<clientIds.length-1}function hasMultiSelection(state){const{selectionStart,selectionEnd}=state.selection;return selectionStart.clientId!==selectionEnd.clientId}function selectors_isMultiSelecting(state){return state.isMultiSelecting}function selectors_isSelectionEnabled(state){return state.isSelectionEnabled}function getBlockMode(state,clientId){return state.blocksMode[clientId]||"visual"}function selectors_isTyping(state){return state.isTyping}function isDraggingBlocks(state){return!!state.draggedBlocks.length}function getDraggedBlockClientIds(state){return state.draggedBlocks}function isBlockBeingDragged(state,clientId){return state.draggedBlocks.includes(clientId)}function isAncestorBeingDragged(state,clientId){if(!isDraggingBlocks(state))return!1;return getBlockParents(state,clientId).some((parentClientId=>isBlockBeingDragged(state,parentClientId)))}function isCaretWithinFormattedText(){return(0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).isCaretWithinFormattedText',{since:"6.1",version:"6.3"}),!1}const getBlockInsertionPoint=(0,rememo.Z)((state=>{let rootClientId,index;const{insertionPoint,selection:{selectionEnd}}=state;if(null!==insertionPoint)return insertionPoint;const{clientId}=selectionEnd;return clientId?(rootClientId=getBlockRootClientId(state,clientId)||void 0,index=getBlockIndex(state,selectionEnd.clientId)+1):index=getBlockOrder(state).length,{rootClientId,index}}),(state=>[state.insertionPoint,state.selection.selectionEnd.clientId,state.blocks.parents,state.blocks.order]));function isBlockInsertionPointVisible(state){return null!==state.insertionPoint}function isValidTemplate(state){return state.template.isValid}function getTemplate(state){return state.settings.template}function getTemplateLock(state,rootClientId){var _getBlockListSettings,_state$settings$templ;return rootClientId?null!==(_getBlockListSettings=getBlockListSettings(state,rootClientId)?.templateLock)&&void 0!==_getBlockListSettings&&_getBlockListSettings:null!==(_state$settings$templ=state.settings.templateLock)&&void 0!==_state$settings$templ&&_state$settings$templ}const checkAllowList=(list,item,defaultResult=null)=>"boolean"==typeof list?list:Array.isArray(list)?!(!list.includes("core/post-content")||null!==item)||list.includes(item):defaultResult,canInsertBlockTypeUnmemoized=(state,blockName,rootClientId=null)=>{let blockType;if(blockName&&"object"==typeof blockName?(blockType=blockName,blockName=blockType.name):blockType=(0,build_module.ck)(blockName),!blockType)return!1;const{allowedBlockTypes}=getSettings(state);if(!checkAllowList(allowedBlockTypes,blockName,!0))return!1;if(!!getTemplateLock(state,rootClientId))return!1;if("disabled"===getBlockEditingMode(state,null!=rootClientId?rootClientId:""))return!1;const parentBlockListSettings=getBlockListSettings(state,rootClientId);if(rootClientId&&void 0===parentBlockListSettings)return!1;const parentAllowedBlocks=parentBlockListSettings?.allowedBlocks,hasParentAllowedBlock=checkAllowList(parentAllowedBlocks,blockName),blockAllowedParentBlocks=blockType.parent,parentName=getBlockName(state,rootClientId),hasBlockAllowedParent=checkAllowList(blockAllowedParentBlocks,parentName);let hasBlockAllowedAncestor=!0;const blockAllowedAncestorBlocks=blockType.ancestor;if(blockAllowedAncestorBlocks){hasBlockAllowedAncestor=[rootClientId,...getBlockParents(state,rootClientId)].some((ancestorClientId=>checkAllowList(blockAllowedAncestorBlocks,getBlockName(state,ancestorClientId))))}const canInsert=hasBlockAllowedAncestor&&(null===hasParentAllowedBlock&&null===hasBlockAllowedParent||!0===hasParentAllowedBlock||!0===hasBlockAllowedParent);return canInsert?(0,hooks_build_module.O)("blockEditor.__unstableCanInsertBlockType",canInsert,blockType,rootClientId,{getBlock:getBlock.bind(null,state),getBlockParentsByBlockName:getBlockParentsByBlockName.bind(null,state)}):canInsert},canInsertBlockType=(0,rememo.Z)(canInsertBlockTypeUnmemoized,((state,blockName,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId.get(rootClientId),state.settings.allowedBlockTypes,state.settings.templateLock,state.blockEditingModes]));function canInsertBlocks(state,clientIds,rootClientId=null){return clientIds.every((id=>canInsertBlockType(state,getBlockName(state,id),rootClientId)))}function canRemoveBlock(state,clientId,rootClientId=null){const attributes=getBlockAttributes(state,clientId);return null===attributes||!attributes.lock?.remove&&(!getTemplateLock(state,rootClientId)&&"disabled"!==getBlockEditingMode(state,rootClientId))}function canRemoveBlocks(state,clientIds,rootClientId=null){return clientIds.every((clientId=>canRemoveBlock(state,clientId,rootClientId)))}function canMoveBlock(state,clientId,rootClientId=null){const attributes=getBlockAttributes(state,clientId);if(null!==attributes)return!attributes.lock?.move&&("all"!==getTemplateLock(state,rootClientId)&&"disabled"!==getBlockEditingMode(state,rootClientId))}function canMoveBlocks(state,clientIds,rootClientId=null){return clientIds.every((clientId=>canMoveBlock(state,clientId,rootClientId)))}function canEditBlock(state,clientId){const attributes=getBlockAttributes(state,clientId);if(null===attributes)return!0;const{lock}=attributes;return!lock?.edit}function canLockBlockType(state,nameOrType){return!!(0,build_module.zb)(nameOrType,"lock",!0)&&!!state.settings?.canLockBlocks}function getInsertUsage(state,id){var _state$preferences$in;return null!==(_state$preferences$in=state.preferences.insertUsage?.[id])&&void 0!==_state$preferences$in?_state$preferences$in:null}const canIncludeBlockTypeInInserter=(state,blockType,rootClientId)=>!!(0,build_module.zb)(blockType,"inserter",!0)&&canInsertBlockTypeUnmemoized(state,blockType.name,rootClientId),calculateFrecency=(time,count)=>{if(!time)return count;const duration=Date.now()-time;switch(!0){case duration<36e5:return 4*count;case duration<864e5:return 2*count;case duration<6048e5:return count/2;default:return count/4}},buildBlockTypeItem=(state,{buildScope="inserter"})=>blockType=>{const id=blockType.name;let isDisabled=!1;(0,build_module.zb)(blockType.name,"multiple",!0)||(isDisabled=getBlocksByClientId(state,getClientIdsWithDescendants(state)).some((({name})=>name===blockType.name)));const{time,count=0}=getInsertUsage(state,id)||{},blockItemBase={id,name:blockType.name,title:blockType.title,icon:blockType.icon,isDisabled,frecency:calculateFrecency(time,count)};if("transform"===buildScope)return blockItemBase;const inserterVariations=(0,build_module.Nr)(blockType.name,"inserter");return{...blockItemBase,initialAttributes:{},description:blockType.description,category:blockType.category,keywords:blockType.keywords,variations:inserterVariations,example:blockType.example,utility:1}},getInserterItems=(0,rememo.Z)(((state,rootClientId=null)=>{const buildBlockTypeInserterItem=buildBlockTypeItem(state,{buildScope:"inserter"}),blockParserTokenizer=/^\s*<!--\s+(\/)?wp:([a-z][a-z0-9_-]*\/)?([a-z][a-z0-9_-]*)\s+({(?:(?=([^}]+|}+(?=})|(?!}\s+\/?-->)[^])*)\5|[^]*?)}\s+)?(\/)?-->/,blockTypeInserterItems=(0,build_module.U8)().filter((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))).map(buildBlockTypeInserterItem),reusableBlockInserterItems=canInsertBlockTypeUnmemoized(state,"core/block",rootClientId)?getReusableBlocks(state).map((reusableBlock=>{let icon=symbol.Z;if("web"===platform.Z.OS){const rawBlockMatch=("string"==typeof reusableBlock.content.raw?reusableBlock.content.raw:reusableBlock.content).match(blockParserTokenizer);if(rawBlockMatch){const[,,namespace="core/",blockName]=rawBlockMatch,referencedBlockType=(0,build_module.ck)(namespace+blockName);referencedBlockType&&(icon=referencedBlockType.icon)}}const id=`core/block/${reusableBlock.id}`,{time,count=0}=getInsertUsage(state,id)||{},frecency=calculateFrecency(time,count);return{id,name:"core/block",initialAttributes:{ref:reusableBlock.id},title:reusableBlock.title.raw,icon,category:"reusable",keywords:[],isDisabled:!1,utility:1,frecency}})):[],items=blockTypeInserterItems.reduce(((accumulator,item)=>{const{variations=[]}=item;if(variations.some((({isDefault})=>isDefault))||accumulator.push(item),variations.length){const variationMapper=((state,item)=>variation=>{const variationId=`${item.id}/${variation.name}`,{time,count=0}=getInsertUsage(state,variationId)||{};return{...item,id:variationId,icon:variation.icon||item.icon,title:variation.title||item.title,description:variation.description||item.description,category:variation.category||item.category,example:variation.hasOwnProperty("example")?variation.example:item.example,initialAttributes:{...item.initialAttributes,...variation.attributes},innerBlocks:variation.innerBlocks,keywords:variation.keywords||item.keywords,frecency:calculateFrecency(time,count)}})(state,item);accumulator.push(...variations.map(variationMapper))}return accumulator}),[]),{core:coreItems,noncore:nonCoreItems}=items.reduce(((blocks,block)=>{const{core,noncore}=blocks;return(block.name.startsWith("core/")?core:noncore).push(block),blocks}),{core:[],noncore:[]});return[...[...coreItems,...nonCoreItems],...reusableBlockInserterItems]}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.blocks.order,state.preferences.insertUsage,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,build_module.U8)()])),getBlockTransformItems=(0,rememo.Z)(((state,blocks,rootClientId=null)=>{const normalizedBlocks=Array.isArray(blocks)?blocks:[blocks],buildBlockTypeTransformItem=buildBlockTypeItem(state,{buildScope:"transform"}),blockTypeTransformItems=(0,build_module.U8)().filter((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))).map(buildBlockTypeTransformItem),itemsByName=Object.fromEntries(Object.entries(blockTypeTransformItems).map((([,value])=>[value.name,value]))),possibleTransforms=(0,build_module.ff)(normalizedBlocks).reduce(((accumulator,block)=>(itemsByName[block?.name]&&accumulator.push(itemsByName[block.name]),accumulator)),[]);return orderBy(possibleTransforms,(block=>itemsByName[block.name].frecency),"desc")}),((state,blocks,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.preferences.insertUsage,state.settings.allowedBlockTypes,state.settings.templateLock,(0,build_module.U8)()])),hasInserterItems=(0,rememo.Z)(((state,rootClientId=null)=>{if((0,build_module.U8)().some((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))))return!0;return canInsertBlockTypeUnmemoized(state,"core/block",rootClientId)&&getReusableBlocks(state).length>0}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,build_module.U8)()])),getAllowedBlocks=(0,rememo.Z)(((state,rootClientId=null)=>{if(rootClientId)return(0,build_module.U8)().filter((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId)))}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.settings.allowedBlockTypes,state.settings.templateLock,(0,build_module.U8)()])),__experimentalGetAllowedBlocks=(0,rememo.Z)(((state,rootClientId=null)=>((0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).__experimentalGetAllowedBlocks',{alternative:'wp.data.select( "core/block-editor" ).getAllowedBlocks',since:"6.2",version:"6.4"}),getAllowedBlocks(state,rootClientId))),((state,rootClientId)=>[...getAllowedBlocks.getDependants(state,rootClientId)])),__experimentalGetDirectInsertBlock=(0,rememo.Z)(((state,rootClientId=null)=>{if(!rootClientId)return;const defaultBlock=state.blockListSettings[rootClientId]?.__experimentalDefaultBlock,directInsert=state.blockListSettings[rootClientId]?.__experimentalDirectInsert;return defaultBlock&&directInsert?"function"==typeof directInsert?directInsert(getBlock(state,rootClientId))?defaultBlock:null:defaultBlock:void 0}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.tree.get(rootClientId)])),__experimentalGetParsedPattern=(0,rememo.Z)(((state,patternName)=>{const pattern=state.settings.__experimentalBlockPatterns.find((({name})=>name===patternName));return pattern?{...pattern,blocks:(0,build_module.Qc)(pattern.content,{__unstableSkipMigrationLogs:!0})}:null}),(state=>[state.settings.__experimentalBlockPatterns])),getAllAllowedPatterns=(0,rememo.Z)((state=>{const patterns=state.settings.__experimentalBlockPatterns,{allowedBlockTypes}=getSettings(state),parsedPatterns=patterns.filter((({inserter=!0})=>!!inserter)).map((({name})=>__experimentalGetParsedPattern(state,name))),allowedPatterns=parsedPatterns.filter((({blocks})=>((blocks,allowedBlockTypes)=>{if("boolean"==typeof allowedBlockTypes)return allowedBlockTypes;const blocksQueue=[...blocks];for(;blocksQueue.length>0;){const block=blocksQueue.shift();if(!checkAllowList(allowedBlockTypes,block.name||block.blockName,!0))return!1;block.innerBlocks?.forEach((innerBlock=>{blocksQueue.push(innerBlock)}))}return!0})(blocks,allowedBlockTypes)));return allowedPatterns}),(state=>[state.settings.__experimentalBlockPatterns,state.settings.allowedBlockTypes])),__experimentalGetAllowedPatterns=(0,rememo.Z)(((state,rootClientId=null)=>{const patternsAllowed=getAllAllowedPatterns(state).filter((({blocks})=>blocks.every((({name})=>canInsertBlockType(state,name,rootClientId)))));return patternsAllowed}),((state,rootClientId)=>[state.settings.__experimentalBlockPatterns,state.settings.allowedBlockTypes,state.settings.templateLock,state.blockListSettings[rootClientId],state.blocks.byClientId.get(rootClientId)])),getPatternsByBlockTypes=(0,rememo.Z)(((state,blockNames,rootClientId=null)=>{if(!blockNames)return EMPTY_ARRAY;const patterns=__experimentalGetAllowedPatterns(state,rootClientId),normalizedBlockNames=Array.isArray(blockNames)?blockNames:[blockNames],filteredPatterns=patterns.filter((pattern=>pattern?.blockTypes?.some?.((blockName=>normalizedBlockNames.includes(blockName)))));return 0===filteredPatterns.length?EMPTY_ARRAY:filteredPatterns}),((state,blockNames,rootClientId)=>[...__experimentalGetAllowedPatterns.getDependants(state,rootClientId)])),__experimentalGetPatternsByBlockTypes=(0,rememo.Z)(((state,blockNames,rootClientId=null)=>((0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).__experimentalGetPatternsByBlockTypes',{alternative:'wp.data.select( "core/block-editor" ).getPatternsByBlockTypes',since:"6.2",version:"6.4"}),getPatternsByBlockTypes(state,blockNames,rootClientId))),((state,blockNames,rootClientId)=>[...__experimentalGetAllowedPatterns.getDependants(state,rootClientId)])),__experimentalGetPatternTransformItems=(0,rememo.Z)(((state,blocks,rootClientId=null)=>{if(!blocks)return EMPTY_ARRAY;if(blocks.some((({clientId,innerBlocks})=>innerBlocks.length||areInnerBlocksControlled(state,clientId))))return EMPTY_ARRAY;const selectedBlockNames=Array.from(new Set(blocks.map((({name})=>name))));return getPatternsByBlockTypes(state,selectedBlockNames,rootClientId)}),((state,blocks,rootClientId)=>[...getPatternsByBlockTypes.getDependants(state,rootClientId)]));function getBlockListSettings(state,clientId){return state.blockListSettings[clientId]}function getSettings(state){return state.settings}function getBehaviors(state){return state.settings.behaviors}function isLastBlockChangePersistent(state){return state.blocks.isPersistentChange}const __experimentalGetBlockListSettingsForBlocks=(0,rememo.Z)(((state,clientIds=[])=>clientIds.reduce(((blockListSettingsForBlocks,clientId)=>state.blockListSettings[clientId]?{...blockListSettingsForBlocks,[clientId]:state.blockListSettings[clientId]}:blockListSettingsForBlocks),{})),(state=>[state.blockListSettings])),__experimentalGetReusableBlockTitle=(0,rememo.Z)(((state,ref)=>{const reusableBlock=getReusableBlocks(state).find((block=>block.id===ref));return reusableBlock?reusableBlock.title?.raw:null}),(state=>[getReusableBlocks(state)]));function __unstableIsLastBlockChangeIgnored(state){return state.blocks.isIgnoredChange}function __experimentalGetLastBlockAttributeChanges(state){return state.lastBlockAttributesChange}function getReusableBlocks(state){var _state$settings$__exp;return null!==(_state$settings$__exp=state?.settings?.__experimentalReusableBlocks)&&void 0!==_state$settings$__exp?_state$settings$__exp:EMPTY_ARRAY}function isNavigationMode(state){return"navigation"===state.editorMode}function __unstableGetEditorMode(state){return state.editorMode}function selectors_hasBlockMovingClientId(state){return state.hasBlockMovingClientId}function didAutomaticChange(state){return!!state.automaticChangeStatus}function isBlockHighlighted(state,clientId){return state.highlightedBlock===clientId}function areInnerBlocksControlled(state,clientId){return!!state.blocks.controlledInnerBlocks[clientId]}const __experimentalGetActiveBlockIdByBlockNames=(0,rememo.Z)(((state,validBlockNames)=>{if(!validBlockNames.length)return null;const selectedBlockClientId=getSelectedBlockClientId(state);if(validBlockNames.includes(getBlockName(state,selectedBlockClientId)))return selectedBlockClientId;const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state),entityAreaParents=getBlockParentsByBlockName(state,selectedBlockClientId||multiSelectedBlockClientIds[0],validBlockNames);return entityAreaParents?entityAreaParents[entityAreaParents.length-1]:null}),((state,validBlockNames)=>[state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId,validBlockNames]));function wasBlockJustInserted(state,clientId,source){const{lastBlockInserted}=state;return lastBlockInserted.clientIds?.includes(clientId)&&lastBlockInserted.source===source}function isBlockVisible(state,clientId){var _state$blockVisibilit;return null===(_state$blockVisibilit=state.blockVisibility?.[clientId])||void 0===_state$blockVisibilit||_state$blockVisibilit}const __unstableGetVisibleBlocks=(0,rememo.Z)((state=>{const visibleBlocks=new Set(Object.keys(state.blockVisibility).filter((key=>state.blockVisibility[key])));return 0===visibleBlocks.size?EMPTY_SET:visibleBlocks}),(state=>[state.blockVisibility])),__unstableGetContentLockingParent=(0,rememo.Z)(((state,clientId)=>{let result,current=clientId;for(;state.blocks.parents.has(current);)current=state.blocks.parents.get(current),current&&"contentOnly"===getTemplateLock(state,current)&&(result=current);return result}),(state=>[state.blocks.parents,state.blockListSettings]));function __unstableGetTemporarilyEditingAsBlocks(state){return state.temporarilyEditingAsBlocks}function __unstableHasActiveBlockOverlayActive(state,clientId){if("disabled"===getBlockEditingMode(state,clientId))return!1;if(!canEditBlock(state,clientId))return!0;const editorMode=__unstableGetEditorMode(state);if("zoom-out"===editorMode&&clientId&&!getBlockRootClientId(state,clientId))return!0;const blockSupportDisable=(0,build_module.zb)(getBlockName(state,clientId),"__experimentalDisableBlockOverlay",!1);return("navigation"===editorMode||!blockSupportDisable&&areInnerBlocksControlled(state,clientId))&&!isBlockSelected(state,clientId)&&!hasSelectedInnerBlock(state,clientId,!0)}function __unstableIsWithinBlockOverlay(state,clientId){let parent=state.blocks.parents.get(clientId);for(;parent;){if(__unstableHasActiveBlockOverlayActive(state,parent))return!0;parent=state.blocks.parents.get(parent)}return!1}const privateSettings=["inserterMediaCategories","blockInspectorAnimation"];function __experimentalUpdateSettings(settings,stripExperimentalSettings=!1){let cleanSettings=settings;if(stripExperimentalSettings&&"web"===platform.Z.OS){cleanSettings={};for(const key in settings)privateSettings.includes(key)||(cleanSettings[key]=settings[key])}return{type:"UPDATE_SETTINGS",settings:cleanSettings}}function hideBlockInterface(){return{type:"HIDE_BLOCK_INTERFACE"}}function showBlockInterface(){return{type:"SHOW_BLOCK_INTERFACE"}}function setBlockEditingMode(clientId="",mode){return{type:"SET_BLOCK_EDITING_MODE",clientId,mode}}function unsetBlockEditingMode(clientId=""){return{type:"UNSET_BLOCK_EDITING_MODE",clientId}}var a11y_build_module=__webpack_require__("./packages/a11y/build-module/index.js");const START_OF_SELECTED_AREA="";function retrieveSelectedAttribute(blockAttributes){if(blockAttributes)return Object.keys(blockAttributes).find((name=>{const value=blockAttributes[name];return"string"==typeof value&&-1!==value.indexOf(START_OF_SELECTED_AREA)}))}const castArray=maybeArray=>Array.isArray(maybeArray)?maybeArray:[maybeArray],resetBlocks=blocks=>({dispatch})=>{dispatch({type:"RESET_BLOCKS",blocks}),dispatch(validateBlocksToTemplate(blocks))},validateBlocksToTemplate=blocks=>({select,dispatch})=>{const template=select.getTemplate(),templateLock=select.getTemplateLock(),isBlocksValidToTemplate=!template||"all"!==templateLock||(0,build_module.aW)(blocks,template);if(isBlocksValidToTemplate!==select.isValidTemplate())return dispatch.setTemplateValidity(isBlocksValidToTemplate),isBlocksValidToTemplate};function resetSelection(selectionStart,selectionEnd,initialPosition){return{type:"RESET_SELECTION",selectionStart,selectionEnd,initialPosition}}function receiveBlocks(blocks){return(0,deprecated_build_module.Z)('wp.data.dispatch( "core/block-editor" ).receiveBlocks',{since:"5.9",alternative:"resetBlocks or insertBlocks"}),{type:"RECEIVE_BLOCKS",blocks}}function updateBlockAttributes(clientIds,attributes,uniqueByBlock=!1){return{type:"UPDATE_BLOCK_ATTRIBUTES",clientIds:castArray(clientIds),attributes,uniqueByBlock}}function updateBlock(clientId,updates){return{type:"UPDATE_BLOCK",clientId,updates}}function selectBlock(clientId,initialPosition=0){return{type:"SELECT_BLOCK",initialPosition,clientId}}const selectPreviousBlock=(clientId,fallbackToParent=!1)=>({select,dispatch})=>{const previousBlockClientId=select.getPreviousBlockClientId(clientId);if(previousBlockClientId)dispatch.selectBlock(previousBlockClientId,-1);else if(fallbackToParent){const firstParentClientId=select.getBlockRootClientId(clientId);firstParentClientId&&dispatch.selectBlock(firstParentClientId,-1)}},selectNextBlock=clientId=>({select,dispatch})=>{const nextBlockClientId=select.getNextBlockClientId(clientId);nextBlockClientId&&dispatch.selectBlock(nextBlockClientId)};function startMultiSelect(){return{type:"START_MULTI_SELECT"}}function stopMultiSelect(){return{type:"STOP_MULTI_SELECT"}}const multiSelect=(start,end,__experimentalInitialPosition=0)=>({select,dispatch})=>{if(select.getBlockRootClientId(start)!==select.getBlockRootClientId(end))return;dispatch({type:"MULTI_SELECT",start,end,initialPosition:__experimentalInitialPosition});const blockCount=select.getSelectedBlockCount();(0,a11y_build_module.D)((0,i18n_build_module.gB)((0,i18n_build_module._n)("%s block selected.","%s blocks selected.",blockCount),blockCount),"assertive")};function clearSelectedBlock(){return{type:"CLEAR_SELECTED_BLOCK"}}function toggleSelection(isSelectionEnabled=!0){return{type:"TOGGLE_SELECTION",isSelectionEnabled}}function getBlocksWithDefaultStylesApplied(blocks,blockEditorSettings){var _blockEditorSettings$;const preferredStyleVariations=null!==(_blockEditorSettings$=blockEditorSettings?.__experimentalPreferredStyleVariations?.value)&&void 0!==_blockEditorSettings$?_blockEditorSettings$:{};return blocks.map((block=>{const blockName=block.name;if(!(0,build_module.zb)(blockName,"defaultStylePicker",!0))return block;if(!preferredStyleVariations[blockName])return block;const className=block.attributes?.className;if(className?.includes("is-style-"))return block;const{attributes={}}=block,blockStyle=preferredStyleVariations[blockName];return{...block,attributes:{...attributes,className:`${className||""} is-style-${blockStyle}`.trim()}}}))}const replaceBlocks=(clientIds,blocks,indexToSelect,initialPosition=0,meta)=>({select,dispatch})=>{clientIds=castArray(clientIds),blocks=getBlocksWithDefaultStylesApplied(castArray(blocks),select.getSettings());const rootClientId=select.getBlockRootClientId(clientIds[0]);for(let index=0;index<blocks.length;index++){const block=blocks[index];if(!select.canInsertBlockType(block.name,rootClientId))return}dispatch({type:"REPLACE_BLOCKS",clientIds,blocks,time:Date.now(),indexToSelect,initialPosition,meta}),dispatch((({select,dispatch})=>{if(select.getBlockCount()>0)return;const{__unstableHasCustomAppender}=select.getSettings();__unstableHasCustomAppender||dispatch.insertDefaultBlock()}))};function replaceBlock(clientId,block){return replaceBlocks(clientId,block)}const createOnMove=type=>(clientIds,rootClientId)=>({select,dispatch})=>{select.canMoveBlocks(clientIds,rootClientId)&&dispatch({type,clientIds:castArray(clientIds),rootClientId})},moveBlocksDown=createOnMove("MOVE_BLOCKS_DOWN"),moveBlocksUp=createOnMove("MOVE_BLOCKS_UP"),moveBlocksToPosition=(clientIds,fromRootClientId="",toRootClientId="",index)=>({select,dispatch})=>{if(select.canMoveBlocks(clientIds,fromRootClientId)){if(fromRootClientId!==toRootClientId){if(!select.canRemoveBlocks(clientIds,fromRootClientId))return;if(!select.canInsertBlocks(clientIds,toRootClientId))return}dispatch({type:"MOVE_BLOCKS_TO_POSITION",fromRootClientId,toRootClientId,clientIds,index})}};function moveBlockToPosition(clientId,fromRootClientId="",toRootClientId="",index){return moveBlocksToPosition([clientId],fromRootClientId,toRootClientId,index)}function insertBlock(block,index,rootClientId,updateSelection,meta){return insertBlocks([block],index,rootClientId,updateSelection,0,meta)}const insertBlocks=(blocks,index,rootClientId,updateSelection=!0,initialPosition=0,meta)=>({select,dispatch})=>{null!==initialPosition&&"object"==typeof initialPosition&&(meta=initialPosition,initialPosition=0,(0,deprecated_build_module.Z)("meta argument in wp.data.dispatch('core/block-editor')",{since:"5.8",hint:"The meta argument is now the 6th argument of the function"})),blocks=getBlocksWithDefaultStylesApplied(castArray(blocks),select.getSettings());const allowedBlocks=[];for(const block of blocks){select.canInsertBlockType(block.name,rootClientId)&&allowedBlocks.push(block)}allowedBlocks.length&&dispatch({type:"INSERT_BLOCKS",blocks:allowedBlocks,index,rootClientId,time:Date.now(),updateSelection,initialPosition:updateSelection?initialPosition:null,meta})};function showInsertionPoint(rootClientId,index,__unstableOptions={}){const{__unstableWithInserter,operation}=__unstableOptions;return{type:"SHOW_INSERTION_POINT",rootClientId,index,__unstableWithInserter,operation}}const hideInsertionPoint=()=>({select,dispatch})=>{select.isBlockInsertionPointVisible()&&dispatch({type:"HIDE_INSERTION_POINT"})};function setTemplateValidity(isValid){return{type:"SET_TEMPLATE_VALIDITY",isValid}}const synchronizeTemplate=()=>({select,dispatch})=>{dispatch({type:"SYNCHRONIZE_TEMPLATE"});const blocks=select.getBlocks(),template=select.getTemplate(),updatedBlockList=(0,build_module.fw)(blocks,template);dispatch.resetBlocks(updatedBlockList)},__unstableDeleteSelection=isForward=>({registry,select,dispatch})=>{const selectionAnchor=select.getSelectionStart(),selectionFocus=select.getSelectionEnd();if(selectionAnchor.clientId===selectionFocus.clientId)return;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return!1;const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);if(anchorRootClientId!==select.getBlockRootClientId(selectionFocus.clientId))return;const blockOrder=select.getBlockOrder(anchorRootClientId);let selectionStart,selectionEnd;blockOrder.indexOf(selectionAnchor.clientId)>blockOrder.indexOf(selectionFocus.clientId)?(selectionStart=selectionFocus,selectionEnd=selectionAnchor):(selectionStart=selectionAnchor,selectionEnd=selectionFocus);const targetSelection=isForward?selectionEnd:selectionStart,targetBlock=select.getBlock(targetSelection.clientId),targetBlockType=(0,build_module.ck)(targetBlock.name);if(!targetBlockType.merge)return;const selectionA=selectionStart,selectionB=selectionEnd,blockA=select.getBlock(selectionA.clientId),blockAType=(0,build_module.ck)(blockA.name),blockB=select.getBlock(selectionB.clientId),blockBType=(0,build_module.ck)(blockB.name),htmlA=blockA.attributes[selectionA.attributeKey],htmlB=blockB.attributes[selectionB.attributeKey],attributeDefinitionA=blockAType.attributes[selectionA.attributeKey],attributeDefinitionB=blockBType.attributes[selectionB.attributeKey];let valueA=(0,rich_text_build_module.Ue)({html:htmlA,...mapRichTextSettings(attributeDefinitionA)}),valueB=(0,rich_text_build_module.Ue)({html:htmlB,...mapRichTextSettings(attributeDefinitionB)});valueA=(0,rich_text_build_module.Od)(valueA,selectionA.offset,valueA.text.length),valueB=(0,rich_text_build_module.$T)(valueB,START_OF_SELECTED_AREA,0,selectionB.offset);const cloneA=(0,build_module.Wm)(blockA,{[selectionA.attributeKey]:(0,rich_text_build_module.Jz)({value:valueA,...mapRichTextSettings(attributeDefinitionA)})}),cloneB=(0,build_module.Wm)(blockB,{[selectionB.attributeKey]:(0,rich_text_build_module.Jz)({value:valueB,...mapRichTextSettings(attributeDefinitionB)})}),followingBlock=isForward?cloneA:cloneB,blocksWithTheSameType=blockA.name===blockB.name?[followingBlock]:(0,build_module.m4)(followingBlock,targetBlockType.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length)return;let updatedAttributes;if(isForward){const blockToMerge=blocksWithTheSameType.pop();updatedAttributes=targetBlockType.merge(blockToMerge.attributes,cloneB.attributes)}else{const blockToMerge=blocksWithTheSameType.shift();updatedAttributes=targetBlockType.merge(cloneA.attributes,blockToMerge.attributes)}const newAttributeKey=retrieveSelectedAttribute(updatedAttributes),convertedHtml=updatedAttributes[newAttributeKey],convertedValue=(0,rich_text_build_module.Ue)({html:convertedHtml,...mapRichTextSettings(targetBlockType.attributes[newAttributeKey])}),newOffset=convertedValue.text.indexOf(START_OF_SELECTED_AREA),newValue=(0,rich_text_build_module.Od)(convertedValue,newOffset,newOffset+1),newHtml=(0,rich_text_build_module.Jz)({value:newValue,...mapRichTextSettings(targetBlockType.attributes[newAttributeKey])});updatedAttributes[newAttributeKey]=newHtml;const selectedBlockClientIds=select.getSelectedBlockClientIds(),replacement=[...isForward?blocksWithTheSameType:[],{...targetBlock,attributes:{...targetBlock.attributes,...updatedAttributes}},...isForward?[]:blocksWithTheSameType];registry.batch((()=>{dispatch.selectionChange(targetBlock.clientId,newAttributeKey,newOffset,newOffset),dispatch.replaceBlocks(selectedBlockClientIds,replacement,0,select.getSelectedBlocksInitialCaretPosition())}))},__unstableSplitSelection=()=>({select,dispatch})=>{const selectionAnchor=select.getSelectionStart(),selectionFocus=select.getSelectionEnd();if(selectionAnchor.clientId===selectionFocus.clientId)return;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return;const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);if(anchorRootClientId!==select.getBlockRootClientId(selectionFocus.clientId))return;const blockOrder=select.getBlockOrder(anchorRootClientId);let selectionStart,selectionEnd;blockOrder.indexOf(selectionAnchor.clientId)>blockOrder.indexOf(selectionFocus.clientId)?(selectionStart=selectionFocus,selectionEnd=selectionAnchor):(selectionStart=selectionAnchor,selectionEnd=selectionFocus);const selectionA=selectionStart,selectionB=selectionEnd,blockA=select.getBlock(selectionA.clientId),blockAType=(0,build_module.ck)(blockA.name),blockB=select.getBlock(selectionB.clientId),blockBType=(0,build_module.ck)(blockB.name),htmlA=blockA.attributes[selectionA.attributeKey],htmlB=blockB.attributes[selectionB.attributeKey],attributeDefinitionA=blockAType.attributes[selectionA.attributeKey],attributeDefinitionB=blockBType.attributes[selectionB.attributeKey];let valueA=(0,rich_text_build_module.Ue)({html:htmlA,...mapRichTextSettings(attributeDefinitionA)}),valueB=(0,rich_text_build_module.Ue)({html:htmlB,...mapRichTextSettings(attributeDefinitionB)});valueA=(0,rich_text_build_module.Od)(valueA,selectionA.offset,valueA.text.length),valueB=(0,rich_text_build_module.Od)(valueB,0,selectionB.offset),dispatch.replaceBlocks(select.getSelectedBlockClientIds(),[{...blockA,attributes:{...blockA.attributes,[selectionA.attributeKey]:(0,rich_text_build_module.Jz)({value:valueA,...mapRichTextSettings(attributeDefinitionA)})}},(0,build_module.j4)((0,build_module.UT)()),{...blockB,attributes:{...blockB.attributes,[selectionB.attributeKey]:(0,rich_text_build_module.Jz)({value:valueB,...mapRichTextSettings(attributeDefinitionB)})}}],1,select.getSelectedBlocksInitialCaretPosition())},__unstableExpandSelection=()=>({select,dispatch})=>{const selectionAnchor=select.getSelectionStart(),selectionFocus=select.getSelectionEnd();dispatch.selectionChange({start:{clientId:selectionAnchor.clientId},end:{clientId:selectionFocus.clientId}})},mergeBlocks=(firstBlockClientId,secondBlockClientId)=>({registry,select,dispatch})=>{const blocks=[firstBlockClientId,secondBlockClientId];dispatch({type:"MERGE_BLOCKS",blocks});const[clientIdA,clientIdB]=blocks,blockA=select.getBlock(clientIdA),blockAType=(0,build_module.ck)(blockA.name);if(!blockAType)return;const blockB=select.getBlock(clientIdB);if(blockAType&&!blockAType.merge){const blocksWithTheSameType=(0,build_module.m4)(blockB,blockAType.name);if(1!==blocksWithTheSameType?.length)return void dispatch.selectBlock(blockA.clientId);const[blockWithSameType]=blocksWithTheSameType;return blockWithSameType.innerBlocks.length<1?void dispatch.selectBlock(blockA.clientId):void registry.batch((()=>{dispatch.insertBlocks(blockWithSameType.innerBlocks,void 0,clientIdA),dispatch.removeBlock(clientIdB),dispatch.selectBlock(blockWithSameType.innerBlocks[0].clientId)}))}const blockBType=(0,build_module.ck)(blockB.name),{clientId,attributeKey,offset}=select.getSelectionStart(),attributeDefinition=(clientId===clientIdA?blockAType:blockBType).attributes[attributeKey],canRestoreTextSelection=(clientId===clientIdA||clientId===clientIdB)&&void 0!==attributeKey&&void 0!==offset&&!!attributeDefinition;attributeDefinition||("number"==typeof attributeKey?window.console.error("RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was "+typeof attributeKey):window.console.error("The RichText identifier prop does not match any attributes defined by the block."));const cloneA=(0,build_module.Wm)(blockA),cloneB=(0,build_module.Wm)(blockB);if(canRestoreTextSelection){const selectedBlock=clientId===clientIdA?cloneA:cloneB,html=selectedBlock.attributes[attributeKey],value=(0,rich_text_build_module.$T)((0,rich_text_build_module.Ue)({html,...mapRichTextSettings(attributeDefinition)}),START_OF_SELECTED_AREA,offset,offset);selectedBlock.attributes[attributeKey]=(0,rich_text_build_module.Jz)({value,...mapRichTextSettings(attributeDefinition)})}const blocksWithTheSameType=blockA.name===blockB.name?[cloneB]:(0,build_module.m4)(cloneB,blockA.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length)return;const updatedAttributes=blockAType.merge(cloneA.attributes,blocksWithTheSameType[0].attributes);if(canRestoreTextSelection){const newAttributeKey=retrieveSelectedAttribute(updatedAttributes),convertedHtml=updatedAttributes[newAttributeKey],convertedValue=(0,rich_text_build_module.Ue)({html:convertedHtml,...mapRichTextSettings(blockAType.attributes[newAttributeKey])}),newOffset=convertedValue.text.indexOf(START_OF_SELECTED_AREA),newValue=(0,rich_text_build_module.Od)(convertedValue,newOffset,newOffset+1),newHtml=(0,rich_text_build_module.Jz)({value:newValue,...mapRichTextSettings(blockAType.attributes[newAttributeKey])});updatedAttributes[newAttributeKey]=newHtml,dispatch.selectionChange(blockA.clientId,newAttributeKey,newOffset,newOffset)}dispatch.replaceBlocks([blockA.clientId,blockB.clientId],[{...blockA,attributes:{...blockA.attributes,...updatedAttributes}},...blocksWithTheSameType.slice(1)],0)},removeBlocks=(clientIds,selectPrevious=!0)=>({select,dispatch})=>{if(!clientIds||!clientIds.length)return;clientIds=castArray(clientIds);const rootClientId=select.getBlockRootClientId(clientIds[0]);select.canRemoveBlocks(clientIds,rootClientId)&&(selectPrevious&&dispatch.selectPreviousBlock(clientIds[0],selectPrevious),dispatch({type:"REMOVE_BLOCKS",clientIds}),dispatch((({select,dispatch})=>{if(select.getBlockCount()>0)return;const{__unstableHasCustomAppender}=select.getSettings();__unstableHasCustomAppender||dispatch.insertDefaultBlock()})))};function removeBlock(clientId,selectPrevious){return removeBlocks([clientId],selectPrevious)}function replaceInnerBlocks(rootClientId,blocks,updateSelection=!1,initialPosition=0){return{type:"REPLACE_INNER_BLOCKS",rootClientId,blocks,updateSelection,initialPosition:updateSelection?initialPosition:null,time:Date.now()}}function toggleBlockMode(clientId){return{type:"TOGGLE_BLOCK_MODE",clientId}}function startTyping(){return{type:"START_TYPING"}}function stopTyping(){return{type:"STOP_TYPING"}}function startDraggingBlocks(clientIds=[]){return{type:"START_DRAGGING_BLOCKS",clientIds}}function stopDraggingBlocks(){return{type:"STOP_DRAGGING_BLOCKS"}}function enterFormattedText(){return(0,deprecated_build_module.Z)('wp.data.dispatch( "core/block-editor" ).enterFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}}function exitFormattedText(){return(0,deprecated_build_module.Z)('wp.data.dispatch( "core/block-editor" ).exitFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}}function selectionChange(clientId,attributeKey,startOffset,endOffset){return"string"==typeof clientId?{type:"SELECTION_CHANGE",clientId,attributeKey,startOffset,endOffset}:{type:"SELECTION_CHANGE",...clientId}}const insertDefaultBlock=(attributes,rootClientId,index)=>({dispatch})=>{const defaultBlockName=(0,build_module.UT)();if(!defaultBlockName)return;const block=(0,build_module.j4)(defaultBlockName,attributes);return dispatch.insertBlock(block,index,rootClientId)};function updateBlockListSettings(clientId,settings){return{type:"UPDATE_BLOCK_LIST_SETTINGS",clientId,settings}}function updateSettings(settings){return __experimentalUpdateSettings(settings,!0)}function __unstableSaveReusableBlock(id,updatedId){return{type:"SAVE_REUSABLE_BLOCK_SUCCESS",id,updatedId}}function __unstableMarkLastChangeAsPersistent(){return{type:"MARK_LAST_CHANGE_AS_PERSISTENT"}}function __unstableMarkNextChangeAsNotPersistent(){return{type:"MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"}}const __unstableMarkAutomaticChange=()=>({dispatch})=>{dispatch({type:"MARK_AUTOMATIC_CHANGE"});const{requestIdleCallback=cb=>setTimeout(cb,100)}=window;requestIdleCallback((()=>{dispatch({type:"MARK_AUTOMATIC_CHANGE_FINAL"})}))},setNavigationMode=(isNavigationMode=!0)=>({dispatch})=>{dispatch.__unstableSetEditorMode(isNavigationMode?"navigation":"edit")},__unstableSetEditorMode=mode=>({dispatch,select})=>{if("zoom-out"===mode){const firstSelectedClientId=select.getBlockSelectionStart();firstSelectedClientId&&dispatch.selectBlock(select.getBlockHierarchyRootClientId(firstSelectedClientId))}dispatch({type:"SET_EDITOR_MODE",mode}),"navigation"===mode?(0,a11y_build_module.D)((0,i18n_build_module.__)("You are currently in navigation mode. Navigate blocks using the Tab key and Arrow keys. Use Left and Right Arrow keys to move between nesting levels. To exit navigation mode and edit the selected block, press Enter.")):"edit"===mode?(0,a11y_build_module.D)((0,i18n_build_module.__)("You are currently in edit mode. To return to the navigation mode, press Escape.")):"zoom-out"===mode&&(0,a11y_build_module.D)((0,i18n_build_module.__)("You are currently in zoom-out mode."))},setBlockMovingClientId=(hasBlockMovingClientId=null)=>({dispatch})=>{dispatch({type:"SET_BLOCK_MOVING_MODE",hasBlockMovingClientId}),hasBlockMovingClientId&&(0,a11y_build_module.D)((0,i18n_build_module.__)("Use the Tab key and Arrow keys to choose new block location. Use Left and Right Arrow keys to move between nesting levels. Once location is selected press Enter or Space to move the block."))},duplicateBlocks=(clientIds,updateSelection=!0)=>({select,dispatch})=>{if(!clientIds||!clientIds.length)return;const blocks=select.getBlocksByClientId(clientIds);if(blocks.some((block=>!block)))return;const blockNames=blocks.map((block=>block.name));if(blockNames.some((blockName=>!(0,build_module.zb)(blockName,"multiple",!0))))return;const rootClientId=select.getBlockRootClientId(clientIds[0]),clientIdsArray=castArray(clientIds),lastSelectedIndex=select.getBlockIndex(clientIdsArray[clientIdsArray.length-1]),clonedBlocks=blocks.map((block=>(0,build_module.mR)(block)));return dispatch.insertBlocks(clonedBlocks,lastSelectedIndex+1,rootClientId,updateSelection),clonedBlocks.length>1&&updateSelection&&dispatch.multiSelect(clonedBlocks[0].clientId,clonedBlocks[clonedBlocks.length-1].clientId),clonedBlocks.map((block=>block.clientId))},insertBeforeBlock=clientId=>({select,dispatch})=>{if(!clientId)return;const rootClientId=select.getBlockRootClientId(clientId);if(select.getTemplateLock(rootClientId))return;const firstSelectedIndex=select.getBlockIndex(clientId);return dispatch.insertDefaultBlock({},rootClientId,firstSelectedIndex)},insertAfterBlock=clientId=>({select,dispatch})=>{if(!clientId)return;const rootClientId=select.getBlockRootClientId(clientId);if(select.getTemplateLock(rootClientId))return;const firstSelectedIndex=select.getBlockIndex(clientId);return dispatch.insertDefaultBlock({},rootClientId,firstSelectedIndex+1)};function toggleBlockHighlight(clientId,isHighlighted){return{type:"TOGGLE_BLOCK_HIGHLIGHT",clientId,isHighlighted}}const flashBlock=clientId=>async({dispatch})=>{dispatch(toggleBlockHighlight(clientId,!0)),await new Promise((resolve=>setTimeout(resolve,150))),dispatch(toggleBlockHighlight(clientId,!1))};function setHasControlledInnerBlocks(clientId,hasControlledInnerBlocks){return{type:"SET_HAS_CONTROLLED_INNER_BLOCKS",hasControlledInnerBlocks,clientId}}function setBlockVisibility(updates){return{type:"SET_BLOCK_VISIBILITY",updates}}function __unstableSetTemporarilyEditingAsBlocks(temporarilyEditingAsBlocks){return{type:"SET_TEMPORARILY_EDITING_AS_BLOCKS",temporarilyEditingAsBlocks}}var implementation=__webpack_require__("./packages/private-apis/build-module/implementation.js");const{lock,unlock}=(0,implementation.es)("I know using unstable features means my plugin or theme will inevitably break on the next WordPress release.","@wordpress/block-editor"),storeConfig={reducer,selectors:selectors_namespaceObject,actions:actions_namespaceObject},store=(0,redux_store.Z)("core/block-editor",{...storeConfig,persist:["preferences"]}),registeredStore=(0,data_build_module.R9)("core/block-editor",{...storeConfig,persist:["preferences"]});unlock(registeredStore).registerPrivateActions(private_actions_namespaceObject),unlock(registeredStore).registerPrivateSelectors(private_selectors_namespaceObject);const DEFAULT_BLOCK_EDIT_CONTEXT={name:"",isSelected:!1},Context=(0,react.createContext)(DEFAULT_BLOCK_EDIT_CONTEXT),{Provider}=Context;function useBlockEditContext(){return(0,react.useContext)(Context)}function useDisplayBlockControls(){const{isSelected,clientId,name}=useBlockEditContext();return(0,use_select.Z)((select=>{if(isSelected)return!0;const{getBlockName,isFirstMultiSelectedBlock,getMultiSelectedBlockClientIds}=select(store);return!!isFirstMultiSelectedBlock(clientId)&&getMultiSelectedBlockClientIds().every((id=>getBlockName(id)===name))}),[clientId,isSelected,name])}function BlockControlsFill({group="default",controls,children,__experimentalShareWithChildBlocks=!1}){const Fill=function useBlockControlsFill(group,shareWithChildBlocks){const isDisplayed=useDisplayBlockControls(),{clientId}=useBlockEditContext(),isParentDisplayed=(0,use_select.Z)((select=>{const{getBlockName,hasSelectedInnerBlock}=select(store),{hasBlockSupport}=select(build_module.h);return shareWithChildBlocks&&hasBlockSupport(getBlockName(clientId),"__experimentalExposeControlsToChildren",!1)&&hasSelectedInnerBlock(clientId)}),[shareWithChildBlocks,clientId]);return isDisplayed?block_controls_groups[group]?.Fill:isParentDisplayed?block_controls_groups.parent.Fill:null}(group,__experimentalShareWithChildBlocks);if(!Fill)return null;const innerMarkup=(0,react.createElement)(react.Fragment,null,"default"===group&&(0,react.createElement)(toolbar_group.Z,{controls}),children);return(0,react.createElement)(style_provider.Z,{document},(0,react.createElement)(Fill,null,(fillProps=>{const{forwardedContext=[]}=fillProps;return forwardedContext.reduce(((inner,[Provider,props])=>(0,react.createElement)(Provider,props,inner)),innerMarkup)})))}var private_apis=__webpack_require__("./packages/components/build-module/private-apis.js"),toolbar_context=__webpack_require__("./packages/components/build-module/toolbar/toolbar-context/index.js"),use_slot_fills=__webpack_require__("./packages/components/build-module/slot-fill/bubbles-virtually/use-slot-fills.js"),process=__webpack_require__("./node_modules/process/browser.js");const{ComponentsContext}=unlock(private_apis.YH);function BlockControlsSlot({group="default",...props}){const toolbarState=(0,react.useContext)(toolbar_context.Z),contextState=(0,react.useContext)(ComponentsContext),fillProps=(0,react.useMemo)((()=>({forwardedContext:[[toolbar_context.Z.Provider,{value:toolbarState}],[ComponentsContext.Provider,{value:contextState}]]})),[toolbarState,contextState]),Slot=block_controls_groups[group]?.Slot,fills=(0,use_slot_fills.Z)(Slot?.__unstableName);if(!Slot)return void 0!==process&&process.env,null;if(!fills?.length)return null;const slot=(0,react.createElement)(Slot,(0,esm_extends.Z)({},props,{bubblesVirtually:!0,fillProps}));return"default"===group?slot:(0,react.createElement)(toolbar_group.Z,null,slot)}const BlockControls=BlockControlsFill;BlockControls.Slot=BlockControlsSlot;const block_controls=BlockControls;var toolbar_dropdown_menu=__webpack_require__("./packages/components/build-module/toolbar/toolbar-dropdown-menu/index.js"),menu_group=__webpack_require__("./packages/components/build-module/menu-group/index.js"),menu_item=__webpack_require__("./packages/components/build-module/menu-item/index.js"),justify_left=__webpack_require__("./packages/icons/build-module/library/justify-left.js"),justify_center=__webpack_require__("./packages/icons/build-module/library/justify-center.js"),justify_right=__webpack_require__("./packages/icons/build-module/library/justify-right.js"),justify_space_between=__webpack_require__("./packages/icons/build-module/library/justify-space-between.js"),justify_stretch=__webpack_require__("./packages/icons/build-module/library/justify-stretch.js"),arrow_right=__webpack_require__("./packages/icons/build-module/library/arrow-right.js"),arrow_down=__webpack_require__("./packages/icons/build-module/library/arrow-down.js"),component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),flex_item_component=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),toggle_group_control_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control/component.js"),toggle_group_control_option_icon_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option-icon/component.js"),toggle_control=__webpack_require__("./packages/components/build-module/toggle-control/index.js");const LAYOUT_DEFINITIONS={default:{name:"default",slug:"flow",className:"is-layout-flow",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}}],spacingStyles:[{selector:" > :first-child:first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child:last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},constrained:{name:"constrained",slug:"constrained",className:"is-layout-constrained",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > :where(:not(.alignleft):not(.alignright):not(.alignfull))",rules:{"max-width":"var(--wp--style--global--content-size)","margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > .alignwide",rules:{"max-width":"var(--wp--style--global--wide-size)"}}],spacingStyles:[{selector:" > :first-child:first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child:last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},flex:{name:"flex",slug:"flex",className:"is-layout-flex",displayMode:"flex",baseStyles:[{selector:"",rules:{"flex-wrap":"wrap","align-items":"center"}},{selector:" > *",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]},grid:{name:"grid",slug:"grid",className:"is-layout-grid",displayMode:"grid",baseStyles:[{selector:" > *",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]}};function appendSelectors(selectors,append=""){return selectors.split(",").map((subselector=>`.editor-styles-wrapper ${subselector}${append?` ${append}`:""}`)).join(",")}function getBlockGapCSS(selector,layoutDefinitions=LAYOUT_DEFINITIONS,layoutType,blockGapValue){let output="";return layoutDefinitions?.[layoutType]?.spacingStyles?.length&&blockGapValue&&layoutDefinitions[layoutType].spacingStyles.forEach((gapStyle=>{output+=`${appendSelectors(selector,gapStyle.selector.trim())} { `,output+=Object.entries(gapStyle.rules).map((([cssProperty,value])=>`${cssProperty}: ${value||blockGapValue}`)).join("; "),output+="; }"})),output}function getAlignmentsInfo(layout){const{contentSize,wideSize,type="default"}=layout,alignmentInfo={},sizeRegex=/^(?!0)\d+(px|em|rem|vw|vh|%)?$/i;return sizeRegex.test(contentSize)&&"constrained"===type&&(alignmentInfo.none=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Max %s wide"),contentSize)),sizeRegex.test(wideSize)&&(alignmentInfo.wide=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Max %s wide"),wideSize)),alignmentInfo}var sides_all=__webpack_require__("./packages/icons/build-module/library/sides-all.js"),sides_axial=__webpack_require__("./packages/icons/build-module/library/sides-axial.js"),sides_horizontal=__webpack_require__("./packages/icons/build-module/library/sides-horizontal.js"),sides_vertical=__webpack_require__("./packages/icons/build-module/library/sides-vertical.js"),sides_top=__webpack_require__("./packages/icons/build-module/library/sides-top.js"),sides_right=__webpack_require__("./packages/icons/build-module/library/sides-right.js"),sides_bottom=__webpack_require__("./packages/icons/build-module/library/sides-bottom.js"),sides_left=__webpack_require__("./packages/icons/build-module/library/sides-left.js");const ALL_SIDES=["top","right","bottom","left"],DEFAULT_VALUES={top:void 0,right:void 0,bottom:void 0,left:void 0},ICONS={custom:sides_all.Z,axial:sides_axial.Z,horizontal:sides_horizontal.Z,vertical:sides_vertical.Z,top:sides_top.Z,right:sides_right.Z,bottom:sides_bottom.Z,left:sides_left.Z},LABELS={default:(0,i18n_build_module.__)("Spacing control"),top:(0,i18n_build_module.__)("Top"),bottom:(0,i18n_build_module.__)("Bottom"),left:(0,i18n_build_module.__)("Left"),right:(0,i18n_build_module.__)("Right"),mixed:(0,i18n_build_module.__)("Mixed"),vertical:(0,i18n_build_module.__)("Vertical"),horizontal:(0,i18n_build_module.__)("Horizontal"),axial:(0,i18n_build_module.__)("Horizontal & vertical"),custom:(0,i18n_build_module.__)("Custom")},VIEWS={axial:"axial",top:"top",right:"right",bottom:"bottom",left:"left",custom:"custom"};function isValueSpacingPreset(value){return!!value?.includes&&("0"===value||value.includes("var:preset|spacing|"))}function getCustomValueFromPreset(value,spacingSizes){if(!isValueSpacingPreset(value))return value;const slug=getSpacingPresetSlug(value),spacingSize=spacingSizes.find((size=>String(size.slug)===slug));return spacingSize?.size}function getSpacingPresetCssVar(value){if(!value)return;const slug=value.match(/var:preset\|spacing\|(.+)/);return slug?`var(--wp--preset--spacing--${slug[1]})`:value}function getSpacingPresetSlug(value){if(!value)return;if("0"===value||"default"===value)return value;const slug=value.match(/var:preset\|spacing\|(.+)/);return slug?slug[1]:void 0}function hasAxisSupport(sides,axis){if(!sides||!sides.length)return!1;const hasHorizontalSupport=sides.includes("horizontal")||sides.includes("left")&&sides.includes("right"),hasVerticalSupport=sides.includes("vertical")||sides.includes("top")&&sides.includes("bottom");return"horizontal"===axis?hasHorizontalSupport:"vertical"===axis?hasVerticalSupport:hasHorizontalSupport||hasVerticalSupport}function getGapCSSValue(blockGapValue,defaultValue="0"){const blockGapBoxControlValue=function getGapBoxControlValueFromStyle(blockGapValue){if(!blockGapValue)return null;const isValueString="string"==typeof blockGapValue;return{top:isValueString?blockGapValue:blockGapValue?.top,left:isValueString?blockGapValue:blockGapValue?.left}}(blockGapValue);if(!blockGapBoxControlValue)return null;const row=getSpacingPresetCssVar(blockGapBoxControlValue?.top)||defaultValue,column=getSpacingPresetCssVar(blockGapBoxControlValue?.left)||defaultValue;return row===column?row:`${row} ${column}`}var svg=__webpack_require__("./packages/primitives/build-module/svg/index.js");const alignBottom=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"})),alignCenter=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"})),alignTop=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"})),alignStretch=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M4 4L20 4L20 5.5L4 5.5L4 4ZM10 7L14 7L14 17L10 17L10 7ZM20 18.5L4 18.5L4 20L20 20L20 18.5Z"})),spaceBetween=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M7 4H17V8L7 8V4ZM7 16L17 16V20L7 20V16ZM20 11.25H4V12.75H20V11.25Z"})),BLOCK_ALIGNMENTS_CONTROLS={top:{icon:alignTop,title:(0,i18n_build_module._x)("Align top","Block vertical alignment setting")},center:{icon:alignCenter,title:(0,i18n_build_module._x)("Align middle","Block vertical alignment setting")},bottom:{icon:alignBottom,title:(0,i18n_build_module._x)("Align bottom","Block vertical alignment setting")},stretch:{icon:alignStretch,title:(0,i18n_build_module._x)("Stretch to fill","Block vertical alignment setting")},"space-between":{icon:spaceBetween,title:(0,i18n_build_module._x)("Space between","Block vertical alignment setting")}},DEFAULT_CONTROLS=["top","center","bottom"];const ui=function BlockVerticalAlignmentUI({value,onChange,controls=DEFAULT_CONTROLS,isCollapsed=!0,isToolbar}){const activeAlignment=BLOCK_ALIGNMENTS_CONTROLS[value],defaultAlignmentControl=BLOCK_ALIGNMENTS_CONTROLS.top,UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,extraProps=isToolbar?{isCollapsed}:{};return(0,react.createElement)(UIComponent,(0,esm_extends.Z)({icon:activeAlignment?activeAlignment.icon:defaultAlignmentControl.icon,label:(0,i18n_build_module._x)("Change vertical alignment","Block vertical alignment setting label"),controls:controls.map((control=>{return{...BLOCK_ALIGNMENTS_CONTROLS[control],isActive:value===control,role:isCollapsed?"menuitemradio":void 0,onClick:(align=control,()=>onChange(value===align?void 0:align))};var align}))},extraProps))},BlockVerticalAlignmentControl=props=>(0,react.createElement)(ui,(0,esm_extends.Z)({},props,{isToolbar:!1})),BlockVerticalAlignmentToolbar=props=>(0,react.createElement)(ui,(0,esm_extends.Z)({},props,{isToolbar:!0})),icons={left:justify_left.Z,center:justify_center.Z,right:justify_right.Z,"space-between":justify_space_between.Z,stretch:justify_stretch.Z};const justify_content_control_ui=function ui_JustifyContentUI({allowedControls=["left","center","right","space-between"],isCollapsed=!0,onChange,value,popoverProps,isToolbar}){const handleClick=next=>{onChange(next===value?void 0:next)},icon=value?icons[value]:icons.left,allControls=[{name:"left",icon:justify_left.Z,title:(0,i18n_build_module.__)("Justify items left"),isActive:"left"===value,onClick:()=>handleClick("left")},{name:"center",icon:justify_center.Z,title:(0,i18n_build_module.__)("Justify items center"),isActive:"center"===value,onClick:()=>handleClick("center")},{name:"right",icon:justify_right.Z,title:(0,i18n_build_module.__)("Justify items right"),isActive:"right"===value,onClick:()=>handleClick("right")},{name:"space-between",icon:justify_space_between.Z,title:(0,i18n_build_module.__)("Space between items"),isActive:"space-between"===value,onClick:()=>handleClick("space-between")},{name:"stretch",icon:justify_stretch.Z,title:(0,i18n_build_module.__)("Stretch items"),isActive:"stretch"===value,onClick:()=>handleClick("stretch")}],UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,extraProps=isToolbar?{isCollapsed}:{};return(0,react.createElement)(UIComponent,(0,esm_extends.Z)({icon,popoverProps,label:(0,i18n_build_module.__)("Change items justification"),controls:allControls.filter((elem=>allowedControls.includes(elem.name)))},extraProps))},JustifyContentControl=props=>(0,react.createElement)(justify_content_control_ui,(0,esm_extends.Z)({},props,{isToolbar:!1}));var lodash=__webpack_require__("./node_modules/lodash/lodash.js");const blockedPaths=["color","border","dimensions","typography","spacing"],deprecatedFlags={"color.palette":settings=>settings.colors,"color.gradients":settings=>settings.gradients,"color.custom":settings=>void 0===settings.disableCustomColors?void 0:!settings.disableCustomColors,"color.customGradient":settings=>void 0===settings.disableCustomGradients?void 0:!settings.disableCustomGradients,"typography.fontSizes":settings=>settings.fontSizes,"typography.customFontSize":settings=>void 0===settings.disableCustomFontSizes?void 0:!settings.disableCustomFontSizes,"typography.lineHeight":settings=>settings.enableCustomLineHeight,"spacing.units":settings=>{if(void 0!==settings.enableCustomUnits)return!0===settings.enableCustomUnits?["px","em","rem","vh","vw","%"]:settings.enableCustomUnits},"spacing.padding":settings=>settings.enableCustomSpacing},prefixedFlags={"border.customColor":"border.color","border.customStyle":"border.style","border.customWidth":"border.width","typography.customFontStyle":"typography.fontStyle","typography.customFontWeight":"typography.fontWeight","typography.customLetterSpacing":"typography.letterSpacing","typography.customTextDecorations":"typography.textDecoration","typography.customTextTransforms":"typography.textTransform","border.customRadius":"border.radius","spacing.customMargin":"spacing.margin","spacing.customPadding":"spacing.padding","typography.customLineHeight":"typography.lineHeight"},removeCustomPrefixes=path=>prefixedFlags[path]||path;function use_setting_useSetting(path){const{name:blockName,clientId}=useBlockEditContext();return(0,use_select.Z)((select=>{if(blockedPaths.includes(path))return void console.warn("Top level useSetting paths are disabled. Please use a subpath to query the information needed.");let result=(0,hooks_build_module.O)("blockEditor.useSetting.before",void 0,path,clientId,blockName);if(void 0!==result)return result;const normalizedPath=removeCustomPrefixes(path),candidates=[clientId,...select(store).getBlockParents(clientId,!0)];for(const candidateClientId of candidates){const candidateBlockName=select(store).getBlockName(candidateClientId);if((0,build_module.zb)(candidateBlockName,"__experimentalSettings",!1)){var _get;const candidateAtts=select(store).getBlockAttributes(candidateClientId);if(result=null!==(_get=(0,lodash.get)(candidateAtts,`settings.blocks.${blockName}.${normalizedPath}`))&&void 0!==_get?_get:(0,lodash.get)(candidateAtts,`settings.${normalizedPath}`),void 0!==result)break}}const settings=select(store).getSettings();if(void 0===result){var _get2;const defaultsPath=`__experimentalFeatures.${normalizedPath}`,blockPath=`__experimentalFeatures.blocks.${blockName}.${normalizedPath}`;result=null!==(_get2=(0,lodash.get)(settings,blockPath))&&void 0!==_get2?_get2:(0,lodash.get)(settings,defaultsPath)}var _ref,_result$custom;if(void 0!==result)return build_module.yg[normalizedPath]?null!==(_ref=null!==(_result$custom=result.custom)&&void 0!==_result$custom?_result$custom:result.theme)&&void 0!==_ref?_ref:result.default:result;const deprecatedSettingsValue=deprecatedFlags[normalizedPath]?deprecatedFlags[normalizedPath](settings):void 0;return void 0!==deprecatedSettingsValue?deprecatedSettingsValue:"typography.dropCap"===normalizedPath||void 0}),[blockName,clientId,path])}const DEFAULT_MAXIMUM_VIEWPORT_WIDTH="1600px",DEFAULT_MINIMUM_VIEWPORT_WIDTH="320px",DEFAULT_SCALE_FACTOR=1,DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN=.25,DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX=.75,DEFAULT_MINIMUM_FONT_SIZE_LIMIT="14px";function getTypographyValueAndUnit(rawValue,options={}){if("string"!=typeof rawValue&&"number"!=typeof rawValue)return null;isFinite(rawValue)&&(rawValue=`${rawValue}px`);const{coerceTo,rootSizeValue,acceptableUnits}={coerceTo:"",rootSizeValue:16,acceptableUnits:["rem","px","em"],...options},acceptableUnitsGroup=acceptableUnits?.join("|"),regexUnits=new RegExp(`^(\\d*\\.?\\d+)(${acceptableUnitsGroup}){1,1}$`),matches=rawValue.match(regexUnits);if(!matches||matches.length<3)return null;let[,value,unit]=matches,returnValue=parseFloat(value);return"px"!==coerceTo||"em"!==unit&&"rem"!==unit||(returnValue*=rootSizeValue,unit=coerceTo),"px"!==unit||"em"!==coerceTo&&"rem"!==coerceTo||(returnValue/=rootSizeValue,unit=coerceTo),"em"!==coerceTo&&"rem"!==coerceTo||"em"!==unit&&"rem"!==unit||(unit=coerceTo),{value:roundToPrecision(returnValue,3),unit}}function roundToPrecision(value,digits=3){const base=Math.pow(10,digits);return Number.isFinite(value)?parseFloat(Math.round(value*base)/base):void 0}function getTypographyFontSizeValue(preset,typographyOptions){const{size:defaultSize}=preset;if(!isFluidTypographyEnabled(typographyOptions))return defaultSize;if(!defaultSize||"0"===defaultSize||!1===preset?.fluid)return defaultSize;const fluidTypographySettings="object"==typeof typographyOptions?.fluid?typographyOptions?.fluid:{},fluidFontSizeValue=function getComputedFluidTypographyValue({minimumFontSize,maximumFontSize,fontSize,minimumViewPortWidth=DEFAULT_MINIMUM_VIEWPORT_WIDTH,maximumViewPortWidth=DEFAULT_MAXIMUM_VIEWPORT_WIDTH,scaleFactor=DEFAULT_SCALE_FACTOR,minimumFontSizeLimit}){if(minimumFontSizeLimit=getTypographyValueAndUnit(minimumFontSizeLimit)?minimumFontSizeLimit:DEFAULT_MINIMUM_FONT_SIZE_LIMIT,fontSize){const fontSizeParsed=getTypographyValueAndUnit(fontSize);if(!fontSizeParsed?.unit)return null;const minimumFontSizeLimitParsed=getTypographyValueAndUnit(minimumFontSizeLimit,{coerceTo:fontSizeParsed.unit});if(minimumFontSizeLimitParsed?.value&&!minimumFontSize&&!maximumFontSize&&fontSizeParsed?.value<=minimumFontSizeLimitParsed?.value)return null;if(maximumFontSize||(maximumFontSize=`${fontSizeParsed.value}${fontSizeParsed.unit}`),!minimumFontSize){const fontSizeValueInPx="px"===fontSizeParsed.unit?fontSizeParsed.value:16*fontSizeParsed.value,minimumFontSizeFactor=Math.min(Math.max(1-.075*Math.log2(fontSizeValueInPx),DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN),DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX),calculatedMinimumFontSize=roundToPrecision(fontSizeParsed.value*minimumFontSizeFactor,3);minimumFontSize=minimumFontSizeLimitParsed?.value&&calculatedMinimumFontSize<minimumFontSizeLimitParsed?.value?`${minimumFontSizeLimitParsed.value}${minimumFontSizeLimitParsed.unit}`:`${calculatedMinimumFontSize}${fontSizeParsed.unit}`}}const minimumFontSizeParsed=getTypographyValueAndUnit(minimumFontSize),fontSizeUnit=minimumFontSizeParsed?.unit||"rem",maximumFontSizeParsed=getTypographyValueAndUnit(maximumFontSize,{coerceTo:fontSizeUnit});if(!minimumFontSizeParsed||!maximumFontSizeParsed)return null;const minimumFontSizeRem=getTypographyValueAndUnit(minimumFontSize,{coerceTo:"rem"}),maximumViewPortWidthParsed=getTypographyValueAndUnit(maximumViewPortWidth,{coerceTo:fontSizeUnit}),minumumViewPortWidthParsed=getTypographyValueAndUnit(minimumViewPortWidth,{coerceTo:fontSizeUnit});if(!maximumViewPortWidthParsed||!minumumViewPortWidthParsed||!minimumFontSizeRem)return null;const minViewPortWidthOffsetValue=roundToPrecision(minumumViewPortWidthParsed.value/100,3),viewPortWidthOffset=roundToPrecision(minViewPortWidthOffsetValue,3)+fontSizeUnit,linearFactorScaled=roundToPrecision(((maximumFontSizeParsed.value-minimumFontSizeParsed.value)/(maximumViewPortWidthParsed.value-minumumViewPortWidthParsed.value)*100||1)*scaleFactor,3);return`clamp(${minimumFontSize}, ${minimumFontSizeRem.value}${minimumFontSizeRem.unit} + ((1vw - ${viewPortWidthOffset}) * ${linearFactorScaled}), ${maximumFontSize})`}({minimumFontSize:preset?.fluid?.min,maximumFontSize:preset?.fluid?.max,fontSize:defaultSize,minimumFontSizeLimit:fluidTypographySettings?.minFontSize,maximumViewPortWidth:fluidTypographySettings?.maxViewPortWidth});return fluidFontSizeValue||defaultSize}function isFluidTypographyEnabled(typographySettings){const fluidSettings=typographySettings?.fluid;return!0===fluidSettings||fluidSettings&&"object"==typeof fluidSettings&&Object.keys(fluidSettings).length>0}function getFluidTypographyOptionsFromSettings(settings){const typographySettings=settings?.typography,layoutSettings=settings?.layout;return isFluidTypographyEnabled(typographySettings)&&layoutSettings?.wideSize?{fluid:{maxViewPortWidth:layoutSettings.wideSize,...typographySettings.fluid}}:{fluid:typographySettings?.fluid}}const ROOT_BLOCK_SELECTOR="body",PRESET_METADATA=[{path:["color","palette"],valueKey:"color",cssVarInfix:"color",classes:[{classSuffix:"color",propertyName:"color"},{classSuffix:"background-color",propertyName:"background-color"},{classSuffix:"border-color",propertyName:"border-color"}]},{path:["color","gradients"],valueKey:"gradient",cssVarInfix:"gradient",classes:[{classSuffix:"gradient-background",propertyName:"background"}]},{path:["color","duotone"],valueKey:"colors",cssVarInfix:"duotone",valueFunc:({slug})=>`url( '#wp-duotone-${slug}' )`,classes:[]},{path:["shadow","presets"],valueKey:"shadow",cssVarInfix:"shadow",classes:[]},{path:["typography","fontSizes"],valueFunc:(preset,settings)=>getTypographyFontSizeValue(preset,getFluidTypographyOptionsFromSettings(settings)),valueKey:"size",cssVarInfix:"font-size",classes:[{classSuffix:"font-size",propertyName:"font-size"}]},{path:["typography","fontFamilies"],valueKey:"fontFamily",cssVarInfix:"font-family",classes:[{classSuffix:"font-family",propertyName:"font-family"}]},{path:["spacing","spacingSizes"],valueKey:"size",cssVarInfix:"spacing",valueFunc:({size})=>size,classes:[]}],STYLE_PATH_TO_CSS_VAR_INFIX={"color.background":"color","color.text":"color","filter.duotone":"duotone","elements.link.color.text":"color","elements.link.:hover.color.text":"color","elements.link.typography.fontFamily":"font-family","elements.link.typography.fontSize":"font-size","elements.button.color.text":"color","elements.button.color.background":"color","elements.caption.color.text":"color","elements.button.typography.fontFamily":"font-family","elements.button.typography.fontSize":"font-size","elements.heading.color":"color","elements.heading.color.background":"color","elements.heading.typography.fontFamily":"font-family","elements.heading.gradient":"gradient","elements.heading.color.gradient":"gradient","elements.h1.color":"color","elements.h1.color.background":"color","elements.h1.typography.fontFamily":"font-family","elements.h1.color.gradient":"gradient","elements.h2.color":"color","elements.h2.color.background":"color","elements.h2.typography.fontFamily":"font-family","elements.h2.color.gradient":"gradient","elements.h3.color":"color","elements.h3.color.background":"color","elements.h3.typography.fontFamily":"font-family","elements.h3.color.gradient":"gradient","elements.h4.color":"color","elements.h4.color.background":"color","elements.h4.typography.fontFamily":"font-family","elements.h4.color.gradient":"gradient","elements.h5.color":"color","elements.h5.color.background":"color","elements.h5.typography.fontFamily":"font-family","elements.h5.color.gradient":"gradient","elements.h6.color":"color","elements.h6.color.background":"color","elements.h6.typography.fontFamily":"font-family","elements.h6.color.gradient":"gradient","color.gradient":"gradient",shadow:"shadow","typography.fontSize":"font-size","typography.fontFamily":"font-family"};function findInPresetsBy(features,blockName,presetPath,presetProperty,presetValueValue){const orderedPresetsByOrigin=[(0,lodash.get)(features,["blocks",blockName,...presetPath]),(0,lodash.get)(features,presetPath)];for(const presetByOrigin of orderedPresetsByOrigin)if(presetByOrigin){const origins=["custom","theme","default"];for(const origin of origins){const presets=presetByOrigin[origin];if(presets){const presetObject=presets.find((preset=>preset[presetProperty]===presetValueValue));if(presetObject){if("slug"===presetProperty)return presetObject;return findInPresetsBy(features,blockName,presetPath,"slug",presetObject.slug)[presetProperty]===presetObject[presetProperty]?presetObject:void 0}}}}}function getValueFromVariable(features,blockName,variable){if(!variable||"string"!=typeof variable){if(!variable?.ref||"string"!=typeof variable?.ref)return variable;{const refPath=variable.ref.split(".");if(!(variable=(0,lodash.get)(features,refPath))||variable?.ref)return variable}}let parsedVar;if(variable.startsWith("var:"))parsedVar=variable.slice(4).split("|");else{if(!variable.startsWith("var(--wp--")||!variable.endsWith(")"))return variable;parsedVar=variable.slice(10,-1).split("--")}const[type,...path]=parsedVar;return"preset"===type?function getValueFromPresetVariable(features,blockName,variable,[presetType,slug]){const metadata=PRESET_METADATA.find((data=>data.cssVarInfix===presetType));if(!metadata)return variable;const presetObject=findInPresetsBy(features.settings,blockName,metadata.path,"slug",slug);if(presetObject){const{valueKey}=metadata;return getValueFromVariable(features,blockName,presetObject[valueKey])}return variable}(features,blockName,variable,path):"custom"===type?function getValueFromCustomVariable(features,blockName,variable,path){var _get;const result=null!==(_get=(0,lodash.get)(features.settings,["blocks",blockName,"custom",...path]))&&void 0!==_get?_get:(0,lodash.get)(features.settings,["custom",...path]);return result?getValueFromVariable(features,blockName,result):variable}(features,blockName,variable,path):variable}function scopeSelector(scope,selector){const scopes=scope.split(","),selectors=selector.split(","),selectorsScoped=[];return scopes.forEach((outer=>{selectors.forEach((inner=>{selectorsScoped.push(`${outer.trim()} ${inner.trim()}`)}))})),selectorsScoped.join(", ")}function areGlobalStyleConfigsEqual(original,variation){return"object"!=typeof original||"object"!=typeof variation?original===variation:es6_default()(original?.styles,variation?.styles)&&es6_default()(original?.settings,variation?.settings)}const GlobalStylesContext=(0,react.createContext)({user:{},base:{},merged:{},setUserConfig:()=>{}}),EMPTY_CONFIG={settings:{},styles:{}},VALID_SETTINGS=["appearanceTools","useRootPaddingAwareAlignments","border.color","border.radius","border.style","border.width","shadow.presets","shadow.defaultPresets","color.background","color.button","color.caption","color.custom","color.customDuotone","color.customGradient","color.defaultDuotone","color.defaultGradients","color.defaultPalette","color.duotone","color.gradients","color.heading","color.link","color.palette","color.text","custom","dimensions.minHeight","layout.contentSize","layout.definitions","layout.wideSize","position.fixed","position.sticky","spacing.customSpacingSize","spacing.spacingSizes","spacing.spacingScale","spacing.blockGap","spacing.margin","spacing.padding","spacing.units","typography.fluid","typography.customFontSize","typography.dropCap","typography.fontFamilies","typography.fontSizes","typography.fontStyle","typography.fontWeight","typography.letterSpacing","typography.lineHeight","typography.textColumns","typography.textDecoration","typography.textTransform"],useGlobalStylesReset=()=>{const{user:config,setUserConfig}=(0,react.useContext)(GlobalStylesContext);return[!!config&&!es6_default()(config,EMPTY_CONFIG),(0,react.useCallback)((()=>setUserConfig((()=>EMPTY_CONFIG))),[setUserConfig])]};function useGlobalSetting(propertyPath,blockName,source="all"){const{setUserConfig,...configs}=(0,react.useContext)(GlobalStylesContext),appendedBlockPath=blockName?".blocks."+blockName:"",appendedPropertyPath=propertyPath?"."+propertyPath:"",contextualPath=`settings${appendedBlockPath}${appendedPropertyPath}`,globalPath=`settings${appendedPropertyPath}`,sourceKey="all"===source?"merged":source;return[(0,react.useMemo)((()=>{const configToUse=configs[sourceKey];if(!configToUse)throw"Unsupported source";var _get;if(propertyPath)return null!==(_get=(0,lodash.get)(configToUse,contextualPath))&&void 0!==_get?_get:(0,lodash.get)(configToUse,globalPath);const result={};return VALID_SETTINGS.forEach((setting=>{var _get2;const value=null!==(_get2=(0,lodash.get)(configToUse,`settings${appendedBlockPath}.${setting}`))&&void 0!==_get2?_get2:(0,lodash.get)(configToUse,`settings.${setting}`);value&&(0,lodash.set)(result,setting,value)})),result}),[configs,sourceKey,propertyPath,contextualPath,globalPath,appendedBlockPath]),newValue=>{setUserConfig((currentConfig=>{const newUserConfig=JSON.parse(JSON.stringify(currentConfig));return(0,lodash.set)(newUserConfig,contextualPath,newValue),newUserConfig}))}]}function useGlobalStyle(path,blockName,source="all",{shouldDecodeEncode=!0}={}){const{merged:mergedConfig,base:baseConfig,user:userConfig,setUserConfig}=(0,react.useContext)(GlobalStylesContext),appendedPath=path?"."+path:"",finalPath=blockName?`styles.blocks.${blockName}${appendedPath}`:`styles${appendedPath}`;let rawResult,result;switch(source){case"all":rawResult=(0,lodash.get)(mergedConfig,finalPath),result=shouldDecodeEncode?getValueFromVariable(mergedConfig,blockName,rawResult):rawResult;break;case"user":rawResult=(0,lodash.get)(userConfig,finalPath),result=shouldDecodeEncode?getValueFromVariable(mergedConfig,blockName,rawResult):rawResult;break;case"base":rawResult=(0,lodash.get)(baseConfig,finalPath),result=shouldDecodeEncode?getValueFromVariable(baseConfig,blockName,rawResult):rawResult;break;default:throw"Unsupported source"}return[result,newValue=>{setUserConfig((currentConfig=>{const newUserConfig=JSON.parse(JSON.stringify(currentConfig));return(0,lodash.set)(newUserConfig,finalPath,shouldDecodeEncode?function getPresetVariableFromValue(features,blockName,variableStylePath,presetPropertyValue){if(!presetPropertyValue)return presetPropertyValue;const cssVarInfix=STYLE_PATH_TO_CSS_VAR_INFIX[variableStylePath],metadata=PRESET_METADATA.find((data=>data.cssVarInfix===cssVarInfix));if(!metadata)return presetPropertyValue;const{valueKey,path}=metadata,presetObject=findInPresetsBy(features,blockName,path,valueKey,presetPropertyValue);return presetObject?`var:preset|${cssVarInfix}|${presetObject.slug}`:presetPropertyValue}(mergedConfig.settings,blockName,path,newValue):newValue),newUserConfig}))}]}function useSettingsForBlockElement(parentSettings,blockName,element){const{supportedStyles,supports}=(0,use_select.Z)((select=>({supportedStyles:unlock(select(build_module.h)).getSupportedStyles(blockName,element),supports:select(build_module.h).getBlockType(blockName)?.supports})),[blockName,element]);return(0,react.useMemo)((()=>{const updatedSettings={...parentSettings};return supportedStyles.includes("fontSize")||(updatedSettings.typography={...updatedSettings.typography,fontSizes:{},customFontSize:!1}),supportedStyles.includes("fontFamily")||(updatedSettings.typography={...updatedSettings.typography,fontFamilies:{}}),updatedSettings.color={...updatedSettings.color,text:updatedSettings.color?.text&&supportedStyles.includes("color"),background:updatedSettings.color?.background&&(supportedStyles.includes("background")||supportedStyles.includes("backgroundColor")),button:updatedSettings.color?.button&&supportedStyles.includes("buttonColor"),heading:updatedSettings.color?.heading&&supportedStyles.includes("headingColor"),link:updatedSettings.color?.link&&supportedStyles.includes("linkColor"),caption:updatedSettings.color?.caption&&supportedStyles.includes("captionColor")},supportedStyles.includes("background")||(updatedSettings.color.gradients=[],updatedSettings.color.customGradient=!1),supportedStyles.includes("filter")||(updatedSettings.color.defaultDuotone=!1,updatedSettings.color.customDuotone=!1),["lineHeight","fontStyle","fontWeight","letterSpacing","textTransform","textDecoration"].forEach((key=>{supportedStyles.includes(key)||(updatedSettings.typography={...updatedSettings.typography,[key]:!1})})),supportedStyles.includes("columnCount")||(updatedSettings.typography={...updatedSettings.typography,textColumns:!1}),["contentSize","wideSize"].forEach((key=>{supportedStyles.includes(key)||(updatedSettings.layout={...updatedSettings.layout,[key]:!1})})),["padding","margin","blockGap"].forEach((key=>{supportedStyles.includes(key)||(updatedSettings.spacing={...updatedSettings.spacing,[key]:!1});const sides=Array.isArray(supports?.spacing?.[key])?supports?.spacing?.[key]:supports?.spacing?.[key]?.sides;sides?.length&&(updatedSettings.spacing={...updatedSettings.spacing,[key]:{...updatedSettings.spacing?.[key],sides}})})),supportedStyles.includes("minHeight")||(updatedSettings.dimensions={...updatedSettings.dimensions,minHeight:!1}),["radius","color","style","width"].forEach((key=>{supportedStyles.includes("border"+key.charAt(0).toUpperCase()+key.slice(1))||(updatedSettings.border={...updatedSettings.border,[key]:!1})})),updatedSettings.shadow=!!supportedStyles.includes("shadow")&&updatedSettings.shadow,updatedSettings}),[parentSettings,supportedStyles,supports])}function useColorsPerOrigin(settings){const customColors=settings?.color?.palette?.custom,themeColors=settings?.color?.palette?.theme,defaultColors=settings?.color?.palette?.default,shouldDisplayDefaultColors=settings?.color?.defaultPalette;return(0,react.useMemo)((()=>{const result=[];return themeColors&&themeColors.length&&result.push({name:(0,i18n_build_module._x)("Theme","Indicates this palette comes from the theme."),colors:themeColors}),shouldDisplayDefaultColors&&defaultColors&&defaultColors.length&&result.push({name:(0,i18n_build_module._x)("Default","Indicates this palette comes from WordPress."),colors:defaultColors}),customColors&&customColors.length&&result.push({name:(0,i18n_build_module._x)("Custom","Indicates this palette is created by the user."),colors:customColors}),result}),[customColors,themeColors,defaultColors,shouldDisplayDefaultColors])}function useGradientsPerOrigin(settings){const customGradients=settings?.color?.gradients?.custom,themeGradients=settings?.color?.gradients?.theme,defaultGradients=settings?.color?.gradients?.default,shouldDisplayDefaultGradients=settings?.color?.defaultGradients;return(0,react.useMemo)((()=>{const result=[];return themeGradients&&themeGradients.length&&result.push({name:(0,i18n_build_module._x)("Theme","Indicates this palette comes from the theme."),gradients:themeGradients}),shouldDisplayDefaultGradients&&defaultGradients&&defaultGradients.length&&result.push({name:(0,i18n_build_module._x)("Default","Indicates this palette comes from WordPress."),gradients:defaultGradients}),customGradients&&customGradients.length&&result.push({name:(0,i18n_build_module._x)("Custom","Indicates this palette is created by the user."),gradients:customGradients}),result}),[customGradients,themeGradients,defaultGradients,shouldDisplayDefaultGradients])}function cloneObject(object){return object&&"object"==typeof object?{...Object.fromEntries(Object.entries(object).map((([key,value])=>[key,cloneObject(value)])))}:object}function setImmutably(object,path,value){const normalizedPath=function normalizePath(path){return Array.isArray(path)?path:"number"==typeof path?[path.toString()]:[path]}(path),newObject=object?cloneObject(object):{};return normalizedPath.reduce(((acc,key,i)=>(void 0===acc[key]&&(acc[key]={}),i===normalizedPath.length-1&&(acc[key]=value),acc[key])),newObject),newObject}const utils_cleanEmptyObject=object=>{if(null===object||"object"!=typeof object||Array.isArray(object))return object;const cleanedNestedObjects=Object.entries(object).map((([key,value])=>[key,utils_cleanEmptyObject(value)])).filter((([,value])=>void 0!==value));return cleanedNestedObjects.length?Object.fromEntries(cleanedNestedObjects):void 0};function transformStyles(activeSupports,migrationPaths,result,source,index,results){if(Object.values(null!=activeSupports?activeSupports:{}).every((isActive=>!isActive)))return result;if(1===results.length&&result.innerBlocks.length===source.length)return result;let referenceBlockAttributes=source[0]?.attributes;if(results.length>1&&source.length>1){if(!source[index])return result;referenceBlockAttributes=source[index]?.attributes}let returnBlock=result;return Object.entries(activeSupports).forEach((([support,isActive])=>{isActive&&migrationPaths[support].forEach((path=>{const styleValue=(0,lodash.get)(referenceBlockAttributes,path);styleValue&&(returnBlock={...returnBlock,attributes:setImmutably(returnBlock.attributes,path,styleValue)})}))})),returnBlock}function shouldSkipSerialization(blockType,featureSet,feature){const support=(0,build_module.Dx)(blockType,featureSet),skipSerialization=support?.__experimentalSkipSerialization;return Array.isArray(skipSerialization)?skipSerialization.includes(feature):skipSerialization}function useBlockSettings(name,parentLayout){const fontFamilies=use_setting_useSetting("typography.fontFamilies"),fontSizes=use_setting_useSetting("typography.fontSizes"),customFontSize=use_setting_useSetting("typography.customFontSize"),fontStyle=use_setting_useSetting("typography.fontStyle"),fontWeight=use_setting_useSetting("typography.fontWeight"),lineHeight=use_setting_useSetting("typography.lineHeight"),textColumns=use_setting_useSetting("typography.textColumns"),textDecoration=use_setting_useSetting("typography.textDecoration"),textTransform=use_setting_useSetting("typography.textTransform"),letterSpacing=use_setting_useSetting("typography.letterSpacing"),padding=use_setting_useSetting("spacing.padding"),margin=use_setting_useSetting("spacing.margin"),blockGap=use_setting_useSetting("spacing.blockGap"),spacingSizes=use_setting_useSetting("spacing.spacingSizes"),units=use_setting_useSetting("spacing.units"),minHeight=use_setting_useSetting("dimensions.minHeight"),layout=use_setting_useSetting("layout"),borderColor=use_setting_useSetting("border.color"),borderRadius=use_setting_useSetting("border.radius"),borderStyle=use_setting_useSetting("border.style"),borderWidth=use_setting_useSetting("border.width"),customColorsEnabled=use_setting_useSetting("color.custom"),customColors=use_setting_useSetting("color.palette.custom"),customDuotone=use_setting_useSetting("color.customDuotone"),themeColors=use_setting_useSetting("color.palette.theme"),defaultColors=use_setting_useSetting("color.palette.default"),defaultPalette=use_setting_useSetting("color.defaultPalette"),defaultDuotone=use_setting_useSetting("color.defaultDuotone"),userDuotonePalette=use_setting_useSetting("color.duotone.custom"),themeDuotonePalette=use_setting_useSetting("color.duotone.theme"),defaultDuotonePalette=use_setting_useSetting("color.duotone.default"),userGradientPalette=use_setting_useSetting("color.gradients.custom"),themeGradientPalette=use_setting_useSetting("color.gradients.theme"),defaultGradientPalette=use_setting_useSetting("color.gradients.default"),defaultGradients=use_setting_useSetting("color.defaultGradients"),areCustomGradientsEnabled=use_setting_useSetting("color.customGradient"),isBackgroundEnabled=use_setting_useSetting("color.background"),isLinkEnabled=use_setting_useSetting("color.link"),isTextEnabled=use_setting_useSetting("color.text");return useSettingsForBlockElement((0,react.useMemo)((()=>({color:{palette:{custom:customColors,theme:themeColors,default:defaultColors},gradients:{custom:userGradientPalette,theme:themeGradientPalette,default:defaultGradientPalette},duotone:{custom:userDuotonePalette,theme:themeDuotonePalette,default:defaultDuotonePalette},defaultGradients,defaultPalette,defaultDuotone,custom:customColorsEnabled,customGradient:areCustomGradientsEnabled,customDuotone,background:isBackgroundEnabled,link:isLinkEnabled,text:isTextEnabled},typography:{fontFamilies:{custom:fontFamilies},fontSizes:{custom:fontSizes},customFontSize,fontStyle,fontWeight,lineHeight,textColumns,textDecoration,textTransform,letterSpacing},spacing:{spacingSizes:{custom:spacingSizes},padding,margin,blockGap,units},border:{color:borderColor,radius:borderRadius,style:borderStyle,width:borderWidth},dimensions:{minHeight},layout,parentLayout})),[fontFamilies,fontSizes,customFontSize,fontStyle,fontWeight,lineHeight,textColumns,textDecoration,textTransform,letterSpacing,padding,margin,blockGap,spacingSizes,units,minHeight,layout,parentLayout,borderColor,borderRadius,borderStyle,borderWidth,customColorsEnabled,customColors,customDuotone,themeColors,defaultColors,defaultPalette,defaultDuotone,userDuotonePalette,themeDuotonePalette,defaultDuotonePalette,userGradientPalette,themeGradientPalette,defaultGradientPalette,defaultGradients,areCustomGradientsEnabled,isBackgroundEnabled,isLinkEnabled,isTextEnabled]),name)}const justifyContentMap={left:"flex-start",right:"flex-end",center:"center","space-between":"space-between"},alignItemsMap={left:"flex-start",right:"flex-end",center:"center",stretch:"stretch"},verticalAlignmentMap={top:"flex-start",center:"center",bottom:"flex-end",stretch:"stretch","space-between":"space-between"},flexWrapOptions=["wrap","nowrap"],flex={name:"flex",label:(0,i18n_build_module.__)("Flex"),inspectorControls:function FlexLayoutInspectorControls({layout={},onChange,layoutBlockSupport={}}){const{allowOrientation=!0}=layoutBlockSupport;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(component.Z,null,(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(FlexLayoutJustifyContentControl,{layout,onChange})),(0,react.createElement)(flex_item_component.Z,null,allowOrientation&&(0,react.createElement)(OrientationControl,{layout,onChange}))),(0,react.createElement)(FlexWrapControl,{layout,onChange}))},toolBarControls:function FlexLayoutToolbarControls({layout={},onChange,layoutBlockSupport}){if(layoutBlockSupport?.allowSwitching)return null;const{allowVerticalAlignment=!0}=layoutBlockSupport;return(0,react.createElement)(block_controls,{group:"block",__experimentalShareWithChildBlocks:!0},(0,react.createElement)(FlexLayoutJustifyContentControl,{layout,onChange,isToolbar:!0}),allowVerticalAlignment&&(0,react.createElement)(FlexLayoutVerticalAlignmentControl,{layout,onChange,isToolbar:!0}))},getLayoutStyle:function getLayoutStyle({selector,layout,style,blockName,hasBlockGapSupport,layoutDefinitions=LAYOUT_DEFINITIONS}){const{orientation="horizontal"}=layout,blockGapValue=style?.spacing?.blockGap&&!shouldSkipSerialization(blockName,"spacing","blockGap")?getGapCSSValue(style?.spacing?.blockGap,"0.5em"):void 0,justifyContent=justifyContentMap[layout.justifyContent],flexWrap=flexWrapOptions.includes(layout.flexWrap)?layout.flexWrap:"wrap",verticalAlignment=verticalAlignmentMap[layout.verticalAlignment],alignItems=alignItemsMap[layout.justifyContent]||alignItemsMap.left;let output="";const rules=[];return flexWrap&&"wrap"!==flexWrap&&rules.push(`flex-wrap: ${flexWrap}`),"horizontal"===orientation?(verticalAlignment&&rules.push(`align-items: ${verticalAlignment}`),justifyContent&&rules.push(`justify-content: ${justifyContent}`)):(verticalAlignment&&rules.push(`justify-content: ${verticalAlignment}`),rules.push("flex-direction: column"),rules.push(`align-items: ${alignItems}`)),rules.length&&(output=`${appendSelectors(selector)} {\n\t\t\t\t${rules.join("; ")};\n\t\t\t}`),hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"flex",blockGapValue)),output},getOrientation(layout){const{orientation="horizontal"}=layout;return orientation},getAlignments:()=>[]};function FlexLayoutVerticalAlignmentControl({layout,onChange,isToolbar=!1}){const{orientation="horizontal"}=layout,defaultVerticalAlignment="horizontal"===orientation?verticalAlignmentMap.center:verticalAlignmentMap.top,{verticalAlignment=defaultVerticalAlignment}=layout,onVerticalAlignmentChange=value=>{onChange({...layout,verticalAlignment:value})};if(isToolbar)return(0,react.createElement)(BlockVerticalAlignmentControl,{onChange:onVerticalAlignmentChange,value:verticalAlignment,controls:"horizontal"===orientation?["top","center","bottom","stretch"]:["top","center","bottom","space-between"]});const verticalAlignmentOptions=[{value:"flex-start",label:(0,i18n_build_module.__)("Align items top")},{value:"center",label:(0,i18n_build_module.__)("Align items center")},{value:"flex-end",label:(0,i18n_build_module.__)("Align items bottom")}];return(0,react.createElement)("fieldset",{className:"block-editor-hooks__flex-layout-vertical-alignment-control"},(0,react.createElement)("legend",null,(0,i18n_build_module.__)("Vertical alignment")),(0,react.createElement)("div",null,verticalAlignmentOptions.map(((value,icon,label)=>(0,react.createElement)(build_module_button.ZP,{key:value,label,icon,isPressed:verticalAlignment===value,onClick:()=>onVerticalAlignmentChange(value)})))))}const POPOVER_PROPS={placement:"bottom-start"};function FlexLayoutJustifyContentControl({layout,onChange,isToolbar=!1}){const{justifyContent="left",orientation="horizontal"}=layout,onJustificationChange=value=>{onChange({...layout,justifyContent:value})},allowedControls=["left","center","right"];if("horizontal"===orientation?allowedControls.push("space-between"):allowedControls.push("stretch"),isToolbar)return(0,react.createElement)(JustifyContentControl,{allowedControls,value:justifyContent,onChange:onJustificationChange,popoverProps:POPOVER_PROPS});const justificationOptions=[{value:"left",icon:justify_left.Z,label:(0,i18n_build_module.__)("Justify items left")},{value:"center",icon:justify_center.Z,label:(0,i18n_build_module.__)("Justify items center")},{value:"right",icon:justify_right.Z,label:(0,i18n_build_module.__)("Justify items right")}];return"horizontal"===orientation?justificationOptions.push({value:"space-between",icon:justify_space_between.Z,label:(0,i18n_build_module.__)("Space between items")}):justificationOptions.push({value:"stretch",icon:justify_stretch.Z,label:(0,i18n_build_module.__)("Stretch items")}),(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Justification"),value:justifyContent,onChange:onJustificationChange,className:"block-editor-hooks__flex-layout-justification-controls"},justificationOptions.map((({value,icon,label})=>(0,react.createElement)(toggle_group_control_option_icon_component.Z,{key:value,value,icon,label}))))}function FlexWrapControl({layout,onChange}){const{flexWrap="wrap"}=layout;return(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Allow to wrap to multiple lines"),onChange:value=>{onChange({...layout,flexWrap:value?"wrap":"nowrap"})},checked:"wrap"===flexWrap})}function OrientationControl({layout,onChange}){const{orientation="horizontal",verticalAlignment,justifyContent}=layout;return(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-hooks__flex-layout-orientation-controls",label:(0,i18n_build_module.__)("Orientation"),value:orientation,onChange:value=>{let newVerticalAlignment=verticalAlignment,newJustification=justifyContent;return"horizontal"===value?("space-between"===verticalAlignment&&(newVerticalAlignment="center"),"stretch"===justifyContent&&(newJustification="left")):("stretch"===verticalAlignment&&(newVerticalAlignment="top"),"space-between"===justifyContent&&(newJustification="left")),onChange({...layout,orientation:value,verticalAlignment:newVerticalAlignment,justifyContent:newJustification})}},(0,react.createElement)(toggle_group_control_option_icon_component.Z,{icon:arrow_right.Z,value:"horizontal",label:(0,i18n_build_module.__)("Horizontal")}),(0,react.createElement)(toggle_group_control_option_icon_component.Z,{icon:arrow_down.Z,value:"vertical",label:(0,i18n_build_module.__)("Vertical")}))}const flow={name:"default",label:(0,i18n_build_module.__)("Flow"),inspectorControls:function DefaultLayoutInspectorControls(){return null},toolBarControls:function DefaultLayoutToolbarControls(){return null},getLayoutStyle:function getLayoutStyle({selector,style,blockName,hasBlockGapSupport,layoutDefinitions=LAYOUT_DEFINITIONS}){const blockGapStyleValue=getGapCSSValue(style?.spacing?.blockGap);let blockGapValue="";shouldSkipSerialization(blockName,"spacing","blockGap")||(blockGapStyleValue?.top?blockGapValue=getGapCSSValue(blockGapStyleValue?.top):"string"==typeof blockGapStyleValue&&(blockGapValue=getGapCSSValue(blockGapStyleValue)));let output="";return hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"default",blockGapValue)),output},getOrientation:()=>"vertical",getAlignments(layout,isBlockBasedTheme){const alignmentInfo=getAlignmentsInfo(layout);if(void 0!==layout.alignments)return layout.alignments.includes("none")||layout.alignments.unshift("none"),layout.alignments.map((alignment=>({name:alignment,info:alignmentInfo[alignment]})));const alignments=[{name:"left"},{name:"center"},{name:"right"}];if(!isBlockBasedTheme){const{contentSize,wideSize}=layout;contentSize&&alignments.unshift({name:"full"}),wideSize&&alignments.unshift({name:"wide",info:alignmentInfo.wide})}return alignments.unshift({name:"none",info:alignmentInfo.none}),alignments}};var utils=__webpack_require__("./packages/components/build-module/unit-control/utils.js"),unit_control=__webpack_require__("./packages/components/build-module/unit-control/index.js"),build_module_icon=__webpack_require__("./packages/icons/build-module/icon/index.js"),position_center=__webpack_require__("./packages/icons/build-module/library/position-center.js"),stretch_wide=__webpack_require__("./packages/icons/build-module/library/stretch-wide.js"),style_engine_build_module=__webpack_require__("./packages/style-engine/build-module/index.js");const constrained={name:"constrained",label:(0,i18n_build_module.__)("Constrained"),inspectorControls:function DefaultLayoutInspectorControls({layout,onChange,layoutBlockSupport={}}){const{wideSize,contentSize,justifyContent="center"}=layout,{allowJustification=!0}=layoutBlockSupport,justificationOptions=[{value:"left",icon:justify_left.Z,label:(0,i18n_build_module.__)("Justify items left")},{value:"center",icon:justify_center.Z,label:(0,i18n_build_module.__)("Justify items center")},{value:"right",icon:justify_right.Z,label:(0,i18n_build_module.__)("Justify items right")}],units=(0,utils.nj)({availableUnits:use_setting_useSetting("spacing.units")||["%","px","em","rem","vw"]});return(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{className:"block-editor-hooks__layout-controls"},(0,react.createElement)("div",{className:"block-editor-hooks__layout-controls-unit"},(0,react.createElement)(unit_control.ZP,{className:"block-editor-hooks__layout-controls-unit-input",label:(0,i18n_build_module.__)("Content"),labelPosition:"top",__unstableInputWidth:"80px",value:contentSize||wideSize||"",onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?"0":nextWidth,onChange({...layout,contentSize:nextWidth})},units}),(0,react.createElement)(build_module_icon.Z,{icon:position_center.Z})),(0,react.createElement)("div",{className:"block-editor-hooks__layout-controls-unit"},(0,react.createElement)(unit_control.ZP,{className:"block-editor-hooks__layout-controls-unit-input",label:(0,i18n_build_module.__)("Wide"),labelPosition:"top",__unstableInputWidth:"80px",value:wideSize||contentSize||"",onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?"0":nextWidth,onChange({...layout,wideSize:nextWidth})},units}),(0,react.createElement)(build_module_icon.Z,{icon:stretch_wide.Z}))),(0,react.createElement)("p",{className:"block-editor-hooks__layout-controls-helptext"},(0,i18n_build_module.__)("Customize the width for all elements that are assigned to the center or wide columns.")),allowJustification&&(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Justification"),value:justifyContent,onChange:value=>{onChange({...layout,justifyContent:value})}},justificationOptions.map((({value,icon,label})=>(0,react.createElement)(toggle_group_control_option_icon_component.Z,{key:value,value,icon,label})))))},toolBarControls:function DefaultLayoutToolbarControls(){return null},getLayoutStyle:function getLayoutStyle({selector,layout={},style,blockName,hasBlockGapSupport,layoutDefinitions=LAYOUT_DEFINITIONS}){const{contentSize,wideSize,justifyContent}=layout,blockGapStyleValue=getGapCSSValue(style?.spacing?.blockGap);let blockGapValue="";shouldSkipSerialization(blockName,"spacing","blockGap")||(blockGapStyleValue?.top?blockGapValue=getGapCSSValue(blockGapStyleValue?.top):"string"==typeof blockGapStyleValue&&(blockGapValue=getGapCSSValue(blockGapStyleValue)));const marginLeft="left"===justifyContent?"0 !important":"auto !important",marginRight="right"===justifyContent?"0 !important":"auto !important";let output=contentSize||wideSize?`\n\t\t\t\t\t${appendSelectors(selector,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")} {\n\t\t\t\t\t\tmax-width: ${null!=contentSize?contentSize:wideSize};\n\t\t\t\t\t\tmargin-left: ${marginLeft};\n\t\t\t\t\t\tmargin-right: ${marginRight};\n\t\t\t\t\t}\n\t\t\t\t\t${appendSelectors(selector,"> .alignwide")}  {\n\t\t\t\t\t\tmax-width: ${null!=wideSize?wideSize:contentSize};\n\t\t\t\t\t}\n\t\t\t\t\t${appendSelectors(selector,"> .alignfull")} {\n\t\t\t\t\t\tmax-width: none;\n\t\t\t\t\t}\n\t\t\t\t`:"";if("left"===justifyContent?output+=`${appendSelectors(selector,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-left: ${marginLeft}; }`:"right"===justifyContent&&(output+=`${appendSelectors(selector,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-right: ${marginRight}; }`),style?.spacing?.padding){(0,style_engine_build_module.R)(style).forEach((rule=>{"paddingRight"===rule.key?output+=`\n\t\t\t\t\t${appendSelectors(selector,"> .alignfull")} {\n\t\t\t\t\t\tmargin-right: calc(${rule.value} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`:"paddingLeft"===rule.key&&(output+=`\n\t\t\t\t\t${appendSelectors(selector,"> .alignfull")} {\n\t\t\t\t\t\tmargin-left: calc(${rule.value} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`)}))}return hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"constrained",blockGapValue)),output},getOrientation:()=>"vertical",getAlignments(layout){const alignmentInfo=getAlignmentsInfo(layout);if(void 0!==layout.alignments)return layout.alignments.includes("none")||layout.alignments.unshift("none"),layout.alignments.map((alignment=>({name:alignment,info:alignmentInfo[alignment]})));const{contentSize,wideSize}=layout,alignments=[{name:"left"},{name:"center"},{name:"right"}];return contentSize&&alignments.unshift({name:"full"}),wideSize&&alignments.unshift({name:"wide",info:alignmentInfo.wide}),alignments.unshift({name:"none",info:alignmentInfo.none}),alignments}};var base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),range_control=__webpack_require__("./packages/components/build-module/range-control/index.js");const RANGE_CONTROL_MAX_VALUES={px:600,"%":100,vw:100,vh:100,em:38,rem:38},grid={name:"grid",label:(0,i18n_build_module.__)("Grid"),inspectorControls:function GridLayoutInspectorControls({layout={},onChange}){return layout?.columnCount?(0,react.createElement)(GridLayoutColumnsControl,{layout,onChange}):(0,react.createElement)(GridLayoutMinimumWidthControl,{layout,onChange})},toolBarControls:function DefaultLayoutToolbarControls(){return null},getLayoutStyle:function getLayoutStyle({selector,layout,style,blockName,hasBlockGapSupport,layoutDefinitions=LAYOUT_DEFINITIONS}){const{minimumColumnWidth="12rem",columnCount=null}=layout,blockGapValue=style?.spacing?.blockGap&&!shouldSkipSerialization(blockName,"spacing","blockGap")?getGapCSSValue(style?.spacing?.blockGap,"0.5em"):void 0;let output="";const rules=[];return columnCount?rules.push(`grid-template-columns: repeat(${columnCount}, minmax(0, 1fr))`):minimumColumnWidth&&rules.push(`grid-template-columns: repeat(auto-fill, minmax(min(${minimumColumnWidth}, 100%), 1fr))`),rules.length&&(output=`${appendSelectors(selector)} { ${rules.join("; ")}; }`),hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"grid",blockGapValue)),output},getOrientation:()=>"horizontal",getAlignments:()=>[]};function GridLayoutMinimumWidthControl({layout,onChange}){const{minimumColumnWidth:value="12rem"}=layout,[quantity,unit]=(0,utils.YX)(value);return(0,react.createElement)("fieldset",null,(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},(0,i18n_build_module.__)("Minimum column width")),(0,react.createElement)(component.Z,{gap:4},(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(unit_control.ZP,{size:"__unstable-large",onChange:newValue=>{onChange({...layout,minimumColumnWidth:newValue})},onUnitChange:newUnit=>{let newValue;["em","rem"].includes(newUnit)&&"px"===unit?newValue=(quantity/16).toFixed(2)+newUnit:["em","rem"].includes(unit)&&"px"===newUnit?newValue=Math.round(16*quantity)+newUnit:["vh","vw","%"].includes(newUnit)&&quantity>100&&(newValue=100+newUnit),onChange({...layout,minimumColumnWidth:newValue})},value,min:0})),(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(range_control.Z,{onChange:next=>{onChange({...layout,minimumColumnWidth:[next,unit].join("")})},value:quantity,min:0,max:RANGE_CONTROL_MAX_VALUES[unit]||600,withInputField:!1}))))}function GridLayoutColumnsControl({layout,onChange}){const{columnCount=3}=layout;return(0,react.createElement)(range_control.Z,{label:(0,i18n_build_module.__)("Columns"),value:columnCount,onChange:value=>onChange({...layout,columnCount:value}),min:1,max:6})}const layoutTypes=[flow,flex,constrained,grid];function getLayoutType(name="default"){return layoutTypes.find((layoutType=>layoutType.name===name))}const defaultLayout={type:"default"},Layout=(0,react.createContext)(defaultLayout),LayoutProvider=Layout.Provider;function useLayout(){return(0,react.useContext)(Layout)}function LayoutStyle({layout={},css,...props}){const layoutType=getLayoutType(layout.type),hasBlockGapSupport=null!==use_setting_useSetting("spacing.blockGap");if(layoutType){if(css)return(0,react.createElement)("style",null,css);const layoutStyle=layoutType.getLayoutStyle?.({hasBlockGapSupport,layout,...props});if(layoutStyle)return(0,react.createElement)("style",null,layoutStyle)}return null}const use_available_alignments_EMPTY_ARRAY=[],use_available_alignments_DEFAULT_CONTROLS=["none","left","center","right","wide","full"],WIDE_CONTROLS=["wide","full"];function useAvailableAlignments(controls=use_available_alignments_DEFAULT_CONTROLS){controls.includes("none")||(controls=["none",...controls]);const{wideControlsEnabled=!1,themeSupportsLayout,isBlockBasedTheme}=(0,use_select.Z)((select=>{const{getSettings}=select(store),settings=getSettings();return{wideControlsEnabled:settings.alignWide,themeSupportsLayout:settings.supportsLayout,isBlockBasedTheme:settings.__unstableIsBlockBasedTheme}}),[]),layout=useLayout(),layoutType=getLayoutType(layout?.type),layoutAlignments=layoutType.getAlignments(layout,isBlockBasedTheme);if(themeSupportsLayout){const alignments=layoutAlignments.filter((({name:alignmentName})=>controls.includes(alignmentName)));return 1===alignments.length&&"none"===alignments[0].name?use_available_alignments_EMPTY_ARRAY:alignments}if("default"!==layoutType.name&&"constrained"!==layoutType.name)return use_available_alignments_EMPTY_ARRAY;const{alignments:availableAlignments=use_available_alignments_DEFAULT_CONTROLS}=layout,enabledControls=controls.filter((control=>(layout.alignments||wideControlsEnabled||!WIDE_CONTROLS.includes(control))&&availableAlignments.includes(control))).map((enabledControl=>({name:enabledControl})));return 1===enabledControls.length&&"none"===enabledControls[0].name?use_available_alignments_EMPTY_ARRAY:enabledControls}const align_none=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M5 15h14V9H5v6zm0 4.8h14v-1.5H5v1.5zM5 4.2v1.5h14V4.2H5z"})),position_left=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M4 9v6h14V9H4zm8-4.8H4v1.5h8V4.2zM4 19.8h8v-1.5H4v1.5z"})),position_right=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M6 15h14V9H6v6zm6-10.8v1.5h8V4.2h-8zm0 15.6h8v-1.5h-8v1.5z"})),stretch_full_width=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M5 4v11h14V4H5zm3 15.8h8v-1.5H8v1.5z"})),constants_BLOCK_ALIGNMENTS_CONTROLS={none:{icon:align_none,title:(0,i18n_build_module._x)("None","Alignment option")},left:{icon:position_left,title:(0,i18n_build_module.__)("Align left")},center:{icon:position_center.Z,title:(0,i18n_build_module.__)("Align center")},right:{icon:position_right,title:(0,i18n_build_module.__)("Align right")},wide:{icon:stretch_wide.Z,title:(0,i18n_build_module.__)("Wide width")},full:{icon:stretch_full_width,title:(0,i18n_build_module.__)("Full width")}};const block_alignment_control_ui=function BlockAlignmentUI({value,onChange,controls,isToolbar,isCollapsed=!0}){const enabledControls=useAvailableAlignments(controls);if(!!!enabledControls.length)return null;function onChangeAlignment(align){onChange([value,"none"].includes(align)?void 0:align)}const activeAlignmentControl=constants_BLOCK_ALIGNMENTS_CONTROLS[value],defaultAlignmentControl=constants_BLOCK_ALIGNMENTS_CONTROLS.none,UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,commonProps={icon:activeAlignmentControl?activeAlignmentControl.icon:defaultAlignmentControl.icon,label:(0,i18n_build_module.__)("Align")},extraProps=isToolbar?{isCollapsed,controls:enabledControls.map((({name:controlName})=>({...constants_BLOCK_ALIGNMENTS_CONTROLS[controlName],isActive:value===controlName||!value&&"none"===controlName,role:isCollapsed?"menuitemradio":void 0,onClick:()=>onChangeAlignment(controlName)})))}:{toggleProps:{describedBy:(0,i18n_build_module.__)("Change alignment")},children:({onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_group.Z,{className:"block-editor-block-alignment-control__menu-group"},enabledControls.map((({name:controlName,info})=>{const{icon,title}=constants_BLOCK_ALIGNMENTS_CONTROLS[controlName],isSelected=controlName===value||!value&&"none"===controlName;return(0,react.createElement)(menu_item.Z,{key:controlName,icon,iconPosition:"left",className:classnames_default()("components-dropdown-menu__menu-item",{"is-active":isSelected}),isSelected,onClick:()=>{onChangeAlignment(controlName),onClose()},role:"menuitemradio",info},title)}))))};return(0,react.createElement)(UIComponent,(0,esm_extends.Z)({},commonProps,extraProps))},BlockAlignmentControl=props=>(0,react.createElement)(block_alignment_control_ui,(0,esm_extends.Z)({},props,{isToolbar:!1})),BlockAlignmentToolbar=props=>(0,react.createElement)(block_alignment_control_ui,(0,esm_extends.Z)({},props,{isToolbar:!0}));var use_dispatch=__webpack_require__("./packages/data/build-module/components/use-dispatch/use-dispatch.js");const BlockListBlockContext=(0,react.createContext)(null);function useBlockEditingMode(mode){var _useContext;const{clientId=""}=null!==(_useContext=(0,react.useContext)(BlockListBlockContext))&&void 0!==_useContext?_useContext:{},blockEditingMode=(0,use_select.Z)((select=>unlock(select(store)).getBlockEditingMode(clientId)),[clientId]),{setBlockEditingMode,unsetBlockEditingMode}=unlock((0,use_dispatch.Z)(store));return(0,react.useEffect)((()=>(mode&&setBlockEditingMode(clientId,mode),()=>{mode&&unsetBlockEditingMode(clientId)})),[clientId,mode]),blockEditingMode}const ALL_ALIGNMENTS=["left","center","right","wide","full"],WIDE_ALIGNMENTS=["wide","full"];function getValidAlignments(blockAlign,hasWideBlockSupport=!0,hasWideEnabled=!0){let validAlignments;return validAlignments=Array.isArray(blockAlign)?ALL_ALIGNMENTS.filter((value=>blockAlign.includes(value))):!0===blockAlign?[...ALL_ALIGNMENTS]:[],!hasWideEnabled||!0===blockAlign&&!hasWideBlockSupport?validAlignments.filter((alignment=>!WIDE_ALIGNMENTS.includes(alignment))):validAlignments}const withToolbarControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const blockEdit=(0,react.createElement)(BlockEdit,(0,esm_extends.Z)({key:"edit"},props)),{name:blockName}=props,validAlignments=useAvailableAlignments(getValidAlignments((0,build_module.Dx)(blockName,"align"),(0,build_module.zb)(blockName,"alignWide",!0))).map((({name})=>name)),blockEditingMode=useBlockEditingMode();if(!validAlignments.length||"default"!==blockEditingMode)return blockEdit;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_controls,{group:"block",__experimentalShareWithChildBlocks:!0},(0,react.createElement)(BlockAlignmentControl,{value:props.attributes.align,onChange:nextAlign=>{if(!nextAlign){const blockType=(0,build_module.ck)(props.name),blockDefaultAlign=blockType?.attributes?.align?.default;blockDefaultAlign&&(nextAlign="")}props.setAttributes({align:nextAlign})},controls:validAlignments})),blockEdit)}),"withToolbarControls"),withDataAlign=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const{name,attributes}=props,{align}=attributes,validAlignments=useAvailableAlignments(getValidAlignments((0,build_module.Dx)(name,"align"),(0,build_module.zb)(name,"alignWide",!0)));if(void 0===align)return(0,react.createElement)(BlockListBlock,props);let wrapperProps=props.wrapperProps;return validAlignments.some((alignment=>alignment.name===align))&&(wrapperProps={...wrapperProps,"data-align":align}),(0,react.createElement)(BlockListBlock,(0,esm_extends.Z)({},props,{wrapperProps}))}),"withDataAlign");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/align/addAttribute",(function addAttribute(settings){var _settings$attributes$;return"type"in(null!==(_settings$attributes$=settings.attributes?.align)&&void 0!==_settings$attributes$?_settings$attributes$:{})||(0,build_module.zb)(settings,"align")&&(settings.attributes={...settings.attributes,align:{type:"string",enum:[...ALL_ALIGNMENTS,""]}}),settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/align/with-data-align",withDataAlign),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/align/with-toolbar-controls",withToolbarControls),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/align/addAssignedAlign",(function addAssignedAlign(props,blockType,attributes){const{align}=attributes;return getValidAlignments((0,build_module.Dx)(blockType,"align"),(0,build_module.zb)(blockType,"alignWide",!0)).includes(align)&&(props.className=classnames_default()(`align${align}`,props.className)),props})),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/lock/addAttribute",(function lock_addAttribute(settings){var _settings$attributes$;return"type"in(null!==(_settings$attributes$=settings.attributes?.lock)&&void 0!==_settings$attributes$?_settings$attributes$:{})||(settings.attributes={...settings.attributes,lock:{type:"object"}}),settings}));var text_control=__webpack_require__("./packages/components/build-module/text-control/index.js"),external_link=__webpack_require__("./packages/components/build-module/external-link/index.js"),body=__webpack_require__("./packages/components/build-module/panel/body.js"),context=__webpack_require__("./packages/components/build-module/tools-panel/context.js");const InspectorControlsDefault=(0,slot_fill.up)("InspectorControls"),InspectorControlsAdvanced=(0,slot_fill.up)("InspectorAdvancedControls"),InspectorControlsBorder=(0,slot_fill.up)("InspectorControlsBorder"),InspectorControlsColor=(0,slot_fill.up)("InspectorControlsColor"),InspectorControlsFilter=(0,slot_fill.up)("InspectorControlsFilter"),InspectorControlsDimensions=(0,slot_fill.up)("InspectorControlsDimensions"),InspectorControlsPosition=(0,slot_fill.up)("InspectorControlsPosition"),InspectorControlsTypography=(0,slot_fill.up)("InspectorControlsTypography"),inspector_controls_groups={default:InspectorControlsDefault,advanced:InspectorControlsAdvanced,border:InspectorControlsBorder,color:InspectorControlsColor,filter:InspectorControlsFilter,dimensions:InspectorControlsDimensions,list:(0,slot_fill.up)("InspectorControlsListView"),settings:InspectorControlsDefault,styles:(0,slot_fill.up)("InspectorControlsStyles"),typography:InspectorControlsTypography,position:InspectorControlsPosition};var fill_process=__webpack_require__("./node_modules/process/browser.js");function InspectorControlsFill({children,group="default",__experimentalGroup,resetAllFilter}){__experimentalGroup&&((0,deprecated_build_module.Z)("`__experimentalGroup` property in `InspectorControlsFill`",{since:"6.2",version:"6.4",alternative:"`group`"}),group=__experimentalGroup);const isDisplayed=useDisplayBlockControls(),Fill=inspector_controls_groups[group]?.Fill;return Fill?isDisplayed?(0,react.createElement)(style_provider.Z,{document},(0,react.createElement)(Fill,null,(fillProps=>(0,react.createElement)(ToolsPanelInspectorControl,{fillProps,children,resetAllFilter})))):null:(void 0!==fill_process&&fill_process.env,null)}function ToolsPanelInspectorControl({children,resetAllFilter,fillProps}){const{registerResetAllFilter,deregisterResetAllFilter}=fillProps;(0,react.useEffect)((()=>(resetAllFilter&&registerResetAllFilter&&registerResetAllFilter(resetAllFilter),()=>{resetAllFilter&&deregisterResetAllFilter&&deregisterResetAllFilter(resetAllFilter)})),[resetAllFilter,registerResetAllFilter,deregisterResetAllFilter]);const value=fillProps&&Object.keys(fillProps).length>0?fillProps:null;return(0,react.createElement)(context.h.Provider,{value},children)}var tools_panel_component=__webpack_require__("./packages/components/build-module/tools-panel/tools-panel/component.js");function BlockSupportToolsPanel({children,group,label}){const{updateBlockAttributes}=(0,use_dispatch.Z)(store),{getBlockAttributes,getMultiSelectedBlockClientIds,getSelectedBlockClientId,hasMultiSelection}=(0,use_select.Z)(store),panelId=getSelectedBlockClientId(),resetAll=(0,react.useCallback)(((resetFilters=[])=>{const newAttributes={},clientIds=hasMultiSelection()?getMultiSelectedBlockClientIds():[panelId];clientIds.forEach((clientId=>{const{style}=getBlockAttributes(clientId);let newBlockAttributes={style};resetFilters.forEach((resetFilter=>{newBlockAttributes={...newBlockAttributes,...resetFilter(newBlockAttributes)}})),newBlockAttributes={...newBlockAttributes,style:utils_cleanEmptyObject(newBlockAttributes.style)},newAttributes[clientId]=newBlockAttributes})),updateBlockAttributes(clientIds,newAttributes,!0)}),[getBlockAttributes,getMultiSelectedBlockClientIds,hasMultiSelection,panelId,updateBlockAttributes]);return(0,react.createElement)(tools_panel_component.Z,{className:`${group}-block-support-panel`,label,resetAll,key:panelId,panelId,hasInnerWrapper:!0,shouldRenderPlaceholderItems:!0,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last"},children)}function BlockSupportSlotContainer({Slot,...props}){const toolsPanelContext=(0,react.useContext)(context.h);return(0,react.createElement)(Slot,(0,esm_extends.Z)({},props,{fillProps:toolsPanelContext,bubblesVirtually:!0}))}var slot_process=__webpack_require__("./node_modules/process/browser.js");function InspectorControlsSlot({__experimentalGroup,group="default",label,...props}){__experimentalGroup&&((0,deprecated_build_module.Z)("`__experimentalGroup` property in `InspectorControlsSlot`",{since:"6.2",version:"6.4",alternative:"`group`"}),group=__experimentalGroup);const Slot=inspector_controls_groups[group]?.Slot,fills=(0,use_slot_fills.Z)(Slot?.__unstableName);return Slot?fills?.length?label?(0,react.createElement)(BlockSupportToolsPanel,{group,label},(0,react.createElement)(BlockSupportSlotContainer,(0,esm_extends.Z)({},props,{Slot}))):(0,react.createElement)(Slot,(0,esm_extends.Z)({},props,{bubblesVirtually:!0})):null:(void 0!==slot_process&&slot_process.env,null)}const InspectorControls=InspectorControlsFill;InspectorControls.Slot=InspectorControlsSlot;const InspectorAdvancedControls=props=>(0,react.createElement)(InspectorControlsFill,(0,esm_extends.Z)({},props,{group:"advanced"}));InspectorAdvancedControls.Slot=props=>(0,react.createElement)(InspectorControlsSlot,(0,esm_extends.Z)({},props,{group:"advanced"})),InspectorAdvancedControls.slotName="InspectorAdvancedControls";const inspector_controls=InspectorControls,ANCHOR_REGEX=/[\s#]/g,ANCHOR_SCHEMA={type:"string",source:"attribute",attribute:"id",selector:"*"};const withInspectorControl=(0,create_higher_order_component.o)((BlockEdit=>props=>{const hasAnchor=(0,build_module.zb)(props.name,"anchor"),blockEditingMode=useBlockEditingMode();if(hasAnchor&&props.isSelected){const isWeb="web"===platform.Z.OS,textControl=(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,className:"html-anchor-control",label:(0,i18n_build_module.__)("HTML anchor"),help:(0,react.createElement)(react.Fragment,null,(0,i18n_build_module.__)("Enter a word or two — without spaces — to make a unique web address just for this block, called an “anchor.” Then, you’ll be able to link directly to this section of your page."),isWeb&&(0,react.createElement)(external_link.Z,{href:(0,i18n_build_module.__)("https://wordpress.org/documentation/article/page-jumps/")},(0,i18n_build_module.__)("Learn more about anchors"))),value:props.attributes.anchor||"",placeholder:isWeb?null:(0,i18n_build_module.__)("Add an anchor"),onChange:nextValue=>{nextValue=nextValue.replace(ANCHOR_REGEX,"-"),props.setAttributes({anchor:nextValue})},autoCapitalize:"none",autoComplete:"off"});return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(BlockEdit,props),isWeb&&"default"===blockEditingMode&&(0,react.createElement)(inspector_controls,{group:"advanced"},textControl),!isWeb&&"core/heading"===props.name&&(0,react.createElement)(inspector_controls,null,(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Heading settings")},textControl)))}return(0,react.createElement)(BlockEdit,props)}),"withInspectorControl");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/anchor/attribute",(function anchor_addAttribute(settings){var _settings$attributes$;return"type"in(null!==(_settings$attributes$=settings.attributes?.anchor)&&void 0!==_settings$attributes$?_settings$attributes$:{})||(0,build_module.zb)(settings,"anchor")&&(settings.attributes={...settings.attributes,anchor:ANCHOR_SCHEMA}),settings})),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/anchor/with-inspector-control",withInspectorControl),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/anchor/save-props",(function addSaveProps(extraProps,blockType,attributes){return(0,build_module.zb)(blockType,"anchor")&&(extraProps.id=""===attributes.anchor?null:attributes.anchor),extraProps}));const ARIA_LABEL_SCHEMA={type:"string",source:"attribute",attribute:"aria-label",selector:"*"};(0,hooks_build_module.KJ)("blocks.registerBlockType","core/ariaLabel/attribute",(function aria_label_addAttribute(settings){return settings?.attributes?.ariaLabel?.type||(0,build_module.zb)(settings,"ariaLabel")&&(settings.attributes={...settings.attributes,ariaLabel:ARIA_LABEL_SCHEMA}),settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/ariaLabel/save-props",(function aria_label_addSaveProps(extraProps,blockType,attributes){return(0,build_module.zb)(blockType,"ariaLabel")&&(extraProps["aria-label"]=""===attributes.ariaLabel?null:attributes.ariaLabel),extraProps}));const custom_class_name_withInspectorControl=(0,create_higher_order_component.o)((BlockEdit=>props=>{const blockEditingMode=useBlockEditingMode();return(0,build_module.zb)(props.name,"customClassName",!0)&&props.isSelected?(0,react.createElement)(react.Fragment,null,(0,react.createElement)(BlockEdit,props),"default"===blockEditingMode&&(0,react.createElement)(inspector_controls,{group:"advanced"},(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,autoComplete:"off",label:(0,i18n_build_module.__)("Additional CSS class(es)"),value:props.attributes.className||"",onChange:nextValue=>{props.setAttributes({className:""!==nextValue?nextValue:void 0})},help:(0,i18n_build_module.__)("Separate multiple classes with spaces.")}))):(0,react.createElement)(BlockEdit,props)}),"withInspectorControl");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/custom-class-name/attribute",(function custom_class_name_addAttribute(settings){return(0,build_module.zb)(settings,"customClassName",!0)&&(settings.attributes={...settings.attributes,className:{type:"string"}}),settings})),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/custom-class-name/with-inspector-control",custom_class_name_withInspectorControl),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/custom-class-name/save-props",(function custom_class_name_addSaveProps(extraProps,blockType,attributes){return(0,build_module.zb)(blockType,"customClassName",!0)&&attributes.className&&(extraProps.className=classnames_default()(extraProps.className,attributes.className)),extraProps})),(0,hooks_build_module.KJ)("blocks.switchToBlockType.transformedBlock","core/color/addTransforms",(function addTransforms(result,source,index,results){if(!(0,build_module.zb)(result.name,"customClassName",!0))return result;if(1===results.length&&result.innerBlocks.length===source.length)return result;if(1===results.length&&source.length>1||results.length>1&&1===source.length)return result;if(source[index]){const originClassName=source[index]?.attributes.className;if(originClassName)return{...result,attributes:{...result.attributes,className:originClassName}}}return result})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/generated-class-name/save-props",(function addGeneratedClassName(extraProps,blockType){return(0,build_module.zb)(blockType,"className",!0)&&("string"==typeof extraProps.className?extraProps.className=[...new Set([(0,build_module.Vk)(blockType.name),...extraProps.className.split(" ")])].join(" ").trim():extraProps.className=(0,build_module.Vk)(blockType.name)),extraProps}));var react_dom=__webpack_require__("./node_modules/react-dom/index.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),use_registry=__webpack_require__("./packages/data/build-module/components/registry-provider/use-registry.js"),async_mode_provider_context=__webpack_require__("./packages/data/build-module/components/async-mode-provider/context.js"),use_viewport_match=__webpack_require__("./packages/compose/build-module/hooks/use-viewport-match/index.js"),use_debounce=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),raw_html=__webpack_require__("./packages/element/build-module/raw-html.js"),with_filters=__webpack_require__("./packages/components/build-module/higher-order/with-filters/index.js"),with_select=__webpack_require__("./packages/data/build-module/components/with-select/index.js"),with_dispatch=__webpack_require__("./packages/data/build-module/components/with-dispatch/index.js"),compose=__webpack_require__("./packages/compose/build-module/higher-order/compose.js"),pure=__webpack_require__("./packages/compose/build-module/higher-order/pure/index.js"),if_condition=__webpack_require__("./packages/compose/build-module/higher-order/if-condition/index.js"),safe_html=__webpack_require__("./packages/dom/build-module/dom/safe-html.js");const block_context_Context=(0,react.createContext)({});function BlockContextProvider({value,children}){const context=(0,react.useContext)(block_context_Context),nextValue=(0,react.useMemo)((()=>({...context,...value})),[context,value]);return(0,react.createElement)(block_context_Context.Provider,{value:nextValue,children})}const block_context=block_context_Context,DEFAULT_BLOCK_CONTEXT={},edit=(0,with_filters.Z)("editor.BlockEdit")((props=>{const{attributes={},name}=props,blockType=(0,build_module.ck)(name),blockContext=(0,react.useContext)(block_context),context=(0,react.useMemo)((()=>blockType&&blockType.usesContext?Object.fromEntries(Object.entries(blockContext).filter((([key])=>blockType.usesContext.includes(key)))):DEFAULT_BLOCK_CONTEXT),[blockType,blockContext]);if(!blockType)return null;const Component=blockType.edit||blockType.save;if(blockType.apiVersion>1)return(0,react.createElement)(Component,(0,esm_extends.Z)({},props,{context}));const generatedClassName=(0,build_module.zb)(blockType,"className",!0)?(0,build_module.Vk)(name):null,className=classnames_default()(generatedClassName,attributes.className,props.className);return(0,react.createElement)(Component,(0,esm_extends.Z)({},props,{context,className}))}));function BlockEdit(props){const{name,isSelected,clientId,attributes={},__unstableLayoutClassNames}=props,{layout=null}=attributes,context={name,isSelected,clientId,layout:(0,build_module.zb)(name,"layout",!1)||(0,build_module.zb)(name,"__experimentalLayout",!1)?layout:null,__unstableLayoutClassNames};return(0,react.createElement)(Provider,{value:(0,react.useMemo)((()=>context),Object.values(context))},(0,react.createElement)(edit,props))}var modal=__webpack_require__("./packages/components/build-module/modal/index.js"),dropdown_menu=__webpack_require__("./packages/components/build-module/dropdown-menu/index.js"),more_horizontal=__webpack_require__("./packages/icons/build-module/library/more-horizontal.js");const warning=function Warning({className,actions,children,secondaryActions}){return(0,react.createElement)("div",{style:{display:"contents",all:"initial"}},(0,react.createElement)("div",{className:classnames_default()(className,"block-editor-warning")},(0,react.createElement)("div",{className:"block-editor-warning__contents"},(0,react.createElement)("p",{className:"block-editor-warning__message"},children),(react.Children.count(actions)>0||secondaryActions)&&(0,react.createElement)("div",{className:"block-editor-warning__actions"},react.Children.count(actions)>0&&react.Children.map(actions,((action,i)=>(0,react.createElement)("span",{key:i,className:"block-editor-warning__action"},action))),secondaryActions&&(0,react.createElement)(dropdown_menu.Z,{className:"block-editor-warning__secondary",icon:more_horizontal.Z,label:(0,i18n_build_module.__)("More options"),popoverProps:{position:"bottom left",className:"block-editor-warning__dropdown"},noIcons:!0},(()=>(0,react.createElement)(menu_group.Z,null,secondaryActions.map(((item,pos)=>(0,react.createElement)(menu_item.Z,{onClick:item.onClick,key:pos},item.title))))))))))};var character=__webpack_require__("./node_modules/diff/lib/diff/character.js");function BlockView({title,rawContent,renderedContent,action,actionText,className}){return(0,react.createElement)("div",{className},(0,react.createElement)("div",{className:"block-editor-block-compare__content"},(0,react.createElement)("h2",{className:"block-editor-block-compare__heading"},title),(0,react.createElement)("div",{className:"block-editor-block-compare__html"},rawContent),(0,react.createElement)("div",{className:"block-editor-block-compare__preview edit-post-visual-editor"},(0,react.createElement)(raw_html.Z,null,(0,safe_html.Z)(renderedContent)))),(0,react.createElement)("div",{className:"block-editor-block-compare__action"},(0,react.createElement)(build_module_button.ZP,{variant:"secondary",tabIndex:"0",onClick:action},actionText)))}const block_compare=function BlockCompare({block,onKeep,onConvert,convertor,convertButtonText}){const converted=function getConvertedContent(convertedBlock){const newContent=(Array.isArray(convertedBlock)?convertedBlock:[convertedBlock]).map((item=>(0,build_module.kD)(item.name,item.attributes,item.innerBlocks)));return newContent.join("")}(convertor(block)),difference=function getDifference(originalContent,newContent){return(0,character.Kx)(originalContent,newContent).map(((item,pos)=>{const classes=classnames_default()({"block-editor-block-compare__added":item.added,"block-editor-block-compare__removed":item.removed});return(0,react.createElement)("span",{key:pos,className:classes},item.value)}))}(block.originalContent,converted);return(0,react.createElement)("div",{className:"block-editor-block-compare__wrapper"},(0,react.createElement)(BlockView,{title:(0,i18n_build_module.__)("Current"),className:"block-editor-block-compare__current",action:onKeep,actionText:(0,i18n_build_module.__)("Convert to HTML"),rawContent:block.originalContent,renderedContent:block.originalContent}),(0,react.createElement)(BlockView,{title:(0,i18n_build_module.__)("After Conversion"),className:"block-editor-block-compare__converted",action:onConvert,actionText:convertButtonText,rawContent:difference,renderedContent:converted}))},blockToBlocks=block=>(0,build_module.AF)({HTML:block.originalContent});function BlockInvalidWarning({clientId}){const{block,canInsertHTMLBlock,canInsertClassicBlock}=(0,use_select.Z)((select=>{const{canInsertBlockType,getBlock,getBlockRootClientId}=select(store),rootClientId=getBlockRootClientId(clientId);return{block:getBlock(clientId),canInsertHTMLBlock:canInsertBlockType("core/html",rootClientId),canInsertClassicBlock:canInsertBlockType("core/freeform",rootClientId)}}),[clientId]),{replaceBlock}=(0,use_dispatch.Z)(store),[compare,setCompare]=(0,react.useState)(!1),onCompareClose=(0,react.useCallback)((()=>setCompare(!1)),[]),convert=(0,react.useMemo)((()=>({toClassic(){const classicBlock=(0,build_module.j4)("core/freeform",{content:block.originalContent});return replaceBlock(block.clientId,classicBlock)},toHTML(){const htmlBlock=(0,build_module.j4)("core/html",{content:block.originalContent});return replaceBlock(block.clientId,htmlBlock)},toBlocks(){const newBlocks=blockToBlocks(block);return replaceBlock(block.clientId,newBlocks)},toRecoveredBlock(){const recoveredBlock=(0,build_module.j4)(block.name,block.attributes,block.innerBlocks);return replaceBlock(block.clientId,recoveredBlock)}})),[block,replaceBlock]),secondaryActions=(0,react.useMemo)((()=>[{title:(0,i18n_build_module._x)("Resolve","imperative verb"),onClick:()=>setCompare(!0)},canInsertHTMLBlock&&{title:(0,i18n_build_module.__)("Convert to HTML"),onClick:convert.toHTML},canInsertClassicBlock&&{title:(0,i18n_build_module.__)("Convert to Classic Block"),onClick:convert.toClassic}].filter(Boolean)),[canInsertHTMLBlock,canInsertClassicBlock,convert]);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(warning,{actions:[(0,react.createElement)(build_module_button.ZP,{key:"recover",onClick:convert.toRecoveredBlock,variant:"primary"},(0,i18n_build_module.__)("Attempt Block Recovery"))],secondaryActions},(0,i18n_build_module.__)("This block contains unexpected or invalid content.")),compare&&(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.__)("Resolve Block"),onRequestClose:onCompareClose,className:"block-editor-block-compare"},(0,react.createElement)(block_compare,{block,onKeep:convert.toHTML,onConvert:convert.toBlocks,convertor:blockToBlocks,convertButtonText:(0,i18n_build_module.__)("Convert to Blocks")})))}const block_crash_warning_warning=(0,react.createElement)(warning,{className:"block-editor-block-list__block-crash-warning"},(0,i18n_build_module.__)("This block has encountered an error and cannot be previewed.")),block_crash_warning=()=>block_crash_warning_warning;class BlockCrashBoundary extends react.Component{constructor(){super(...arguments),this.state={hasError:!1}}componentDidCatch(){this.setState({hasError:!0})}render(){return this.state.hasError?this.props.fallback:this.props.children}}BlockCrashBoundary.displayName="BlockCrashBoundary",BlockCrashBoundary.__docgenInfo={description:"",methods:[],displayName:"BlockCrashBoundary"};const block_crash_boundary=BlockCrashBoundary;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/build-module/components/block-list/block-crash-boundary.js"]={name:"BlockCrashBoundary",docgenInfo:BlockCrashBoundary.__docgenInfo,path:"packages/block-editor/build-module/components/block-list/block-crash-boundary.js"});var lib=__webpack_require__("./node_modules/react-autosize-textarea/lib/index.js");const block_html=function BlockHTML({clientId}){const[html,setHtml]=(0,react.useState)(""),block=(0,use_select.Z)((select=>select(store).getBlock(clientId)),[clientId]),{updateBlock}=(0,use_dispatch.Z)(store);return(0,react.useEffect)((()=>{setHtml((0,build_module.Jo)(block))}),[block]),(0,react.createElement)(lib.Z,{className:"block-editor-block-list__block-html-textarea",value:html,onBlur:()=>{const blockType=(0,build_module.ck)(block.name);if(!blockType)return;const attributes=(0,build_module.DJ)(blockType,html,block.attributes),content=html||(0,build_module.kD)(blockType,attributes),[isValid]=html?(0,build_module.lM)({...block,attributes,originalContent:content}):[!0];updateBlock(clientId,{attributes,originalContent:content,isValid}),html||setHtml(content)},onChange:event=>setHtml(event.target.value)})};var use_disabled=__webpack_require__("./packages/compose/build-module/hooks/use-disabled/index.js"),react_spring_web_esm=__webpack_require__("./node_modules/@react-spring/web/dist/react-spring-web.esm.js"),use_reduced_motion=__webpack_require__("./packages/compose/build-module/hooks/use-reduced-motion/index.js"),get_scroll_container=__webpack_require__("./packages/dom/build-module/dom/get-scroll-container.js");const counterReducer=state=>state+1,getAbsolutePosition=element=>({top:element.offsetTop,left:element.offsetLeft});const use_moving_animation=function useMovingAnimation({isSelected,adjustScrolling,enableAnimation,triggerAnimationOnChange}){const ref=(0,react.useRef)(),prefersReducedMotion=(0,use_reduced_motion.Z)()||!enableAnimation,[triggeredAnimation,triggerAnimation]=(0,react.useReducer)(counterReducer,0),[finishedAnimation,endAnimation]=(0,react.useReducer)(counterReducer,0),[transform,setTransform]=(0,react.useState)({x:0,y:0}),previous=(0,react.useMemo)((()=>ref.current?getAbsolutePosition(ref.current):null),[triggerAnimationOnChange]),preserveScrollPosition=(0,react.useMemo)((()=>{if(!adjustScrolling||!ref.current)return()=>{};const scrollContainer=(0,get_scroll_container.Z)(ref.current);if(!scrollContainer)return()=>{};const prevRect=ref.current.getBoundingClientRect();return()=>{const diff=ref.current.getBoundingClientRect().top-prevRect.top;diff&&(scrollContainer.scrollTop+=diff)}}),[triggerAnimationOnChange,adjustScrolling]);return(0,react.useLayoutEffect)((()=>{triggeredAnimation&&endAnimation()}),[triggeredAnimation]),(0,react.useLayoutEffect)((()=>{if(!previous)return;if(prefersReducedMotion)return void preserveScrollPosition();ref.current.style.transform=void 0;const destination=getAbsolutePosition(ref.current);triggerAnimation(),setTransform({x:Math.round(previous.left-destination.left),y:Math.round(previous.top-destination.top)})}),[triggerAnimationOnChange]),(0,react_spring_web_esm.useSpring)({from:{x:transform.x,y:transform.y},to:{x:0,y:0},reset:triggeredAnimation!==finishedAnimation,config:{mass:5,tension:2e3,friction:200},immediate:prefersReducedMotion,onChange:function onChange({value}){if(!ref.current)return;let{x,y}=value;x=Math.round(x),y=Math.round(y);const finishedMoving=0===x&&0===y;ref.current.style.transformOrigin="center center",ref.current.style.transform=finishedMoving?void 0:`translate3d(${x}px,${y}px,0)`,ref.current.style.zIndex=isSelected?"1":"",preserveScrollPosition()}}),ref};var dom_build_module=__webpack_require__("./packages/dom/build-module/index.js"),is_text_field=__webpack_require__("./packages/dom/build-module/dom/is-text-field.js"),is_form_element=__webpack_require__("./packages/dom/build-module/dom/is-form-element.js"),place_caret_at_horizontal_edge=__webpack_require__("./packages/dom/build-module/dom/place-caret-at-horizontal-edge.js");const BLOCK_SELECTOR=".block-editor-block-list__block",APPENDER_SELECTOR=".block-list-appender",BLOCK_APPENDER_CLASS=".block-editor-button-block-appender";function isInsideRootBlock(blockElement,element){return element.closest([BLOCK_SELECTOR,APPENDER_SELECTOR,BLOCK_APPENDER_CLASS].join(","))===blockElement}function getBlockClientId(node){for(;node&&node.nodeType!==node.ELEMENT_NODE;)node=node.parentNode;if(!node)return;const blockNode=node.closest(BLOCK_SELECTOR);return blockNode?blockNode.id.slice(6):void 0}function useFocusFirstElement(clientId){const ref=(0,react.useRef)(),initialPosition=function useInitialPosition(clientId){return(0,use_select.Z)((select=>{const{getSelectedBlocksInitialCaretPosition,__unstableGetEditorMode,isBlockSelected}=select(store);if(isBlockSelected(clientId)&&"edit"===__unstableGetEditorMode())return getSelectedBlocksInitialCaretPosition()}),[clientId])}(clientId),{isBlockSelected,isMultiSelecting}=(0,use_select.Z)(store);return(0,react.useEffect)((()=>{if(!isBlockSelected(clientId)||isMultiSelecting())return;if(null==initialPosition)return;if(!ref.current)return;const{ownerDocument}=ref.current;if(isInsideRootBlock(ref.current,ownerDocument.activeElement))return;const textInputs=dom_build_module.T_.tabbable.find(ref.current).filter((node=>(0,is_text_field.Z)(node))),isReverse=-1===initialPosition,target=textInputs[isReverse?textInputs.length-1:0]||ref.current;if(isInsideRootBlock(ref.current,target)){if(!ref.current.getAttribute("contenteditable")){const focusElement=dom_build_module.T_.tabbable.findNext(ref.current);if(focusElement&&isInsideRootBlock(ref.current,focusElement)&&(0,is_form_element.Z)(focusElement))return void focusElement.focus()}(0,place_caret_at_horizontal_edge.Z)(target,isReverse)}else ref.current.focus()}),[initialPosition,clientId]),ref}var use_ref_effect=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js");function listener(event){if(event.defaultPrevented)return;const action="mouseover"===event.type?"add":"remove";event.preventDefault(),event.currentTarget.classList[action]("is-hovered")}function useIsHovered(){const isEnabled=(0,use_select.Z)((select=>{const{getSettings}=select(store);return getSettings().outlineMode}),[]);return(0,use_ref_effect.Z)((node=>{if(isEnabled)return node.addEventListener("mouseout",listener),node.addEventListener("mouseover",listener),()=>{node.removeEventListener("mouseout",listener),node.removeEventListener("mouseover",listener),node.classList.remove("is-hovered")}}),[isEnabled])}function useBlockClassNames(clientId){return(0,use_select.Z)((select=>{const{isBlockBeingDragged,isBlockHighlighted,isBlockSelected,isBlockMultiSelected,getBlockName,getSettings,hasSelectedInnerBlock,isTyping,__unstableIsFullySelected,__unstableSelectionHasUnmergeableBlock}=select(store),{outlineMode}=getSettings(),isDragging=isBlockBeingDragged(clientId),isSelected=isBlockSelected(clientId),name=getBlockName(clientId),isAncestorOfSelectedBlock=hasSelectedInnerBlock(clientId,!0),isMultiSelected=isBlockMultiSelected(clientId);return classnames_default()({"is-selected":isSelected,"is-highlighted":isBlockHighlighted(clientId),"is-multi-selected":isMultiSelected,"is-partially-selected":isMultiSelected&&!__unstableIsFullySelected()&&!__unstableSelectionHasUnmergeableBlock(),"is-reusable":(0,build_module.vr)((0,build_module.ck)(name)),"is-dragging":isDragging,"has-child-selected":isAncestorOfSelectedBlock,"remove-outline":isSelected&&outlineMode&&isTyping()})}),[clientId])}function useBlockDefaultClassName(clientId){return(0,use_select.Z)((select=>{const name=select(store).getBlockName(clientId),blockType=(0,build_module.ck)(name);if(blockType?.apiVersion>1)return(0,build_module.Vk)(name)}),[clientId])}function useBlockCustomClassName(clientId){return(0,use_select.Z)((select=>{const{getBlockName,getBlockAttributes}=select(store),attributes=getBlockAttributes(clientId);if(!attributes?.className)return;const blockType=(0,build_module.ck)(getBlockName(clientId));return blockType?.apiVersion>1?attributes.className:void 0}),[clientId])}function useBlockMovingModeClassNames(clientId){return(0,use_select.Z)((select=>{const{hasBlockMovingClientId,canInsertBlockType,getBlockName,getBlockRootClientId,isBlockSelected}=select(store);if(!isBlockSelected(clientId))return;const movingClientId=hasBlockMovingClientId();return movingClientId?classnames_default()("is-block-moving-mode",{"can-insert-moving-block":canInsertBlockType(getBlockName(movingClientId),getBlockRootClientId(clientId))}):void 0}),[clientId])}function useFocusHandler(clientId){const{isBlockSelected}=(0,use_select.Z)(store),{selectBlock,selectionChange}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{function onFocus(event){node.parentElement.closest('[contenteditable="true"]')||(isBlockSelected(clientId)?event.target.isContentEditable||selectionChange(clientId):isInsideRootBlock(node,event.target)&&selectBlock(clientId))}return node.addEventListener("focusin",onFocus),()=>{node.removeEventListener("focusin",onFocus)}}),[isBlockSelected,selectBlock])}var keycodes_build_module=__webpack_require__("./packages/keycodes/build-module/index.js");function useEventHandlers(clientId){const isSelected=(0,use_select.Z)((select=>select(store).isBlockSelected(clientId)),[clientId]),{getBlockRootClientId,getBlockIndex}=(0,use_select.Z)(store),{insertDefaultBlock,removeBlock}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{if(isSelected)return node.addEventListener("keydown",onKeyDown),node.addEventListener("dragstart",onDragStart),()=>{node.removeEventListener("keydown",onKeyDown),node.removeEventListener("dragstart",onDragStart)};function onKeyDown(event){const{keyCode,target}=event;keyCode!==keycodes_build_module.K5&&keyCode!==keycodes_build_module.ZH&&keyCode!==keycodes_build_module.yY||target!==node||(0,is_text_field.Z)(target)||(event.preventDefault(),keyCode===keycodes_build_module.K5?insertDefaultBlock({},getBlockRootClientId(clientId),getBlockIndex(clientId)+1):removeBlock(clientId))}function onDragStart(event){event.preventDefault()}}),[clientId,isSelected,getBlockRootClientId,getBlockIndex,insertDefaultBlock,removeBlock])}function useNavModeExit(clientId){const{isNavigationMode,isBlockSelected}=(0,use_select.Z)(store),{setNavigationMode,selectBlock}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{function onMouseDown(event){isNavigationMode()&&!event.defaultPrevented&&(event.preventDefault(),isBlockSelected(clientId)?setNavigationMode(!1):selectBlock(clientId))}return node.addEventListener("mousedown",onMouseDown),()=>{node.addEventListener("mousedown",onMouseDown)}}),[clientId,isNavigationMode,isBlockSelected,setNavigationMode])}const BlockRefs=(0,react.createContext)({refs:new Map,callbacks:new Map});function BlockRefsProvider({children}){const value=(0,react.useMemo)((()=>({refs:new Map,callbacks:new Map})),[]);return(0,react.createElement)(BlockRefs.Provider,{value},children)}function useBlockRefProvider(clientId){const{refs,callbacks}=(0,react.useContext)(BlockRefs),ref=(0,react.useRef)();return(0,react.useLayoutEffect)((()=>(refs.set(ref,clientId),()=>{refs.delete(ref)})),[clientId]),(0,use_ref_effect.Z)((element=>{ref.current=element,callbacks.forEach(((id,setElement)=>{clientId===id&&setElement(element)}))}),[clientId])}function useBlockRef(clientId){const{refs}=(0,react.useContext)(BlockRefs),freshClientId=(0,react.useRef)();return freshClientId.current=clientId,(0,react.useMemo)((()=>({get current(){let element=null;for(const[ref,id]of refs.entries())id===freshClientId.current&&ref.current&&(element=ref.current);return element}})),[])}function useBlockElement(clientId){const{callbacks}=(0,react.useContext)(BlockRefs),ref=useBlockRef(clientId),[element,setElement]=(0,react.useState)(null);return(0,react.useLayoutEffect)((()=>{if(clientId)return callbacks.set(setElement,clientId),()=>{callbacks.delete(setElement)}}),[clientId]),ref.current||element}function useIntersectionObserver(){const observer=(0,react.useContext)(IntersectionObserver);return(0,use_ref_effect.Z)((node=>{if(observer)return observer.observe(node),()=>{observer.unobserve(node)}}),[observer])}function useBlockOverlayActive(clientId){return(0,use_select.Z)((select=>{const{__unstableHasActiveBlockOverlayActive}=select(store);return __unstableHasActiveBlockOverlayActive(clientId)}),[clientId])}var use_block_props_process=__webpack_require__("./node_modules/process/browser.js");const BLOCK_ANIMATION_THRESHOLD=200;function useBlockProps(props={},{__unstableIsHtml}={}){const{clientId,className,wrapperProps={},isAligned}=(0,react.useContext)(BlockListBlockContext),{index,mode,name,blockApiVersion,blockTitle,isPartOfSelection,adjustScrolling,enableAnimation,isSubtreeDisabled}=(0,use_select.Z)((select=>{const{getBlockAttributes,getBlockIndex,getBlockMode,getBlockName,isTyping,getGlobalBlockCount,isBlockSelected,isBlockMultiSelected,isAncestorMultiSelected,isFirstMultiSelectedBlock,isBlockSubtreeDisabled}=unlock(select(store)),{getActiveBlockVariation}=select(build_module.h),isSelected=isBlockSelected(clientId),isPartOfMultiSelection=isBlockMultiSelected(clientId)||isAncestorMultiSelected(clientId),blockName=getBlockName(clientId),blockType=(0,build_module.ck)(blockName),match=getActiveBlockVariation(blockName,getBlockAttributes(clientId));return{index:getBlockIndex(clientId),mode:getBlockMode(clientId),name:blockName,blockApiVersion:blockType?.apiVersion||1,blockTitle:match?.title||blockType?.title,isPartOfSelection:isSelected||isPartOfMultiSelection,adjustScrolling:isSelected||isFirstMultiSelectedBlock(clientId),enableAnimation:!isTyping()&&getGlobalBlockCount()<=BLOCK_ANIMATION_THRESHOLD,isSubtreeDisabled:isBlockSubtreeDisabled(clientId)}}),[clientId]),hasOverlay=useBlockOverlayActive(clientId),blockLabel=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block: %s"),blockTitle),htmlSuffix="html"!==mode||__unstableIsHtml?"":"-visual",mergedRefs=(0,use_merge_refs.Z)([props.ref,useFocusFirstElement(clientId),useBlockRefProvider(clientId),useFocusHandler(clientId),useEventHandlers(clientId),useNavModeExit(clientId),useIsHovered(),useIntersectionObserver(),use_moving_animation({isSelected:isPartOfSelection,adjustScrolling,enableAnimation,triggerAnimationOnChange:index}),(0,use_disabled.Z)({isDisabled:!hasOverlay})]),blockEditContext=useBlockEditContext();return blockApiVersion<2&&clientId===blockEditContext.clientId&&void 0!==use_block_props_process&&use_block_props_process.env,{tabIndex:0,...wrapperProps,...props,ref:mergedRefs,id:`block-${clientId}${htmlSuffix}`,role:"document","aria-label":blockLabel,"data-block":clientId,"data-type":name,"data-title":blockTitle,inert:isSubtreeDisabled?"true":void 0,className:classnames_default()(classnames_default()("block-editor-block-list__block",{"wp-block":!isAligned,"has-block-overlay":hasOverlay}),className,props.className,wrapperProps.className,useBlockClassNames(clientId),useBlockDefaultClassName(clientId),useBlockCustomClassName(clientId),useBlockMovingModeClassNames(clientId)),style:{...wrapperProps.style,...props.style}}}function Block({children,isHtml,...props}){return(0,react.createElement)("div",useBlockProps(props,{__unstableIsHtml:isHtml}),children)}useBlockProps.save=build_module.dF;const applyWithSelect=(0,with_select.Z)(((select,{clientId,rootClientId})=>{const{isBlockSelected,getBlockMode,isSelectionEnabled,getTemplateLock,__unstableGetBlockWithoutInnerBlocks,canRemoveBlock,canMoveBlock}=select(store),block=__unstableGetBlockWithoutInnerBlocks(clientId),isSelected=isBlockSelected(clientId),templateLock=getTemplateLock(rootClientId),canRemove=canRemoveBlock(clientId,rootClientId),canMove=canMoveBlock(clientId,rootClientId),{name,attributes,isValid}=block||{};return{mode:getBlockMode(clientId),isSelectionEnabled:isSelectionEnabled(),isLocked:!!templateLock,canRemove,canMove,block,name,attributes,isValid,isSelected}})),applyWithDispatch=(0,with_dispatch.Z)(((dispatch,ownProps,registry)=>{const{updateBlockAttributes,insertBlocks,mergeBlocks,replaceBlocks,toggleSelection,__unstableMarkLastChangeAsPersistent,moveBlocksToPosition,removeBlock}=dispatch(store);return{setAttributes(newAttributes){const{getMultiSelectedBlockClientIds}=registry.select(store),multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(),{clientId}=ownProps,clientIds=multiSelectedBlockClientIds.length?multiSelectedBlockClientIds:[clientId];updateBlockAttributes(clientIds,newAttributes)},onInsertBlocks(blocks,index){const{rootClientId}=ownProps;insertBlocks(blocks,index,rootClientId)},onInsertBlocksAfter(blocks){const{clientId,rootClientId}=ownProps,{getBlockIndex}=registry.select(store),index=getBlockIndex(clientId);insertBlocks(blocks,index+1,rootClientId)},onMerge(forward){const{clientId,rootClientId}=ownProps,{getPreviousBlockClientId,getNextBlockClientId,getBlock,getBlockAttributes,getBlockName,getBlockOrder,getBlockIndex,getBlockRootClientId,canInsertBlockType}=registry.select(store);function moveFirstItemUp(_clientId,changeSelection=!0){const targetRootClientId=getBlockRootClientId(_clientId),blockOrder=getBlockOrder(_clientId),[firstClientId]=blockOrder;1===blockOrder.length&&(0,build_module.pe)(getBlock(firstClientId))?removeBlock(_clientId):registry.batch((()=>{if(canInsertBlockType(getBlockName(firstClientId),targetRootClientId))moveBlocksToPosition([firstClientId],_clientId,targetRootClientId,getBlockIndex(_clientId));else{const replacement=(0,build_module.m4)(getBlock(firstClientId),(0,build_module.UT)());replacement&&replacement.length&&(insertBlocks(replacement,getBlockIndex(_clientId),targetRootClientId,changeSelection),removeBlock(firstClientId,!1))}!getBlockOrder(_clientId).length&&(0,build_module.pe)(getBlock(_clientId))&&removeBlock(_clientId,!1)}))}if(forward){if(rootClientId){const nextRootClientId=getNextBlockClientId(rootClientId);if(nextRootClientId){if(getBlockName(rootClientId)!==getBlockName(nextRootClientId))return void mergeBlocks(rootClientId,nextRootClientId);{const rootAttributes=getBlockAttributes(rootClientId),previousRootAttributes=getBlockAttributes(nextRootClientId);if(Object.keys(rootAttributes).every((key=>rootAttributes[key]===previousRootAttributes[key])))return void registry.batch((()=>{moveBlocksToPosition(getBlockOrder(nextRootClientId),nextRootClientId,rootClientId),removeBlock(nextRootClientId,!1)}))}}}const nextBlockClientId=getNextBlockClientId(clientId);if(!nextBlockClientId)return;getBlockOrder(nextBlockClientId).length?moveFirstItemUp(nextBlockClientId,!1):mergeBlocks(clientId,nextBlockClientId)}else{const previousBlockClientId=getPreviousBlockClientId(clientId);if(previousBlockClientId)mergeBlocks(previousBlockClientId,clientId);else if(rootClientId){const previousRootClientId=getPreviousBlockClientId(rootClientId);if(previousRootClientId&&getBlockName(rootClientId)===getBlockName(previousRootClientId)){const rootAttributes=getBlockAttributes(rootClientId),previousRootAttributes=getBlockAttributes(previousRootClientId);if(Object.keys(rootAttributes).every((key=>rootAttributes[key]===previousRootAttributes[key])))return void registry.batch((()=>{moveBlocksToPosition(getBlockOrder(rootClientId),rootClientId,previousRootClientId),removeBlock(rootClientId,!1)}))}moveFirstItemUp(rootClientId)}}},onReplace(blocks,indexToSelect,initialPosition){blocks.length&&!(0,build_module.ZP)(blocks[blocks.length-1])&&__unstableMarkLastChangeAsPersistent(),replaceBlocks([ownProps.clientId],blocks,indexToSelect,initialPosition)},toggleSelection(selectionEnabled){toggleSelection(selectionEnabled)}}})),block=(0,compose.Z)(pure.Z,applyWithSelect,applyWithDispatch,(0,if_condition.Z)((({block})=>!!block)),(0,with_filters.Z)("editor.BlockListBlock"))((function BlockListBlock({block:{__unstableBlockSource},mode,isLocked,canRemove,clientId,isSelected,isSelectionEnabled,className,__unstableLayoutClassNames:layoutClassNames,name,isValid,attributes,wrapperProps,setAttributes,onReplace,onInsertBlocksAfter,onMerge,toggleSelection}){var _wrapperProps;const{themeSupportsLayout,isTemporarilyEditingAsBlocks,blockEditingMode}=(0,use_select.Z)((select=>{const{getSettings,__unstableGetTemporarilyEditingAsBlocks,getBlockEditingMode}=unlock(select(store));return{themeSupportsLayout:getSettings().supportsLayout,isTemporarilyEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks()===clientId,blockEditingMode:getBlockEditingMode(clientId)}}),[clientId]),{removeBlock}=(0,use_dispatch.Z)(store),onRemove=(0,react.useCallback)((()=>removeBlock(clientId)),[clientId]),parentLayout=useLayout()||{};let blockEdit=(0,react.createElement)(BlockEdit,{name,isSelected,attributes,setAttributes,insertBlocksAfter:isLocked?void 0:onInsertBlocksAfter,onReplace:canRemove?onReplace:void 0,onRemove:canRemove?onRemove:void 0,mergeBlocks:canRemove?onMerge:void 0,clientId,isSelectionEnabled,toggleSelection,__unstableLayoutClassNames:layoutClassNames,__unstableParentLayout:Object.keys(parentLayout).length?parentLayout:void 0});const blockType=(0,build_module.ck)(name);"disabled"===blockEditingMode&&(wrapperProps={...wrapperProps,tabIndex:-1}),blockType?.getEditWrapperProps&&(wrapperProps=function mergeWrapperProps(propsA,propsB){const newProps={...propsA,...propsB};return propsA?.className&&propsB?.className&&(newProps.className=classnames_default()(propsA.className,propsB.className)),propsA?.style&&propsB?.style&&(newProps.style={...propsA.style,...propsB.style}),newProps}(wrapperProps,blockType.getEditWrapperProps(attributes)));const isAligned=wrapperProps&&!!wrapperProps["data-align"]&&!themeSupportsLayout;let block;if(isAligned&&(blockEdit=(0,react.createElement)("div",{className:"wp-block","data-align":wrapperProps["data-align"]},blockEdit)),isValid)block="html"===mode?(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{style:{display:"none"}},blockEdit),(0,react.createElement)(Block,{isHtml:!0},(0,react.createElement)(block_html,{clientId}))):blockType?.apiVersion>1?blockEdit:(0,react.createElement)(Block,wrapperProps,blockEdit);else{const saveContent=__unstableBlockSource?(0,build_module.rq)(__unstableBlockSource):(0,build_module.kD)(blockType,attributes);block=(0,react.createElement)(Block,{className:"has-warning"},(0,react.createElement)(BlockInvalidWarning,{clientId}),(0,react.createElement)(raw_html.Z,null,(0,safe_html.Z)(saveContent)))}const{"data-align":dataAlign,...restWrapperProps}=null!==(_wrapperProps=wrapperProps)&&void 0!==_wrapperProps?_wrapperProps:{},value={clientId,className:classnames_default()({"is-editing-disabled":"disabled"===blockEditingMode,"is-content-locked-temporarily-editing-as-blocks":isTemporarilyEditingAsBlocks},dataAlign&&themeSupportsLayout&&`align${dataAlign}`,className),wrapperProps:restWrapperProps,isAligned},memoizedValue=(0,react.useMemo)((()=>value),Object.values(value));return(0,react.createElement)(BlockListBlockContext.Provider,{value:memoizedValue},(0,react.createElement)(block_crash_boundary,{fallback:(0,react.createElement)(Block,{className:"has-warning"},(0,react.createElement)(block_crash_warning,null))},block))}));var html_entities_build_module=__webpack_require__("./packages/html-entities/build-module/index.js"),dropdown=__webpack_require__("./packages/components/build-module/dropdown/index.js"),plus=__webpack_require__("./packages/icons/build-module/library/plus.js"),visually_hidden_component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),search_control=__webpack_require__("./packages/components/build-module/search-control/index.js"),create_interpolate_element=__webpack_require__("./packages/element/build-module/create-interpolate-element.js"),tip=__webpack_require__("./packages/components/build-module/tip/index.js");const globalTips=[(0,create_interpolate_element.Z)((0,i18n_build_module.__)("While writing, you can press <kbd>/</kbd> to quickly insert new blocks."),{kbd:(0,react.createElement)("kbd",null)}),(0,create_interpolate_element.Z)((0,i18n_build_module.__)("Indent a list by pressing <kbd>space</kbd> at the beginning of a line."),{kbd:(0,react.createElement)("kbd",null)}),(0,create_interpolate_element.Z)((0,i18n_build_module.__)("Outdent a list by pressing <kbd>backspace</kbd> at the beginning of a line."),{kbd:(0,react.createElement)("kbd",null)}),(0,i18n_build_module.__)("Drag files into the editor to automatically insert media blocks."),(0,i18n_build_module.__)("Change a block's type by pressing the block icon on the toolbar.")];const tips=function Tips(){const[randomIndex]=(0,react.useState)(Math.floor(Math.random()*globalTips.length));return(0,react.createElement)(tip.Z,null,globalTips[randomIndex])};var chevron_right=__webpack_require__("./packages/icons/build-module/library/chevron-right.js"),chevron_left=__webpack_require__("./packages/icons/build-module/library/chevron-left.js"),components_build_module_icon=__webpack_require__("./packages/components/build-module/icon/index.js"),block_default=__webpack_require__("./packages/icons/build-module/library/block-default.js");const block_icon=(0,react.memo)((function BlockIcon({icon,showColors=!1,className,context}){"block-default"===icon?.src&&(icon={src:block_default.Z});const renderedIcon=(0,react.createElement)(components_build_module_icon.Z,{icon:icon&&icon.src?icon.src:icon,context}),style=showColors?{backgroundColor:icon&&icon.background,color:icon&&icon.foreground}:{};return(0,react.createElement)("span",{style,className:classnames_default()("block-editor-block-icon",className,{"has-colors":showColors})},renderedIcon)}));const block_card=function BlockCard({title,icon,description,blockType,className}){blockType&&((0,deprecated_build_module.Z)("`blockType` property in `BlockCard component`",{since:"5.7",alternative:"`title, icon and description` properties"}),({title,icon,description}=blockType));const{parentNavBlockClientId}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId,getBlockParentsByBlockName}=select(store);return{parentNavBlockClientId:getBlockParentsByBlockName(getSelectedBlockClientId(),"core/navigation",!0)[0]}}),[]),{selectBlock}=(0,use_dispatch.Z)(store);return(0,react.createElement)("div",{className:classnames_default()("block-editor-block-card",className)},parentNavBlockClientId&&(0,react.createElement)(build_module_button.ZP,{onClick:()=>selectBlock(parentNavBlockClientId),label:(0,i18n_build_module.__)("Go to parent Navigation block"),style:{minWidth:24,padding:0},icon:(0,i18n_build_module.dZ)()?chevron_right.Z:chevron_left.Z,isSmall:!0}),(0,react.createElement)(block_icon,{icon,showColors:!0}),(0,react.createElement)("div",{className:"block-editor-block-card__content"},(0,react.createElement)("h2",{className:"block-editor-block-card__title"},title),(0,react.createElement)("span",{className:"block-editor-block-card__description"},description)))};var with_registry=__webpack_require__("./packages/data/build-module/components/with-registry/index.js"),build_module_registry=__webpack_require__("./packages/data/build-module/registry.js"),registry_provider_context=__webpack_require__("./packages/data/build-module/components/registry-provider/context.js");const withRegistryProvider=(0,create_higher_order_component.o)((WrappedComponent=>(0,with_registry.Z)((({useSubRegistry=!0,registry,...props})=>{if(!useSubRegistry)return(0,react.createElement)(WrappedComponent,(0,esm_extends.Z)({registry},props));const[subRegistry,setSubRegistry]=(0,react.useState)(null);return(0,react.useEffect)((()=>{const newRegistry=(0,build_module_registry.p)({},registry);newRegistry.registerStore("core/block-editor",storeConfig),setSubRegistry(newRegistry)}),[registry]),subRegistry?(0,react.createElement)(registry_provider_context.ZP,{value:subRegistry},(0,react.createElement)(WrappedComponent,(0,esm_extends.Z)({registry:subRegistry},props))):null}))),"withRegistryProvider"),noop=()=>{};function useBlockSync({clientId=null,value:controlledBlocks,selection:controlledSelection,onChange=noop,onInput=noop}){const registry=(0,use_registry.Z)(),{resetBlocks,resetSelection,replaceInnerBlocks,selectBlock,setHasControlledInnerBlocks,__unstableMarkNextChangeAsNotPersistent}=registry.dispatch(store),{hasSelectedBlock,getBlockName,getBlocks,getSelectionStart,getSelectionEnd,getBlock}=registry.select(store),isControlled=(0,use_select.Z)((select=>!clientId||select(store).areInnerBlocksControlled(clientId)),[clientId]),pendingChanges=(0,react.useRef)({incoming:null,outgoing:[]}),subscribed=(0,react.useRef)(!1),setControlledBlocks=()=>{controlledBlocks&&(__unstableMarkNextChangeAsNotPersistent(),clientId?registry.batch((()=>{setHasControlledInnerBlocks(clientId,!0);const storeBlocks=controlledBlocks.map((block=>(0,build_module.Wm)(block)));subscribed.current&&(pendingChanges.current.incoming=storeBlocks),__unstableMarkNextChangeAsNotPersistent(),replaceInnerBlocks(clientId,storeBlocks)})):(subscribed.current&&(pendingChanges.current.incoming=controlledBlocks),resetBlocks(controlledBlocks)))},onInputRef=(0,react.useRef)(onInput),onChangeRef=(0,react.useRef)(onChange);(0,react.useEffect)((()=>{onInputRef.current=onInput,onChangeRef.current=onChange}),[onInput,onChange]),(0,react.useEffect)((()=>{if(pendingChanges.current.outgoing.includes(controlledBlocks))pendingChanges.current.outgoing[pendingChanges.current.outgoing.length-1]===controlledBlocks&&(pendingChanges.current.outgoing=[]);else if(getBlocks(clientId)!==controlledBlocks){pendingChanges.current.outgoing=[];const hadSelecton=hasSelectedBlock(),selectionAnchor=getSelectionStart(),selectionFocus=getSelectionEnd();if(setControlledBlocks(),controlledSelection)resetSelection(controlledSelection.selectionStart,controlledSelection.selectionEnd,controlledSelection.initialPosition);else{const selectionStillExists=getBlock(selectionAnchor.clientId);hadSelecton&&!selectionStillExists?selectBlock(clientId):resetSelection(selectionAnchor,selectionFocus)}}}),[controlledBlocks,clientId]),(0,react.useEffect)((()=>{isControlled||(pendingChanges.current.outgoing=[],setControlledBlocks())}),[isControlled]),(0,react.useEffect)((()=>{const{getSelectedBlocksInitialCaretPosition,isLastBlockChangePersistent,__unstableIsLastBlockChangeIgnored,areInnerBlocksControlled}=registry.select(store);let blocks=getBlocks(clientId),isPersistent=isLastBlockChangePersistent(),previousAreBlocksDifferent=!1;subscribed.current=!0;const unsubscribe=registry.subscribe((()=>{if(null!==clientId&&null===getBlockName(clientId))return;if(!(!clientId||areInnerBlocksControlled(clientId)))return;const newIsPersistent=isLastBlockChangePersistent(),newBlocks=getBlocks(clientId),areBlocksDifferent=newBlocks!==blocks;if(blocks=newBlocks,areBlocksDifferent&&(pendingChanges.current.incoming||__unstableIsLastBlockChangeIgnored()))return pendingChanges.current.incoming=null,void(isPersistent=newIsPersistent);if(areBlocksDifferent||previousAreBlocksDifferent&&!areBlocksDifferent&&newIsPersistent&&!isPersistent){isPersistent=newIsPersistent,pendingChanges.current.outgoing.push(blocks);(isPersistent?onChangeRef.current:onInputRef.current)(blocks,{selection:{selectionStart:getSelectionStart(),selectionEnd:getSelectionEnd(),initialPosition:getSelectedBlocksInitialCaretPosition()}})}previousAreBlocksDifferent=areBlocksDifferent}));return()=>{subscribed.current=!1,unsubscribe()}}),[registry,clientId])}const ExperimentalBlockEditorProvider=withRegistryProvider((props=>{const{children,settings,stripExperimentalSettings=!1}=props,{__experimentalUpdateSettings}=unlock((0,use_dispatch.Z)(store));return(0,react.useEffect)((()=>{__experimentalUpdateSettings({...settings,__internalIsInitialized:!0},stripExperimentalSettings)}),[settings]),useBlockSync(props),(0,react.createElement)(BlockRefsProvider,null,children)})),provider=props=>(0,react.createElement)(ExperimentalBlockEditorProvider,(0,esm_extends.Z)({},props,{stripExperimentalSettings:!0}),props.children);var use_resize_observer=__webpack_require__("./packages/compose/build-module/hooks/use-resize-observer/index.js"),disabled=__webpack_require__("./packages/components/build-module/disabled/index.js");function useBlockSelectionClearer(){const{getSettings,hasSelectedBlock,hasMultiSelection}=(0,use_select.Z)(store),{clearSelectedBlock}=(0,use_dispatch.Z)(store),{clearBlockSelection:isEnabled}=getSettings();return(0,use_ref_effect.Z)((node=>{if(isEnabled)return node.addEventListener("mousedown",onMouseDown),()=>{node.removeEventListener("mousedown",onMouseDown)};function onMouseDown(event){(hasSelectedBlock()||hasMultiSelection())&&event.target===node&&clearSelectedBlock()}}),[hasSelectedBlock,hasMultiSelection,clearSelectedBlock,isEnabled])}function selector(select){const{isMultiSelecting,getMultiSelectedBlockClientIds,hasMultiSelection,getSelectedBlockClientId,getSelectedBlocksInitialCaretPosition,__unstableIsFullySelected}=select(store);return{isMultiSelecting:isMultiSelecting(),multiSelectedBlockClientIds:getMultiSelectedBlockClientIds(),hasMultiSelection:hasMultiSelection(),selectedBlockClientId:getSelectedBlockClientId(),initialPosition:getSelectedBlocksInitialCaretPosition(),isFullSelection:__unstableIsFullySelected()}}function useMultiSelection(){const{initialPosition,isMultiSelecting,multiSelectedBlockClientIds,hasMultiSelection,selectedBlockClientId,isFullSelection}=(0,use_select.Z)(selector,[]);return(0,use_ref_effect.Z)((node=>{const{ownerDocument}=node,{defaultView}=ownerDocument;if(null==initialPosition)return;if(!hasMultiSelection||isMultiSelecting)return;const{length}=multiSelectedBlockClientIds;length<2||isFullSelection&&(node.contentEditable=!0,node.focus(),defaultView.getSelection().removeAllRanges())}),[hasMultiSelection,isMultiSelecting,multiSelectedBlockClientIds,selectedBlockClientId,initialPosition,isFullSelection])}var is_vertical_edge=__webpack_require__("./packages/dom/build-module/dom/is-vertical-edge.js"),is_horizontal_edge=__webpack_require__("./packages/dom/build-module/dom/is-horizontal-edge.js"),compute_caret_rect=__webpack_require__("./packages/dom/build-module/dom/compute-caret-rect.js"),is_rtl=__webpack_require__("./packages/dom/build-module/dom/is-rtl.js"),place_caret_at_vertical_edge=__webpack_require__("./packages/dom/build-module/dom/place-caret-at-vertical-edge.js");function getClosestTabbable(target,isReverse,containerElement,onlyVertical){let targetRect,focusableNodes=dom_build_module.T_.focusable.find(containerElement);return isReverse&&focusableNodes.reverse(),focusableNodes=focusableNodes.slice(focusableNodes.indexOf(target)+1),onlyVertical&&(targetRect=target.getBoundingClientRect()),focusableNodes.find((function isTabCandidate(node){if(1!==node.children.length||!function isInSameBlock(a,b){return a.closest(BLOCK_SELECTOR)===b.closest(BLOCK_SELECTOR)}(node,node.firstElementChild)||"true"!==node.firstElementChild.getAttribute("contenteditable")){if(!dom_build_module.T_.tabbable.isTabbableIndex(node))return!1;if(node.isContentEditable&&"true"!==node.contentEditable)return!1;if(onlyVertical){const nodeRect=node.getBoundingClientRect();if(nodeRect.left>=targetRect.right||nodeRect.right<=targetRect.left)return!1}return!0}}))}function useArrowNav(){const{getMultiSelectedBlocksStartClientId,getMultiSelectedBlocksEndClientId,getSettings,hasMultiSelection,__unstableIsFullySelected}=(0,use_select.Z)(store),{selectBlock}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{let verticalRect;function onMouseDown(){verticalRect=null}function onKeyDown(event){if(event.defaultPrevented)return;const{keyCode,target,shiftKey,ctrlKey,altKey,metaKey}=event,isUp=keyCode===keycodes_build_module.UP,isDown=keyCode===keycodes_build_module.WV,isLeft=keyCode===keycodes_build_module.RL,isRight=keyCode===keycodes_build_module.pX,isReverse=isUp||isLeft,isHorizontal=isLeft||isRight,isVertical=isUp||isDown,isNav=isHorizontal||isVertical,hasModifier=shiftKey||ctrlKey||altKey||metaKey,isNavEdge=isVertical?is_vertical_edge.Z:is_horizontal_edge.Z,{ownerDocument}=node,{defaultView}=ownerDocument;if(!isNav)return;if(hasMultiSelection()){if(shiftKey)return;if(!__unstableIsFullySelected())return;return event.preventDefault(),void(isReverse?selectBlock(getMultiSelectedBlocksStartClientId()):selectBlock(getMultiSelectedBlocksEndClientId(),-1))}if(!function isNavigationCandidate(element,keyCode,hasModifier){const isVertical=keyCode===keycodes_build_module.UP||keyCode===keycodes_build_module.WV,{tagName}=element,elementType=element.getAttribute("type");if(isVertical&&!hasModifier)return"INPUT"!==tagName||!["date","datetime-local","month","number","range","time","week"].includes(elementType);if("INPUT"===tagName)return["button","checkbox","number","color","file","image","radio","reset","submit"].includes(elementType);return"TEXTAREA"!==tagName}(target,keyCode,hasModifier))return;isVertical?verticalRect||(verticalRect=(0,compute_caret_rect.Z)(defaultView)):verticalRect=null;const isReverseDir=(0,is_rtl.Z)(target)?!isReverse:isReverse,{keepCaretInsideBlock}=getSettings();if(shiftKey)(function isClosestTabbableABlock(target,isReverse){const closestTabbable=getClosestTabbable(target,isReverse,node);return closestTabbable&&getBlockClientId(closestTabbable)})(target,isReverse)&&isNavEdge(target,isReverse)&&(node.contentEditable=!0,node.focus());else if(!isVertical||!(0,is_vertical_edge.Z)(target,isReverse)||altKey&&!(0,is_horizontal_edge.Z)(target,isReverseDir)||keepCaretInsideBlock){if(isHorizontal&&defaultView.getSelection().isCollapsed&&(0,is_horizontal_edge.Z)(target,isReverseDir)&&!keepCaretInsideBlock){const closestTabbable=getClosestTabbable(target,isReverseDir,node);(0,place_caret_at_horizontal_edge.Z)(closestTabbable,isReverse),event.preventDefault()}}else{const closestTabbable=getClosestTabbable(target,isReverse,node,!0);closestTabbable&&((0,place_caret_at_vertical_edge.Z)(closestTabbable,altKey?!isReverse:isReverse,altKey?void 0:verticalRect),event.preventDefault())}}return node.addEventListener("mousedown",onMouseDown),node.addEventListener("keydown",onKeyDown),()=>{node.removeEventListener("mousedown",onMouseDown),node.removeEventListener("keydown",onKeyDown)}}),[])}var is_entirely_selected=__webpack_require__("./packages/dom/build-module/dom/is-entirely-selected.js"),keyboard_shortcuts_build_module=__webpack_require__("./packages/keyboard-shortcuts/build-module/index.js");function useSelectAll(){const{getBlockOrder,getSelectedBlockClientIds,getBlockRootClientId}=(0,use_select.Z)(store),{multiSelect,selectBlock}=(0,use_dispatch.Z)(store),isMatch=(0,keyboard_shortcuts_build_module.sx)();return(0,use_ref_effect.Z)((node=>{function onKeyDown(event){if(!isMatch("core/block-editor/select-all",event))return;const selectedClientIds=getSelectedBlockClientIds();if(selectedClientIds.length<2&&!(0,is_entirely_selected.Z)(event.target))return;event.preventDefault();const[firstSelectedClientId]=selectedClientIds,rootClientId=getBlockRootClientId(firstSelectedClientId),blockClientIds=getBlockOrder(rootClientId);selectedClientIds.length!==blockClientIds.length?multiSelect(blockClientIds[0],blockClientIds[blockClientIds.length-1]):rootClientId&&(node.ownerDocument.defaultView.getSelection().removeAllRanges(),selectBlock(rootClientId))}return node.addEventListener("keydown",onKeyDown),()=>{node.removeEventListener("keydown",onKeyDown)}}),[])}function setContentEditableWrapper(node,value){node.contentEditable=value,value&&node.focus()}function useDragSelection(){const{startMultiSelect,stopMultiSelect}=(0,use_dispatch.Z)(store),{isSelectionEnabled,hasMultiSelection,isDraggingBlocks}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((node=>{const{ownerDocument}=node,{defaultView}=ownerDocument;let anchorElement,rafId;function onMouseUp(){stopMultiSelect(),defaultView.removeEventListener("mouseup",onMouseUp),rafId=defaultView.requestAnimationFrame((()=>{if(hasMultiSelection())return;setContentEditableWrapper(node,!1);const selection=defaultView.getSelection();if(selection.rangeCount){const{commonAncestorContainer}=selection.getRangeAt(0);anchorElement.contains(commonAncestorContainer)&&anchorElement.focus()}}))}function onMouseLeave({buttons,target}){isDraggingBlocks()||1===buttons&&target.getAttribute("contenteditable")&&isSelectionEnabled()&&(anchorElement=ownerDocument.activeElement,startMultiSelect(),defaultView.addEventListener("mouseup",onMouseUp),setContentEditableWrapper(node,!0))}return node.addEventListener("mouseout",onMouseLeave),()=>{node.removeEventListener("mouseout",onMouseLeave),defaultView.removeEventListener("mouseup",onMouseUp),defaultView.cancelAnimationFrame(rafId)}}),[startMultiSelect,stopMultiSelect,isSelectionEnabled,hasMultiSelection])}function use_selection_observer_setContentEditableWrapper(node,value){node.contentEditable!==String(value)&&(node.contentEditable=value),value&&node.focus()}function useSelectionObserver(){const{multiSelect,selectBlock,selectionChange}=(0,use_dispatch.Z)(store),{getBlockParents,getBlockSelectionStart}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((node=>{const{ownerDocument}=node,{defaultView}=ownerDocument;function onSelectionChange(event){const selection=defaultView.getSelection();if(!selection.rangeCount)return;const isClickShift=event.shiftKey&&"mouseup"===event.type;if(selection.isCollapsed&&!isClickShift)return void use_selection_observer_setContentEditableWrapper(node,!1);let startClientId=getBlockClientId(function extractSelectionStartNode(selection){const{anchorNode,anchorOffset}=selection;return anchorNode.nodeType===anchorNode.TEXT_NODE||0===anchorOffset?anchorNode:anchorNode.childNodes[anchorOffset-1]}(selection)),endClientId=getBlockClientId(function extractSelectionEndNode(selection){const{focusNode,focusOffset}=selection;return focusNode.nodeType===focusNode.TEXT_NODE||focusOffset===focusNode.childNodes.length?focusNode:focusNode.childNodes[focusOffset]}(selection));if(isClickShift){const selectedClientId=getBlockSelectionStart(),clickedClientId=getBlockClientId(event.target),focusNodeIsNonSelectable=clickedClientId!==endClientId;(startClientId===endClientId&&selection.isCollapsed||!endClientId||focusNodeIsNonSelectable)&&(endClientId=clickedClientId),startClientId!==selectedClientId&&(startClientId=selectedClientId)}if(void 0===startClientId&&void 0===endClientId)return void use_selection_observer_setContentEditableWrapper(node,!1);if(startClientId===endClientId)selectBlock(startClientId);else{const startPath=[...getBlockParents(startClientId),startClientId],endPath=[...getBlockParents(endClientId),endClientId],depth=function findDepth(a,b){let depth=0;for(;a[depth]===b[depth];)depth++;return depth}(startPath,endPath);multiSelect(startPath[depth],endPath[depth])}}function addListeners(){ownerDocument.addEventListener("selectionchange",onSelectionChange),defaultView.addEventListener("mouseup",onSelectionChange)}function removeListeners(){ownerDocument.removeEventListener("selectionchange",onSelectionChange),defaultView.removeEventListener("mouseup",onSelectionChange)}function resetListeners(){removeListeners(),addListeners()}return addListeners(),node.addEventListener("focusin",resetListeners),()=>{removeListeners(),node.removeEventListener("focusin",resetListeners)}}),[multiSelect,selectBlock,selectionChange,getBlockParents])}function useClickSelection(){const{selectBlock}=(0,use_dispatch.Z)(store),{isSelectionEnabled,getBlockSelectionStart,hasMultiSelection}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((node=>{function onMouseDown(event){if(!isSelectionEnabled()||0!==event.button)return;const startClientId=getBlockSelectionStart(),clickedClientId=getBlockClientId(event.target);event.shiftKey?startClientId!==clickedClientId&&(node.contentEditable=!0,node.focus()):hasMultiSelection()&&selectBlock(clickedClientId)}return node.addEventListener("mousedown",onMouseDown),()=>{node.removeEventListener("mousedown",onMouseDown)}}),[selectBlock,isSelectionEnabled,getBlockSelectionStart,hasMultiSelection])}function useInput(){const{__unstableIsFullySelected,getSelectedBlockClientIds,__unstableIsSelectionMergeable,hasMultiSelection}=(0,use_select.Z)(store),{replaceBlocks,__unstableSplitSelection,removeBlocks,__unstableDeleteSelection,__unstableExpandSelection}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{function onBeforeInput(event){"true"===node.contentEditable&&event.preventDefault()}function onKeyDown(event){event.defaultPrevented||hasMultiSelection()&&(event.keyCode===keycodes_build_module.K5?(node.contentEditable=!1,event.preventDefault(),__unstableIsFullySelected()?replaceBlocks(getSelectedBlockClientIds(),(0,build_module.j4)((0,build_module.UT)())):__unstableSplitSelection()):event.keyCode===keycodes_build_module.ZH||event.keyCode===keycodes_build_module.yY?(node.contentEditable=!1,event.preventDefault(),__unstableIsFullySelected()?removeBlocks(getSelectedBlockClientIds()):__unstableIsSelectionMergeable()?__unstableDeleteSelection(event.keyCode===keycodes_build_module.yY):__unstableExpandSelection()):1!==event.key.length||event.metaKey||event.ctrlKey||(node.contentEditable=!1,__unstableIsSelectionMergeable()?__unstableDeleteSelection(event.keyCode===keycodes_build_module.yY):(event.preventDefault(),node.ownerDocument.defaultView.getSelection().removeAllRanges())))}function onCompositionStart(event){hasMultiSelection()&&(node.contentEditable=!1,__unstableIsSelectionMergeable()?__unstableDeleteSelection():(event.preventDefault(),node.ownerDocument.defaultView.getSelection().removeAllRanges()))}return node.addEventListener("beforeinput",onBeforeInput),node.addEventListener("keydown",onKeyDown),node.addEventListener("compositionstart",onCompositionStart),()=>{node.removeEventListener("beforeinput",onBeforeInput),node.removeEventListener("keydown",onKeyDown),node.removeEventListener("compositionstart",onCompositionStart)}}),[])}function useWritingFlow(){const[before,ref,after]=function useTabNav(){const container=(0,react.useRef)(),focusCaptureBeforeRef=(0,react.useRef)(),focusCaptureAfterRef=(0,react.useRef)(),lastFocus=(0,react.useRef)(),{hasMultiSelection,getSelectedBlockClientId,getBlockCount}=(0,use_select.Z)(store),{setNavigationMode}=(0,use_dispatch.Z)(store),focusCaptureTabIndex=(0,use_select.Z)((select=>select(store).isNavigationMode()),[])?void 0:"0",noCapture=(0,react.useRef)();function onFocusCapture(event){if(noCapture.current)noCapture.current=null;else if(hasMultiSelection())container.current.focus();else if(getSelectedBlockClientId())lastFocus.current.focus();else{setNavigationMode(!0);const canvasElement=container.current.ownerDocument===event.target.ownerDocument?container.current:container.current.ownerDocument.defaultView.frameElement,isBefore=event.target.compareDocumentPosition(canvasElement)&event.target.DOCUMENT_POSITION_FOLLOWING,tabbables=dom_build_module.T_.tabbable.find(container.current);tabbables.length&&(isBefore?tabbables[0]:tabbables[tabbables.length-1]).focus()}}const before=(0,react.createElement)("div",{ref:focusCaptureBeforeRef,tabIndex:focusCaptureTabIndex,onFocus:onFocusCapture}),after=(0,react.createElement)("div",{ref:focusCaptureAfterRef,tabIndex:focusCaptureTabIndex,onFocus:onFocusCapture}),ref=(0,use_ref_effect.Z)((node=>{function onKeyDown(event){if(event.defaultPrevented)return;if(event.keyCode===keycodes_build_module.hY)return event.preventDefault(),void setNavigationMode(!0);if(event.keyCode!==keycodes_build_module.Mf)return;const isShift=event.shiftKey,direction=isShift?"findPrevious":"findNext";if(!hasMultiSelection()&&!getSelectedBlockClientId())return void(event.target===node&&setNavigationMode(!0));if(((0,is_form_element.Z)(event.target)||event.target.getAttribute("data-block")===getSelectedBlockClientId())&&(0,is_form_element.Z)(dom_build_module.T_.tabbable[direction](event.target)))return;const next=isShift?focusCaptureBeforeRef:focusCaptureAfterRef;noCapture.current=!0,next.current.focus({preventScroll:!0})}function onFocusOut(event){lastFocus.current=event.target;const{ownerDocument}=node;event.relatedTarget||ownerDocument.activeElement!==ownerDocument.body||0!==getBlockCount()||node.focus()}function preventScrollOnTab(event){if(event.keyCode!==keycodes_build_module.Mf)return;if("region"===event.target?.getAttribute("role"))return;if(container.current===event.target)return;const direction=event.shiftKey?"findPrevious":"findNext",target=dom_build_module.T_.tabbable[direction](event.target);target!==focusCaptureBeforeRef.current&&target!==focusCaptureAfterRef.current||(event.preventDefault(),target.focus({preventScroll:!0}))}const{ownerDocument}=node,{defaultView}=ownerDocument;return defaultView.addEventListener("keydown",preventScrollOnTab),node.addEventListener("keydown",onKeyDown),node.addEventListener("focusout",onFocusOut),()=>{defaultView.removeEventListener("keydown",preventScrollOnTab),node.removeEventListener("keydown",onKeyDown),node.removeEventListener("focusout",onFocusOut)}}),[]);return[before,(0,use_merge_refs.Z)([container,ref]),after]}(),hasMultiSelection=(0,use_select.Z)((select=>select(store).hasMultiSelection()),[]);return[before,(0,use_merge_refs.Z)([ref,useInput(),useDragSelection(),useSelectionObserver(),useClickSelection(),useMultiSelection(),useSelectAll(),useArrowNav(),(0,use_ref_effect.Z)((node=>{if(node.tabIndex=0,node.contentEditable=hasMultiSelection,hasMultiSelection)return node.classList.add("has-multi-selection"),node.setAttribute("aria-label",(0,i18n_build_module.__)("Multiple selected blocks")),()=>{node.classList.remove("has-multi-selection"),node.removeAttribute("aria-label")}}),[hasMultiSelection])]),after]}const writing_flow=(0,react.forwardRef)((function WritingFlow({children,...props},forwardedRef){const[before,ref,after]=useWritingFlow();return(0,react.createElement)(react.Fragment,null,before,(0,react.createElement)("div",(0,esm_extends.Z)({},props,{ref:(0,use_merge_refs.Z)([ref,forwardedRef]),className:classnames_default()(props.className,"block-editor-writing-flow")}),children),after)}));function Iframe({contentRef,children,tabIndex=0,scale=1,frameSize=0,expand=!1,readonly,forwardedRef:ref,...props}){var _assets$styles;const assets=(0,use_select.Z)((select=>select(store).getSettings().__unstableResolvedAssets),[]),[,forceRender]=(0,react.useReducer)((()=>({}))),[iframeDocument,setIframeDocument]=(0,react.useState)(),[bodyClasses,setBodyClasses]=(0,react.useState)([]),compatStyles=function useCompatibilityStyles(){return(0,react.useMemo)((()=>Array.from(document.styleSheets).reduce(((accumulator,styleSheet)=>{try{styleSheet.cssRules}catch(e){return accumulator}const{ownerNode,cssRules}=styleSheet;if(null===ownerNode)return accumulator;if(!cssRules)return accumulator;if("wp-reset-editor-styles-css"===ownerNode.id)return accumulator;if(function matchFromRules(_cssRules){return Array.from(_cssRules).find((({selectorText,conditionText,cssRules:__cssRules})=>conditionText?matchFromRules(__cssRules):selectorText&&(selectorText.includes(".editor-styles-wrapper")||selectorText.includes(".wp-block"))))}(cssRules)){const isInline="STYLE"===ownerNode.tagName;if(isInline){const mainStylesCssId=ownerNode.id.replace("-inline-css","-css"),mainStylesElement=document.getElementById(mainStylesCssId);mainStylesElement&&accumulator.push(mainStylesElement.cloneNode(!0))}if(accumulator.push(ownerNode.cloneNode(!0)),!isInline){const inlineStylesCssId=ownerNode.id.replace("-css","-inline-css"),inlineStylesElement=document.getElementById(inlineStylesCssId);inlineStylesElement&&accumulator.push(inlineStylesElement.cloneNode(!0))}}return accumulator}),[])),[])}(),scripts=function useParsedAssets(html){return(0,react.useMemo)((()=>{const doc=document.implementation.createHTMLDocument("");return doc.body.innerHTML=html,Array.from(doc.body.children)}),[html])}(assets?.scripts),clearerRef=useBlockSelectionClearer(),[before,writingFlowRef,after]=useWritingFlow(),[contentResizeListener,{height:contentHeight}]=(0,use_resize_observer.Z)(),setRef=(0,use_ref_effect.Z)((node=>{let iFrameDocument;function preventFileDropDefault(event){event.preventDefault()}function onLoad(){const{contentDocument,ownerDocument}=node,{documentElement}=contentDocument;iFrameDocument=contentDocument,function bubbleEvents(doc){const{defaultView}=doc,{frameElement}=defaultView;function bubbleEvent(event){const constructorName=Object.getPrototypeOf(event).constructor.name,Constructor=window[constructorName],init={};for(const key in event)init[key]=event[key];if(event instanceof defaultView.MouseEvent){const rect=frameElement.getBoundingClientRect();init.clientX+=rect.left,init.clientY+=rect.top}const newEvent=new Constructor(event.type,init);!frameElement.dispatchEvent(newEvent)&&event.preventDefault()}const eventTypes=["dragover","mousemove"];for(const name of eventTypes)doc.addEventListener(name,bubbleEvent)}(contentDocument),setIframeDocument(contentDocument),clearerRef(documentElement),setBodyClasses(Array.from(ownerDocument.body.classList).filter((name=>name.startsWith("admin-color-")||name.startsWith("post-type-")||"wp-embed-responsive"===name))),contentDocument.dir=ownerDocument.dir,documentElement.removeChild(contentDocument.body);for(const compatStyle of compatStyles)contentDocument.getElementById(compatStyle.id)||(contentDocument.head.appendChild(compatStyle.cloneNode(!0)),console.warn(`${compatStyle.id} was added to the iframe incorrectly. Please use block.json or enqueue_block_assets to add styles to the iframe.`,compatStyle));iFrameDocument.addEventListener("dragover",preventFileDropDefault,!1),iFrameDocument.addEventListener("drop",preventFileDropDefault,!1)}return node.addEventListener("load",onLoad),()=>{node.removeEventListener("load",onLoad),iFrameDocument?.removeEventListener("dragover",preventFileDropDefault),iFrameDocument?.removeEventListener("drop",preventFileDropDefault)}}),[]),headRef=(0,use_ref_effect.Z)((element=>{scripts.reduce(((promise,script)=>promise.then((()=>async function loadScript(head,{id,src}){return new Promise(((resolve,reject)=>{const script=head.ownerDocument.createElement("script");script.id=id,src?(script.src=src,script.onload=()=>resolve(),script.onerror=()=>reject()):resolve(),head.appendChild(script)}))}(element,script)))),Promise.resolve()).finally((()=>{forceRender()}))}),[]),disabledRef=(0,use_disabled.Z)({isDisabled:!readonly}),bodyRef=(0,use_merge_refs.Z)([contentRef,clearerRef,writingFlowRef,disabledRef,headRef]),html="<!doctype html><style>html{height:auto!important;min-height:100%;}body{margin:0}</style>"+(null!==(_assets$styles=assets?.styles)&&void 0!==_assets$styles?_assets$styles:""),[src,cleanup]=(0,react.useMemo)((()=>{const _src=URL.createObjectURL(new window.Blob([html],{type:"text/html"}));return[_src,()=>URL.revokeObjectURL(_src)]}),[html]);(0,react.useEffect)((()=>cleanup),[cleanup]);const marginFromScaling=contentHeight*(1-scale)/2;return(0,react.createElement)(react.Fragment,null,tabIndex>=0&&before,(0,react.createElement)("iframe",(0,esm_extends.Z)({},props,{style:{...props.style,height:expand?contentHeight:props.style?.height,marginTop:1!==scale?-marginFromScaling+frameSize:props.style?.marginTop,marginBottom:1!==scale?-marginFromScaling+frameSize:props.style?.marginBottom,transform:1!==scale?`scale( ${scale} )`:props.style?.transform,transition:"all .3s"},ref:(0,use_merge_refs.Z)([ref,setRef]),tabIndex,src,title:(0,i18n_build_module.__)("Editor canvas")}),iframeDocument&&(0,react_dom.createPortal)((0,react.createElement)("body",{ref:bodyRef,className:classnames_default()("block-editor-iframe__body","editor-styles-wrapper",...bodyClasses)},contentResizeListener,(0,react.createElement)(style_provider.Z,{document:iframeDocument},children)),iframeDocument.documentElement)),tabIndex>=0&&after)}const iframe=(0,react.forwardRef)((function IframeIfReady(props,ref){return(0,use_select.Z)((select=>select(store).getSettings().__internalIsInitialized),[])?(0,react.createElement)(Iframe,(0,esm_extends.Z)({},props,{forwardedRef:ref})):null}));var colord=__webpack_require__("./node_modules/colord/index.mjs"),names=__webpack_require__("./node_modules/colord/plugins/names.mjs"),a11y=__webpack_require__("./node_modules/colord/plugins/a11y.mjs"),traverse=__webpack_require__("./node_modules/traverse/index.js"),traverse_default=__webpack_require__.n(traverse);const commentre=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function parse(css,options){options=options||{};let lineno=1,column=1;function updatePosition(str){const lines=str.match(/\n/g);lines&&(lineno+=lines.length);const i=str.lastIndexOf("\n");column=~i?str.length-i:column+str.length}function position(){const start={line:lineno,column};return function(node){return node.position=new Position(start),whitespace(),node}}function Position(start){this.start=start,this.end={line:lineno,column},this.source=options.source}Position.prototype.content=css;const errorsList=[];function error(msg){const err=new Error(options.source+":"+lineno+":"+column+": "+msg);if(err.reason=msg,err.filename=options.source,err.line=lineno,err.column=column,err.source=css,!options.silent)throw err;errorsList.push(err)}function open(){return match(/^{\s*/)}function close(){return match(/^}/)}function rules(){let node;const accumulator=[];for(whitespace(),comments(accumulator);css.length&&"}"!==css.charAt(0)&&(node=atrule()||rule());)!1!==node&&(accumulator.push(node),comments(accumulator));return accumulator}function match(re){const m=re.exec(css);if(!m)return;const str=m[0];return updatePosition(str),css=css.slice(str.length),m}function whitespace(){match(/^\s*/)}function comments(accumulator){let c;for(accumulator=accumulator||[];c=comment();)!1!==c&&accumulator.push(c);return accumulator}function comment(){const pos=position();if("/"!==css.charAt(0)||"*"!==css.charAt(1))return;let i=2;for(;""!==css.charAt(i)&&("*"!==css.charAt(i)||"/"!==css.charAt(i+1));)++i;if(i+=2,""===css.charAt(i-1))return error("End of comment missing");const str=css.slice(2,i-2);return column+=2,updatePosition(str),css=css.slice(i),column+=2,pos({type:"comment",comment:str})}function selector(){const m=match(/^([^{]+)/);if(m)return trim(m[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(matched){return matched.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(s){return s.replace(/\u200C/g,",")}))}function declaration(){const pos=position();let prop=match(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!prop)return;if(prop=trim(prop[0]),!match(/^:\s*/))return error("property missing ':'");const val=match(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),ret=pos({type:"declaration",property:prop.replace(commentre,""),value:val?trim(val[0]).replace(commentre,""):""});return match(/^[;\s]*/),ret}function declarations(){const decls=[];if(!open())return error("missing '{'");let decl;for(comments(decls);decl=declaration();)!1!==decl&&(decls.push(decl),comments(decls));return close()?decls:error("missing '}'")}function keyframe(){let m;const vals=[],pos=position();for(;m=match(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)vals.push(m[1]),match(/^,\s*/);if(vals.length)return pos({type:"keyframe",values:vals,declarations:declarations()})}const atimport=_compileAtrule("import"),atcharset=_compileAtrule("charset"),atnamespace=_compileAtrule("namespace");function _compileAtrule(name){const re=new RegExp("^@"+name+"\\s*([^;]+);");return function(){const pos=position(),m=match(re);if(!m)return;const ret={type:name};return ret[name]=m[1].trim(),pos(ret)}}function atrule(){if("@"===css[0])return function atkeyframes(){const pos=position();let m=match(/^@([-\w]+)?keyframes\s*/);if(!m)return;const vendor=m[1];if(m=match(/^([-\w]+)\s*/),!m)return error("@keyframes missing name");const name=m[1];if(!open())return error("@keyframes missing '{'");let frame,frames=comments();for(;frame=keyframe();)frames.push(frame),frames=frames.concat(comments());return close()?pos({type:"keyframes",name,vendor,keyframes:frames}):error("@keyframes missing '}'")}()||function atmedia(){const pos=position(),m=match(/^@media *([^{]+)/);if(!m)return;const media=trim(m[1]);if(!open())return error("@media missing '{'");const style=comments().concat(rules());return close()?pos({type:"media",media,rules:style}):error("@media missing '}'")}()||function atcustommedia(){const pos=position(),m=match(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(m)return pos({type:"custom-media",name:trim(m[1]),media:trim(m[2])})}()||function atsupports(){const pos=position(),m=match(/^@supports *([^{]+)/);if(!m)return;const supports=trim(m[1]);if(!open())return error("@supports missing '{'");const style=comments().concat(rules());return close()?pos({type:"supports",supports,rules:style}):error("@supports missing '}'")}()||atimport()||atcharset()||atnamespace()||function atdocument(){const pos=position(),m=match(/^@([-\w]+)?document *([^{]+)/);if(!m)return;const vendor=trim(m[1]),doc=trim(m[2]);if(!open())return error("@document missing '{'");const style=comments().concat(rules());return close()?pos({type:"document",document:doc,vendor,rules:style}):error("@document missing '}'")}()||function atpage(){const pos=position();if(!match(/^@page */))return;const sel=selector()||[];if(!open())return error("@page missing '{'");let decl,decls=comments();for(;decl=declaration();)decls.push(decl),decls=decls.concat(comments());return close()?pos({type:"page",selectors:sel,declarations:decls}):error("@page missing '}'")}()||function athost(){const pos=position();if(!match(/^@host\s*/))return;if(!open())return error("@host missing '{'");const style=comments().concat(rules());return close()?pos({type:"host",rules:style}):error("@host missing '}'")}()||function atfontface(){const pos=position();if(!match(/^@font-face\s*/))return;if(!open())return error("@font-face missing '{'");let decl,decls=comments();for(;decl=declaration();)decls.push(decl),decls=decls.concat(comments());return close()?pos({type:"font-face",declarations:decls}):error("@font-face missing '}'")}()}function rule(){const pos=position(),sel=selector();return sel?(comments(),pos({type:"rule",selectors:sel,declarations:declarations()})):error("selector missing")}return addParent(function stylesheet(){const rulesList=rules();return{type:"stylesheet",stylesheet:{source:options.source,rules:rulesList,parsingErrors:errorsList}}}())}function trim(str){return str?str.replace(/^\s+|\s+$/g,""):""}function addParent(obj,parent){const isNode=obj&&"string"==typeof obj.type,childParent=isNode?obj:parent;for(const k in obj){const value=obj[k];Array.isArray(value)?value.forEach((function(v){addParent(v,childParent)})):value&&"object"==typeof value&&addParent(value,childParent)}return isNode&&Object.defineProperty(obj,"parent",{configurable:!0,writable:!0,enumerable:!1,value:parent||null}),obj}var inherits_browser=__webpack_require__("./node_modules/inherits/inherits_browser.js"),inherits_browser_default=__webpack_require__.n(inherits_browser);const compiler=Compiler;function Compiler(opts){this.options=opts||{}}Compiler.prototype.emit=function(str){return str},Compiler.prototype.visit=function(node){return this[node.type](node)},Compiler.prototype.mapVisit=function(nodes,delim){let buf="";delim=delim||"";for(let i=0,length=nodes.length;i<length;i++)buf+=this.visit(nodes[i]),delim&&i<length-1&&(buf+=this.emit(delim));return buf};const compress=compress_Compiler;function compress_Compiler(options){compiler.call(this,options)}inherits_browser_default()(compress_Compiler,compiler),compress_Compiler.prototype.compile=function(node){return node.stylesheet.rules.map(this.visit,this).join("")},compress_Compiler.prototype.comment=function(node){return this.emit("",node.position)},compress_Compiler.prototype.import=function(node){return this.emit("@import "+node.import+";",node.position)},compress_Compiler.prototype.media=function(node){return this.emit("@media "+node.media,node.position)+this.emit("{")+this.mapVisit(node.rules)+this.emit("}")},compress_Compiler.prototype.document=function(node){const doc="@"+(node.vendor||"")+"document "+node.document;return this.emit(doc,node.position)+this.emit("{")+this.mapVisit(node.rules)+this.emit("}")},compress_Compiler.prototype.charset=function(node){return this.emit("@charset "+node.charset+";",node.position)},compress_Compiler.prototype.namespace=function(node){return this.emit("@namespace "+node.namespace+";",node.position)},compress_Compiler.prototype.supports=function(node){return this.emit("@supports "+node.supports,node.position)+this.emit("{")+this.mapVisit(node.rules)+this.emit("}")},compress_Compiler.prototype.keyframes=function(node){return this.emit("@"+(node.vendor||"")+"keyframes "+node.name,node.position)+this.emit("{")+this.mapVisit(node.keyframes)+this.emit("}")},compress_Compiler.prototype.keyframe=function(node){const decls=node.declarations;return this.emit(node.values.join(","),node.position)+this.emit("{")+this.mapVisit(decls)+this.emit("}")},compress_Compiler.prototype.page=function(node){const sel=node.selectors.length?node.selectors.join(", "):"";return this.emit("@page "+sel,node.position)+this.emit("{")+this.mapVisit(node.declarations)+this.emit("}")},compress_Compiler.prototype["font-face"]=function(node){return this.emit("@font-face",node.position)+this.emit("{")+this.mapVisit(node.declarations)+this.emit("}")},compress_Compiler.prototype.host=function(node){return this.emit("@host",node.position)+this.emit("{")+this.mapVisit(node.rules)+this.emit("}")},compress_Compiler.prototype["custom-media"]=function(node){return this.emit("@custom-media "+node.name+" "+node.media+";",node.position)},compress_Compiler.prototype.rule=function(node){const decls=node.declarations;return decls.length?this.emit(node.selectors.join(","),node.position)+this.emit("{")+this.mapVisit(decls)+this.emit("}"):""},compress_Compiler.prototype.declaration=function(node){return this.emit(node.property+":"+node.value,node.position)+this.emit(";")};const stringify_identity=identity_Compiler;function identity_Compiler(options){options=options||{},compiler.call(this,options),this.indentation=options.indent}inherits_browser_default()(identity_Compiler,compiler),identity_Compiler.prototype.compile=function(node){return this.stylesheet(node)},identity_Compiler.prototype.stylesheet=function(node){return this.mapVisit(node.stylesheet.rules,"\n\n")},identity_Compiler.prototype.comment=function(node){return this.emit(this.indent()+"/*"+node.comment+"*/",node.position)},identity_Compiler.prototype.import=function(node){return this.emit("@import "+node.import+";",node.position)},identity_Compiler.prototype.media=function(node){return this.emit("@media "+node.media,node.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(node.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},identity_Compiler.prototype.document=function(node){const doc="@"+(node.vendor||"")+"document "+node.document;return this.emit(doc,node.position)+this.emit("  {\n"+this.indent(1))+this.mapVisit(node.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},identity_Compiler.prototype.charset=function(node){return this.emit("@charset "+node.charset+";",node.position)},identity_Compiler.prototype.namespace=function(node){return this.emit("@namespace "+node.namespace+";",node.position)},identity_Compiler.prototype.supports=function(node){return this.emit("@supports "+node.supports,node.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(node.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},identity_Compiler.prototype.keyframes=function(node){return this.emit("@"+(node.vendor||"")+"keyframes "+node.name,node.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(node.keyframes,"\n")+this.emit(this.indent(-1)+"}")},identity_Compiler.prototype.keyframe=function(node){const decls=node.declarations;return this.emit(this.indent())+this.emit(node.values.join(", "),node.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(decls,"\n")+this.emit(this.indent(-1)+"\n"+this.indent()+"}\n")},identity_Compiler.prototype.page=function(node){const sel=node.selectors.length?node.selectors.join(", ")+" ":"";return this.emit("@page "+sel,node.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(node.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},identity_Compiler.prototype["font-face"]=function(node){return this.emit("@font-face ",node.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(node.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},identity_Compiler.prototype.host=function(node){return this.emit("@host",node.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(node.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},identity_Compiler.prototype["custom-media"]=function(node){return this.emit("@custom-media "+node.name+" "+node.media+";",node.position)},identity_Compiler.prototype.rule=function(node){const indent=this.indent(),decls=node.declarations;return decls.length?this.emit(node.selectors.map((function(s){return indent+s})).join(",\n"),node.position)+this.emit(" {\n")+this.emit(this.indent(1))+this.mapVisit(decls,"\n")+this.emit(this.indent(-1))+this.emit("\n"+this.indent()+"}"):""},identity_Compiler.prototype.declaration=function(node){return this.emit(this.indent())+this.emit(node.property+": "+node.value,node.position)+this.emit(";")},identity_Compiler.prototype.indent=function(level){return this.level=this.level||1,null!==level?(this.level+=level,""):Array(this.level).join(this.indentation||"  ")};const transform_styles_traverse=function traverseCSS(css,callback){try{const parsed=parse(css);return function stringify(node,options){return((options=options||{}).compress?new compress(options):new stringify_identity(options)).compile(node)}(traverse_default().map(parsed,(function(node){if(!node)return node;const updatedNode=callback(node);return this.update(updatedNode)})))}catch(err){return console.warn("Error while traversing the CSS: "+err),null}};function isValidURL(meta){return 0!==meta.value.indexOf("data:")&&0!==meta.value.indexOf("#")&&(!function isAbsolutePath(filePath){return/^\/(?!\/)/.test(filePath)}(meta.value)&&!function isRemotePath(filePath){return/^(?:https?:)?\/\//.test(filePath)}(meta.value))}function getResourcePath(str,baseURL){return new URL(str,baseURL).toString()}const url_rewrite=rootURL=>node=>{if("declaration"===node.type){const updatedURLs=function getURLs(value){const reg=/url\((\s*)(['"]?)(.+?)\2(\s*)\)/g;let match;const URLs=[];for(;null!==(match=reg.exec(value));){const meta={source:match[0],before:match[1],quote:match[2],value:match[3],after:match[4]};isValidURL(meta)&&URLs.push(meta)}return URLs}(node.value).map(function processURL(baseURL){return meta=>({...meta,newUrl:"url("+meta.before+meta.quote+getResourcePath(meta.value,baseURL)+meta.quote+meta.after+")"})}(rootURL));return{...node,value:(raw=node.value,URLs=updatedURLs,URLs.forEach((item=>{raw=raw.replace(item.source,item.newUrl)})),raw)}}var raw,URLs;return node},IS_ROOT_TAG=/^(body|html|:root).*$/,transforms_wrap=(namespace,ignore=[])=>node=>{const updateSelector=selector=>ignore.includes(selector.trim())?selector:selector.match(IS_ROOT_TAG)?selector.replace(/^(body|html|:root)/,namespace):namespace+" "+selector;return"rule"===node.type?{...node,selectors:node.selectors.map(updateSelector)}:node},transform_styles=(styles,wrapperClassName="")=>Object.values(null!=styles?styles:[]).map((({css,baseURL})=>{const transforms=[];return wrapperClassName&&transforms.push(transforms_wrap(wrapperClassName)),baseURL&&transforms.push(url_rewrite(baseURL)),transforms.length?transform_styles_traverse(css,(0,compose.Z)(transforms)):css})),EDITOR_STYLES_SELECTOR=".editor-styles-wrapper";function useDarkThemeBodyClassName(styles){return(0,react.useCallback)((node=>{if(!node)return;const{ownerDocument}=node,{defaultView,body}=ownerDocument,canvas=ownerDocument.querySelector(EDITOR_STYLES_SELECTOR);let backgroundColor;if(canvas)backgroundColor=defaultView.getComputedStyle(canvas,null).getPropertyValue("background-color");else{const tempCanvas=ownerDocument.createElement("div");tempCanvas.classList.add("editor-styles-wrapper"),body.appendChild(tempCanvas),backgroundColor=defaultView.getComputedStyle(tempCanvas,null).getPropertyValue("background-color"),body.removeChild(tempCanvas)}const colordBackgroundColor=(0,colord.Vi)(backgroundColor);colordBackgroundColor.luminance()>.5||0===colordBackgroundColor.alpha()?body.classList.remove("is-dark-theme"):body.classList.add("is-dark-theme")}),[styles])}function EditorStyles({styles}){const stylesArray=(0,react.useMemo)((()=>Object.values(null!=styles?styles:[])),[styles]),transformedStyles=(0,react.useMemo)((()=>transform_styles(stylesArray.filter((style=>style?.css)),EDITOR_STYLES_SELECTOR)),[stylesArray]),transformedSvgs=(0,react.useMemo)((()=>stylesArray.filter((style=>"svgs"===style.__unstableType)).map((style=>style.assets)).join("")),[stylesArray]);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)("style",{ref:useDarkThemeBodyClassName(stylesArray)}),transformedStyles.map(((css,index)=>(0,react.createElement)("style",{key:index},css))),(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 0 0",width:"0",height:"0",role:"none",style:{visibility:"hidden",position:"absolute",left:"-9999px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:transformedSvgs}}))}let MemoizedBlockList;(0,colord.l7)([names.Z,a11y.Z]);const MAX_HEIGHT=2e3;function ScaledBlockPreview({viewportWidth,containerWidth,minHeight,additionalStyles=[]}){viewportWidth||(viewportWidth=containerWidth);const[contentResizeListener,{height:contentHeight}]=(0,use_resize_observer.Z)(),{styles}=(0,use_select.Z)((select=>({styles:select(store).getSettings().styles})),[]),editorStyles=(0,react.useMemo)((()=>styles?[...styles,{css:"body{height:auto;overflow:hidden;border:none;padding:0;}",__unstableType:"presets"},...additionalStyles]:styles),[styles,additionalStyles]);MemoizedBlockList=MemoizedBlockList||(0,pure.Z)(BlockList);const scale=containerWidth/viewportWidth;return(0,react.createElement)(disabled.Z,{className:"block-editor-block-preview__content",style:{transform:`scale(${scale})`,height:contentHeight*scale,maxHeight:contentHeight>MAX_HEIGHT?MAX_HEIGHT*scale:void 0,minHeight}},(0,react.createElement)(iframe,{contentRef:(0,use_ref_effect.Z)((bodyElement=>{const{ownerDocument:{documentElement}}=bodyElement;documentElement.classList.add("block-editor-block-preview__content-iframe"),documentElement.style.position="absolute",documentElement.style.width="100%",bodyElement.style.boxSizing="border-box",bodyElement.style.position="absolute",bodyElement.style.width="100%"}),[]),"aria-hidden":!0,tabIndex:-1,style:{position:"absolute",width:viewportWidth,height:contentHeight,pointerEvents:"none",maxHeight:MAX_HEIGHT,minHeight:0!==scale&&scale<1&&minHeight?minHeight/scale:minHeight}},(0,react.createElement)(EditorStyles,{styles:editorStyles}),contentResizeListener,(0,react.createElement)(MemoizedBlockList,{renderAppender:!1})))}function AutoBlockPreview(props){const[containerResizeListener,{width:containerWidth}]=(0,use_resize_observer.Z)();return(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{style:{position:"relative",width:"100%",height:0}},containerResizeListener),(0,react.createElement)("div",{className:"block-editor-block-preview__container"},!!containerWidth&&(0,react.createElement)(ScaledBlockPreview,(0,esm_extends.Z)({},props,{containerWidth}))))}const block_preview=(0,react.memo)((function BlockPreview({blocks,viewportWidth=1200,minHeight,additionalStyles=[],__experimentalMinHeight,__experimentalPadding}){__experimentalMinHeight&&(minHeight=__experimentalMinHeight,(0,deprecated_build_module.Z)("The __experimentalMinHeight prop",{since:"6.2",version:"6.4",alternative:"minHeight"})),__experimentalPadding&&(additionalStyles=[...additionalStyles,{css:`body { padding: ${__experimentalPadding}px; }`}],(0,deprecated_build_module.Z)("The __experimentalPadding prop of BlockPreview",{since:"6.2",version:"6.4",alternative:"additionalStyles"}));const originalSettings=(0,use_select.Z)((select=>select(store).getSettings()),[]),settings=(0,react.useMemo)((()=>({...originalSettings,__unstableIsPreviewMode:!0})),[originalSettings]),renderedBlocks=(0,react.useMemo)((()=>Array.isArray(blocks)?blocks:[blocks]),[blocks]);return blocks&&0!==blocks.length?(0,react.createElement)(ExperimentalBlockEditorProvider,{value:renderedBlocks,settings},(0,react.createElement)(AutoBlockPreview,{viewportWidth,minHeight,additionalStyles})):null}));function useBlockPreview({blocks,props={},layout}){const originalSettings=(0,use_select.Z)((select=>select(store).getSettings()),[]),settings=(0,react.useMemo)((()=>({...originalSettings,__unstableIsPreviewMode:!0})),[originalSettings]),disabledRef=(0,use_disabled.Z)(),ref=(0,use_merge_refs.Z)([props.ref,disabledRef]),renderedBlocks=(0,react.useMemo)((()=>Array.isArray(blocks)?blocks:[blocks]),[blocks]),children=(0,react.createElement)(ExperimentalBlockEditorProvider,{value:renderedBlocks,settings},(0,react.createElement)(BlockListItems,{renderAppender:!1,layout}));return{...props,ref,className:classnames_default()(props.className,"block-editor-block-preview__live-content","components-disabled"),children:blocks?.length?children:null}}const preview_panel=function InserterPreviewPanel({item}){var _example$viewportWidt;const{name,title,icon,description,initialAttributes,example}=item,isReusable=(0,build_module.vr)(item);return(0,react.createElement)("div",{className:"block-editor-inserter__preview-container"},(0,react.createElement)("div",{className:"block-editor-inserter__preview"},isReusable||example?(0,react.createElement)("div",{className:"block-editor-inserter__preview-content"},(0,react.createElement)(block_preview,{blocks:example?(0,build_module.Wf)(name,{attributes:{...example.attributes,...initialAttributes},innerBlocks:example.innerBlocks}):(0,build_module.j4)(name,initialAttributes),viewportWidth:null!==(_example$viewportWidt=example?.viewportWidth)&&void 0!==_example$viewportWidt?_example$viewportWidt:500,additionalStyles:[{css:"body { padding: 16px; }"}]})):(0,react.createElement)("div",{className:"block-editor-inserter__preview-content-missing"},(0,i18n_build_module.__)("No Preview Available."))),!isReusable&&(0,react.createElement)(block_card,{title,icon,description}))};var use_async_list=__webpack_require__("./packages/compose/build-module/hooks/use-async-list/index.js"),truncate_component=__webpack_require__("./packages/components/build-module/truncate/component.js"),build_module_platform=__webpack_require__("./packages/keycodes/build-module/platform.js"),CompositeItem=__webpack_require__("./packages/components/node_modules/reakit/es/Composite/CompositeItem.js");const inserter_listbox_context=(0,react.createContext)();const inserter_listbox_item=(0,react.forwardRef)((function InserterListboxItem({isFirst,as:Component,children,...props},ref){const state=(0,react.useContext)(inserter_listbox_context);return(0,react.createElement)(CompositeItem.A,(0,esm_extends.Z)({ref,state,role:"option",focusable:!0},props),(htmlProps=>{const propsWithTabIndex={...htmlProps,tabIndex:isFirst?0:htmlProps.tabIndex};return Component?(0,react.createElement)(Component,propsWithTabIndex,children):"function"==typeof children?children(propsWithTabIndex):(0,react.createElement)(build_module_button.ZP,propsWithTabIndex,children)}))}));var draggable=__webpack_require__("./packages/components/build-module/draggable/index.js"),drag_handle=__webpack_require__("./packages/icons/build-module/library/drag-handle.js");function BlockDraggableChip({count,icon,isPattern}){const patternLabel=isPattern&&(0,i18n_build_module.__)("Pattern");return(0,react.createElement)("div",{className:"block-editor-block-draggable-chip-wrapper"},(0,react.createElement)("div",{className:"block-editor-block-draggable-chip","data-testid":"block-draggable-chip"},(0,react.createElement)(component.Z,{justify:"center",className:"block-editor-block-draggable-chip__content"},(0,react.createElement)(flex_item_component.Z,null,icon?(0,react.createElement)(block_icon,{icon}):patternLabel||(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d block","%d blocks",count),count)),(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(block_icon,{icon:drag_handle.Z})))))}const inserter_draggable_blocks=({isEnabled,blocks,icon,children,isPattern})=>{const transferData={type:"inserter",blocks};return(0,react.createElement)(draggable.Z,{__experimentalTransferDataType:"wp-blocks",transferData,onDragStart:event=>{event.dataTransfer.setData("text/html",(0,build_module.qC)(blocks))},__experimentalDragComponent:(0,react.createElement)(BlockDraggableChip,{count:blocks.length,icon,isPattern})},(({onDraggableStart,onDraggableEnd})=>children({draggable:isEnabled,onDragStart:isEnabled?onDraggableStart:void 0,onDragEnd:isEnabled?onDraggableEnd:void 0})))};const inserter_list_item=(0,react.memo)((function InserterListItem({className,isFirst,item,onSelect,onHover,isDraggable,...props}){const isDragging=(0,react.useRef)(!1),itemIconStyle=item.icon?{backgroundColor:item.icon.background,color:item.icon.foreground}:{},blocks=(0,react.useMemo)((()=>[(0,build_module.j4)(item.name,item.initialAttributes,(0,build_module.ne)(item.innerBlocks))]),[item.name,item.initialAttributes,item.initialAttributes]),isSynced=(0,build_module.vr)(item)||(0,build_module.zQ)(item);return(0,react.createElement)(inserter_draggable_blocks,{isEnabled:isDraggable&&!item.disabled,blocks,icon:item.icon},(({draggable,onDragStart,onDragEnd})=>(0,react.createElement)("div",{className:classnames_default()("block-editor-block-types-list__list-item",{"is-synced":isSynced}),draggable,onDragStart:event=>{isDragging.current=!0,onDragStart&&(onHover(null),onDragStart(event))},onDragEnd:event=>{isDragging.current=!1,onDragEnd&&onDragEnd(event)}},(0,react.createElement)(inserter_listbox_item,(0,esm_extends.Z)({isFirst,className:classnames_default()("block-editor-block-types-list__item",className),disabled:item.isDisabled,onClick:event=>{event.preventDefault(),onSelect(item,(0,build_module_platform.R)()?event.metaKey:event.ctrlKey),onHover(null)},onKeyDown:event=>{const{keyCode}=event;keyCode===keycodes_build_module.K5&&(event.preventDefault(),onSelect(item,(0,build_module_platform.R)()?event.metaKey:event.ctrlKey),onHover(null))},onMouseEnter:()=>{isDragging.current||onHover(item)},onMouseLeave:()=>onHover(null)},props),(0,react.createElement)("span",{className:"block-editor-block-types-list__item-icon",style:itemIconStyle},(0,react.createElement)(block_icon,{icon:item.icon,showColors:!0})),(0,react.createElement)("span",{className:"block-editor-block-types-list__item-title"},(0,react.createElement)(truncate_component.Z,{numberOfLines:3},item.title))))))}));const group=(0,react.forwardRef)((function InserterListboxGroup(props,ref){const[shouldSpeak,setShouldSpeak]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{shouldSpeak&&(0,a11y_build_module.D)((0,i18n_build_module.__)("Use left and right arrow keys to move through blocks"))}),[shouldSpeak]),(0,react.createElement)("div",(0,esm_extends.Z)({ref,role:"listbox","aria-orientation":"horizontal",onFocus:()=>{setShouldSpeak(!0)},onBlur:event=>{!event.currentTarget.contains(event.relatedTarget)&&setShouldSpeak(!1)}},props))}));var CompositeGroup=__webpack_require__("./packages/components/node_modules/reakit/es/Composite/CompositeGroup.js");const inserter_listbox_row=(0,react.forwardRef)((function InserterListboxRow(props,ref){const state=(0,react.useContext)(inserter_listbox_context);return(0,react.createElement)(CompositeGroup.E,(0,esm_extends.Z)({state,role:"presentation",ref},props))}));const block_types_list=function BlockTypesList({items=[],onSelect,onHover=()=>{},children,label,isDraggable=!0}){return(0,react.createElement)(group,{className:"block-editor-block-types-list","aria-label":label},function chunk(array,size){const chunks=[];for(let i=0,j=array.length;i<j;i+=size)chunks.push(array.slice(i,i+size));return chunks}(items,3).map(((row,i)=>(0,react.createElement)(inserter_listbox_row,{key:i},row.map(((item,j)=>(0,react.createElement)(inserter_list_item,{key:item.id,item,className:(0,build_module.hq)(item.id),onSelect,onHover,isDraggable:isDraggable&&!item.isDisabled,isFirst:0===i&&0===j})))))),children)};const panel=function InserterPanel({title,icon,children}){return(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{className:"block-editor-inserter__panel-header"},(0,react.createElement)("h2",{className:"block-editor-inserter__panel-title"},title),(0,react.createElement)(components_build_module_icon.Z,{icon})),(0,react.createElement)("div",{className:"block-editor-inserter__panel-content"},children))},use_block_types_state=(rootClientId,onInsert)=>{const{categories,collections,items}=(0,use_select.Z)((select=>{const{getInserterItems}=select(store),{getCategories,getCollections}=select(build_module.h);return{categories:getCategories(),collections:getCollections(),items:getInserterItems(rootClientId)}}),[rootClientId]);return[items,categories,collections,(0,react.useCallback)((({name,initialAttributes,innerBlocks},shouldFocusBlock)=>{const insertedBlock=(0,build_module.j4)(name,initialAttributes,(0,build_module.ne)(innerBlocks));onInsert(insertedBlock,void 0,shouldFocusBlock)}),[onInsert])]};var CompositeState=__webpack_require__("./packages/components/node_modules/reakit/es/Composite/CompositeState.js");const inserter_listbox=function InserterListbox({children}){const compositeState=(0,CompositeState.u)({shift:!0,wrap:"horizontal"});return(0,react.createElement)(inserter_listbox_context.Provider,{value:compositeState},children)},block_types_tab_EMPTY_ARRAY=[];const block_types_tab=function BlockTypesTab({rootClientId,onInsert,onHover,showMostUsedBlocks}){const[items,categories,collections,onSelectItem]=use_block_types_state(rootClientId,onInsert),suggestedItems=(0,react.useMemo)((()=>orderBy(items,"frecency","desc").slice(0,6)),[items]),uncategorizedItems=(0,react.useMemo)((()=>items.filter((item=>!item.category))),[items]),itemsPerCategory=(0,react.useMemo)((()=>(0,pipe.Z)((itemList=>itemList.filter((item=>item.category&&"reusable"!==item.category))),(itemList=>itemList.reduce(((acc,item)=>{const{category}=item;return acc[category]||(acc[category]=[]),acc[category].push(item),acc}),{})))(items)),[items]),itemsPerCollection=(0,react.useMemo)((()=>{const result={...collections};return Object.keys(collections).forEach((namespace=>{result[namespace]=items.filter((item=>(item=>item.name.split("/")[0])(item)===namespace)),0===result[namespace].length&&delete result[namespace]})),result}),[items,collections]);(0,react.useEffect)((()=>()=>onHover(null)),[]);const currentlyRenderedCategories=(0,use_async_list.Z)(categories),didRenderAllCategories=categories.length===currentlyRenderedCategories.length,collectionEntries=(0,react.useMemo)((()=>Object.entries(collections)),[collections]),currentlyRenderedCollections=(0,use_async_list.Z)(didRenderAllCategories?collectionEntries:block_types_tab_EMPTY_ARRAY);return(0,react.createElement)(inserter_listbox,null,(0,react.createElement)("div",null,showMostUsedBlocks&&!!suggestedItems.length&&(0,react.createElement)(panel,{title:(0,i18n_build_module._x)("Most used","blocks")},(0,react.createElement)(block_types_list,{items:suggestedItems,onSelect:onSelectItem,onHover,label:(0,i18n_build_module._x)("Most used","blocks")})),currentlyRenderedCategories.map((category=>{const categoryItems=itemsPerCategory[category.slug];return categoryItems&&categoryItems.length?(0,react.createElement)(panel,{key:category.slug,title:category.title,icon:category.icon},(0,react.createElement)(block_types_list,{items:categoryItems,onSelect:onSelectItem,onHover,label:category.title})):null})),didRenderAllCategories&&uncategorizedItems.length>0&&(0,react.createElement)(panel,{className:"block-editor-inserter__uncategorized-blocks-panel",title:(0,i18n_build_module.__)("Uncategorized")},(0,react.createElement)(block_types_list,{items:uncategorizedItems,onSelect:onSelectItem,onHover,label:(0,i18n_build_module.__)("Uncategorized")})),currentlyRenderedCollections.map((([namespace,collection])=>{const collectionItems=itemsPerCollection[namespace];return collectionItems&&collectionItems.length?(0,react.createElement)(panel,{key:namespace,title:collection.title,icon:collection.icon},(0,react.createElement)(block_types_list,{items:collectionItems,onSelect:onSelectItem,onHover,label:collection.title})):null}))))};var item_group_component=__webpack_require__("./packages/components/build-module/item-group/item-group/component.js"),item_component=__webpack_require__("./packages/components/build-module/item-group/item/component.js"),h_stack_component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),flex_block_component=__webpack_require__("./packages/components/build-module/flex/flex-block/component.js"),notices_build_module=__webpack_require__("./packages/notices/build-module/index.js");const use_patterns_state=(onInsert,rootClientId)=>{const{patternCategories,patterns}=(0,use_select.Z)((select=>{const{__experimentalGetAllowedPatterns,getSettings}=select(store);return{patterns:__experimentalGetAllowedPatterns(rootClientId),patternCategories:getSettings().__experimentalBlockPatternCategories}}),[rootClientId]),{createSuccessNotice}=(0,use_dispatch.Z)(notices_build_module.h),onClickPattern=(0,react.useCallback)(((pattern,blocks)=>{onInsert((null!=blocks?blocks:[]).map((block=>(0,build_module.Wm)(block))),pattern.name),createSuccessNotice((0,i18n_build_module.gB)((0,i18n_build_module.__)('Block pattern "%s" inserted.'),pattern.title),{type:"snackbar"})}),[]);return[patterns,patternCategories,onClickPattern]};var tooltip=__webpack_require__("./packages/components/build-module/tooltip/index.js"),Composite=__webpack_require__("./packages/components/node_modules/reakit/es/Composite/Composite.js");const WithToolTip=({showTooltip,title,children})=>showTooltip?(0,react.createElement)(tooltip.Z,{text:title},children):(0,react.createElement)(react.Fragment,null,children);function BlockPattern({isDraggable,pattern,onClick,onHover,composite,showTooltip}){const[isDragging,setIsDragging]=(0,react.useState)(!1),{blocks,viewportWidth}=pattern,descriptionId=`block-editor-block-patterns-list__item-description-${(0,use_instance_id.Z)(BlockPattern)}`;return(0,react.createElement)(inserter_draggable_blocks,{isEnabled:isDraggable,blocks,isPattern:!!pattern},(({draggable,onDragStart,onDragEnd})=>(0,react.createElement)("div",{className:"block-editor-block-patterns-list__list-item",draggable,onDragStart:event=>{setIsDragging(!0),onDragStart&&(onHover?.(null),onDragStart(event))},onDragEnd:event=>{setIsDragging(!1),onDragEnd&&onDragEnd(event)}},(0,react.createElement)(WithToolTip,{showTooltip,title:pattern.title},(0,react.createElement)(CompositeItem.A,(0,esm_extends.Z)({role:"option",as:"div"},composite,{className:"block-editor-block-patterns-list__item",onClick:()=>{onClick(pattern,blocks),onHover?.(null)},onMouseEnter:()=>{isDragging||onHover?.(pattern)},onMouseLeave:()=>onHover?.(null),"aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:void 0}),(0,react.createElement)(block_preview,{blocks,viewportWidth}),!showTooltip&&(0,react.createElement)("div",{className:"block-editor-block-patterns-list__item-title"},pattern.title),!!pattern.description&&(0,react.createElement)(visually_hidden_component.Z,{id:descriptionId},pattern.description))))))}function BlockPatternPlaceholder(){return(0,react.createElement)("div",{className:"block-editor-block-patterns-list__item is-placeholder"})}const block_patterns_list=function BlockPatternList({isDraggable,blockPatterns,shownPatterns,onHover,onClickPattern,orientation,label=(0,i18n_build_module.__)("Block Patterns"),showTitlesAsTooltip}){const composite=(0,CompositeState.u)({orientation});return(0,react.createElement)(Composite.b,(0,esm_extends.Z)({},composite,{role:"listbox",className:"block-editor-block-patterns-list","aria-label":label}),blockPatterns.map((pattern=>shownPatterns.includes(pattern)?(0,react.createElement)(BlockPattern,{key:pattern.name,pattern,onClick:onClickPattern,onHover,isDraggable,composite,showTooltip:showTitlesAsTooltip}):(0,react.createElement)(BlockPatternPlaceholder,{key:pattern.name}))))};function PatternCategoriesList({selectedCategory,patternCategories,onClickCategory}){const baseClassName="block-editor-block-patterns-explorer__sidebar";return(0,react.createElement)("div",{className:`${baseClassName}__categories-list`},patternCategories.map((({name,label})=>(0,react.createElement)(build_module_button.ZP,{key:name,label,className:`${baseClassName}__categories-list__item`,isPressed:selectedCategory===name,onClick:()=>{onClickCategory(name)}},label))))}function PatternsExplorerSearch({filterValue,setFilterValue}){return(0,react.createElement)("div",{className:"block-editor-block-patterns-explorer__search"},(0,react.createElement)(search_control.Z,{__nextHasNoMarginBottom:!0,onChange:setFilterValue,value:filterValue,label:(0,i18n_build_module.__)("Search for patterns"),placeholder:(0,i18n_build_module.__)("Search")}))}const sidebar=function PatternExplorerSidebar({selectedCategory,patternCategories,onClickCategory,filterValue,setFilterValue}){return(0,react.createElement)("div",{className:"block-editor-block-patterns-explorer__sidebar"},(0,react.createElement)(PatternsExplorerSearch,{filterValue,setFilterValue}),!filterValue&&(0,react.createElement)(PatternCategoriesList,{selectedCategory,patternCategories,onClickCategory}))};var heading_component=__webpack_require__("./packages/components/build-module/heading/component.js");const no_results=function InserterNoResults(){return(0,react.createElement)("div",{className:"block-editor-inserter__no-results"},(0,react.createElement)(build_module_icon.Z,{className:"block-editor-inserter__no-results-icon",icon:block_default.Z}),(0,react.createElement)("p",null,(0,i18n_build_module.__)("No results found.")))};const use_insertion_point=function useInsertionPoint({rootClientId="",insertionIndex,clientId,isAppender,onSelect,shouldFocusBlock=!0,selectBlockOnInsert=!0}){const{getSelectedBlock}=(0,use_select.Z)(store),{destinationRootClientId,destinationIndex}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId,getBlockRootClientId,getBlockIndex,getBlockOrder}=select(store),selectedBlockClientId=getSelectedBlockClientId();let _destinationIndex,_destinationRootClientId=rootClientId;return void 0!==insertionIndex?_destinationIndex=insertionIndex:clientId?_destinationIndex=getBlockIndex(clientId):!isAppender&&selectedBlockClientId?(_destinationRootClientId=getBlockRootClientId(selectedBlockClientId),_destinationIndex=getBlockIndex(selectedBlockClientId)+1):_destinationIndex=getBlockOrder(_destinationRootClientId).length,{destinationRootClientId:_destinationRootClientId,destinationIndex:_destinationIndex}}),[rootClientId,insertionIndex,clientId,isAppender]),{replaceBlocks,insertBlocks,showInsertionPoint,hideInsertionPoint}=(0,use_dispatch.Z)(store),onInsertBlocks=(0,react.useCallback)(((blocks,meta,shouldForceFocusBlock=!1)=>{const selectedBlock=getSelectedBlock();!isAppender&&selectedBlock&&(0,build_module.ZP)(selectedBlock)?replaceBlocks(selectedBlock.clientId,blocks,null,shouldFocusBlock||shouldForceFocusBlock?0:null,meta):insertBlocks(blocks,destinationIndex,destinationRootClientId,selectBlockOnInsert,shouldFocusBlock||shouldForceFocusBlock?0:null,meta);const blockLength=Array.isArray(blocks)?blocks.length:1,message=(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d block added.","%d blocks added.",blockLength),blockLength);(0,a11y_build_module.D)(message),onSelect&&onSelect(blocks)}),[isAppender,getSelectedBlock,replaceBlocks,insertBlocks,destinationRootClientId,destinationIndex,onSelect,shouldFocusBlock]),onToggleInsertionPoint=(0,react.useCallback)((show=>{show?showInsertionPoint(destinationRootClientId,destinationIndex):hideInsertionPoint()}),[showInsertionPoint,hideInsertionPoint,destinationRootClientId,destinationIndex]);return[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint]};var remove_accents=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents_default=__webpack_require__.n(remove_accents),dist_es2015=__webpack_require__("./node_modules/no-case/dist.es2015/index.js");const defaultGetName=item=>item.name||"",defaultGetTitle=item=>item.title,defaultGetDescription=item=>item.description||"",defaultGetKeywords=item=>item.keywords||[],defaultGetCategory=item=>item.category,defaultGetCollection=()=>null;function extractWords(input=""){return(0,dist_es2015.B)(input,{splitRegexp:[/([\p{Ll}\p{Lo}\p{N}])([\p{Lu}\p{Lt}])/gu,/([\p{Lu}\p{Lt}])([\p{Lu}\p{Lt}][\p{Ll}\p{Lo}])/gu],stripRegexp:/(\p{C}|\p{P}|\p{S})+/giu}).split(" ").filter(Boolean)}function normalizeSearchInput(input=""){return input=(input=(input=remove_accents_default()(input)).replace(/^\//,"")).toLowerCase()}const getNormalizedSearchTerms=(input="")=>extractWords(normalizeSearchInput(input)),searchBlockItems=(items,categories,collections,searchInput)=>{if(0===getNormalizedSearchTerms(searchInput).length)return items;const config={getCategory:item=>categories.find((({slug})=>slug===item.category))?.title,getCollection:item=>collections[item.name.split("/")[0]]?.title};return searchItems(items,searchInput,config)},searchItems=(items=[],searchInput="",config={})=>{if(0===getNormalizedSearchTerms(searchInput).length)return items;const rankedItems=items.map((item=>[item,getItemSearchRank(item,searchInput,config)])).filter((([,rank])=>rank>0));return rankedItems.sort((([,rank1],[,rank2])=>rank2-rank1)),rankedItems.map((([item])=>item))};function getItemSearchRank(item,searchTerm,config={}){const{getName=defaultGetName,getTitle=defaultGetTitle,getDescription=defaultGetDescription,getKeywords=defaultGetKeywords,getCategory=defaultGetCategory,getCollection=defaultGetCollection}=config,name=getName(item),title=getTitle(item),description=getDescription(item),keywords=getKeywords(item),category=getCategory(item),collection=getCollection(item),normalizedSearchInput=normalizeSearchInput(searchTerm),normalizedTitle=normalizeSearchInput(title);let rank=0;if(normalizedSearchInput===normalizedTitle)rank+=30;else if(normalizedTitle.startsWith(normalizedSearchInput))rank+=20;else{const terms=[name,title,description,...keywords,category,collection].join(" ");0===((unmatchedTerms,unprocessedTerms)=>unmatchedTerms.filter((term=>!getNormalizedSearchTerms(unprocessedTerms).some((unprocessedTerm=>unprocessedTerm.includes(term))))))(extractWords(normalizedSearchInput),terms).length&&(rank+=10)}if(0!==rank&&name.startsWith("core/")){rank+=name!==item.id?1:2}return rank}function PatternsListHeader({filterValue,filteredBlockPatternsLength}){return filterValue?(0,react.createElement)(heading_component.Z,{level:2,lineHeight:"48px",className:"block-editor-block-patterns-explorer__search-results-count"},(0,i18n_build_module.gB)((0,i18n_build_module._n)('%1$d pattern found for "%2$s"','%1$d patterns found for "%2$s"',filteredBlockPatternsLength),filteredBlockPatternsLength,filterValue)):null}const patterns_list=function PatternList({filterValue,selectedCategory,patternCategories}){const debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500),[destinationRootClientId,onInsertBlocks]=use_insertion_point({shouldFocusBlock:!0}),[allPatterns,,onSelectBlockPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId),registeredPatternCategories=(0,react.useMemo)((()=>patternCategories.map((patternCategory=>patternCategory.name))),[patternCategories]),filteredBlockPatterns=(0,react.useMemo)((()=>filterValue?searchItems(allPatterns,filterValue):allPatterns.filter((pattern=>"uncategorized"===selectedCategory?!pattern.categories?.length||pattern.categories.every((category=>!registeredPatternCategories.includes(category))):pattern.categories?.includes(selectedCategory)))),[filterValue,selectedCategory,allPatterns]);(0,react.useEffect)((()=>{if(!filterValue)return;const count=filteredBlockPatterns.length,resultsFoundMessage=(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d result found.","%d results found.",count),count);debouncedSpeak(resultsFoundMessage)}),[filterValue,debouncedSpeak]);const currentShownPatterns=(0,use_async_list.Z)(filteredBlockPatterns,{step:2}),hasItems=!!filteredBlockPatterns?.length;return(0,react.createElement)("div",{className:"block-editor-block-patterns-explorer__list"},hasItems&&(0,react.createElement)(PatternsListHeader,{filterValue,filteredBlockPatternsLength:filteredBlockPatterns.length}),(0,react.createElement)(inserter_listbox,null,!hasItems&&(0,react.createElement)(no_results,null),hasItems&&(0,react.createElement)(block_patterns_list,{shownPatterns:currentShownPatterns,blockPatterns:filteredBlockPatterns,onClickPattern:onSelectBlockPattern,isDraggable:!1})))};function PatternsExplorer({initialCategory,patternCategories}){const[filterValue,setFilterValue]=(0,react.useState)(""),[selectedCategory,setSelectedCategory]=(0,react.useState)(initialCategory?.name);return(0,react.createElement)("div",{className:"block-editor-block-patterns-explorer"},(0,react.createElement)(sidebar,{selectedCategory,patternCategories,onClickCategory:setSelectedCategory,filterValue,setFilterValue}),(0,react.createElement)(patterns_list,{filterValue,selectedCategory,patternCategories}))}const explorer=function PatternsExplorerModal({onModalClose,...restProps}){return(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.__)("Patterns"),onRequestClose:onModalClose,isFullScreen:!0},(0,react.createElement)(PatternsExplorer,restProps))};var v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),view_component=__webpack_require__("./packages/components/build-module/view/component.js"),spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js"),navigator_back_button_component=__webpack_require__("./packages/components/build-module/navigator/navigator-back-button/component.js"),navigator_provider_component=__webpack_require__("./packages/components/build-module/navigator/navigator-provider/component.js"),navigator_screen_component=__webpack_require__("./packages/components/build-module/navigator/navigator-screen/component.js"),navigator_button_component=__webpack_require__("./packages/components/build-module/navigator/navigator-button/component.js");function ScreenHeader({title}){return(0,react.createElement)(v_stack_component.Z,{spacing:0},(0,react.createElement)(view_component.Z,null,(0,react.createElement)(spacer_component.Z,{marginBottom:0,paddingX:4,paddingY:3},(0,react.createElement)(h_stack_component.Z,{spacing:2},(0,react.createElement)(navigator_back_button_component.Z,{style:{minWidth:24,padding:0},icon:(0,i18n_build_module.dZ)()?chevron_right.Z:chevron_left.Z,isSmall:!0,"aria-label":(0,i18n_build_module.__)("Navigate to the previous view")}),(0,react.createElement)(spacer_component.Z,null,(0,react.createElement)(heading_component.Z,{level:5},title))))))}function MobileTabNavigation({categories,children}){return(0,react.createElement)(navigator_provider_component.Z,{initialPath:"/",className:"block-editor-inserter__mobile-tab-navigation"},(0,react.createElement)(navigator_screen_component.Z,{path:"/"},(0,react.createElement)(item_group_component.Z,null,categories.map((category=>(0,react.createElement)(navigator_button_component.Z,{key:category.name,path:`/category/${category.name}`,as:item_component.Z,isAction:!0},(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(flex_block_component.Z,null,category.label),(0,react.createElement)(build_module_icon.Z,{icon:(0,i18n_build_module.dZ)()?chevron_left.Z:chevron_right.Z}))))))),categories.map((category=>(0,react.createElement)(navigator_screen_component.Z,{key:category.name,path:`/category/${category.name}`},(0,react.createElement)(ScreenHeader,{title:(0,i18n_build_module.__)("Back")}),children(category)))))}const block_patterns_tab_noop=()=>{},patternCategoriesOrder=["featured","posts","text","gallery","call-to-action","banner","header","footer"];function usePatternsCategories(rootClientId){const[allPatterns,allCategories]=use_patterns_state(void 0,rootClientId),hasRegisteredCategory=(0,react.useCallback)((pattern=>!(!pattern.categories||!pattern.categories.length)&&pattern.categories.some((cat=>allCategories.some((category=>category.name===cat))))),[allCategories]),populatedCategories=(0,react.useMemo)((()=>{const categories=allCategories.filter((category=>allPatterns.some((pattern=>pattern.categories?.includes(category.name))))).sort((({name:aName},{name:bName})=>{let aIndex=patternCategoriesOrder.indexOf(aName),bIndex=patternCategoriesOrder.indexOf(bName);return aIndex<0&&(aIndex=patternCategoriesOrder.length),bIndex<0&&(bIndex=patternCategoriesOrder.length),aIndex-bIndex}));return allPatterns.some((pattern=>!hasRegisteredCategory(pattern)))&&!categories.find((category=>"uncategorized"===category.name))&&categories.push({name:"uncategorized",label:(0,i18n_build_module._x)("Uncategorized")}),categories}),[allPatterns,allCategories]);return populatedCategories}function BlockPatternsCategoryDialog({rootClientId,onInsert,onHover,category,showTitlesAsTooltip}){const container=(0,react.useRef)();return(0,react.useEffect)((()=>{const timeout=setTimeout((()=>{const[firstTabbable]=dom_build_module.T_.tabbable.find(container.current);firstTabbable?.focus()}));return()=>clearTimeout(timeout)}),[category]),(0,react.createElement)("div",{ref:container,className:"block-editor-inserter__patterns-category-dialog"},(0,react.createElement)(BlockPatternsCategoryPanel,{rootClientId,onInsert,onHover,category,showTitlesAsTooltip}))}function BlockPatternsCategoryPanel({rootClientId,onInsert,onHover=block_patterns_tab_noop,category,showTitlesAsTooltip}){const[allPatterns,,onClick]=use_patterns_state(onInsert,rootClientId),availableCategories=usePatternsCategories(rootClientId),currentCategoryPatterns=(0,react.useMemo)((()=>allPatterns.filter((pattern=>{var _pattern$categories$f;if("uncategorized"!==category.name)return pattern.categories?.includes(category.name);return 0===(null!==(_pattern$categories$f=pattern.categories?.filter((cat=>availableCategories.find((availableCategory=>availableCategory.name===cat)))))&&void 0!==_pattern$categories$f?_pattern$categories$f:[]).length}))),[allPatterns,category]),currentShownPatterns=(0,use_async_list.Z)(currentCategoryPatterns);return(0,react.useEffect)((()=>()=>onHover(null)),[]),currentCategoryPatterns.length?(0,react.createElement)("div",{className:"block-editor-inserter__patterns-category-panel"},(0,react.createElement)("div",{className:"block-editor-inserter__patterns-category-panel-title"},category.label),(0,react.createElement)("p",null,category.description),(0,react.createElement)(block_patterns_list,{shownPatterns:currentShownPatterns,blockPatterns:currentCategoryPatterns,onClickPattern:onClick,onHover,label:category.label,orientation:"vertical",category:category.label,isDraggable:!0,showTitlesAsTooltip})):null}const block_patterns_tab=function BlockPatternsTabs({onSelectCategory,selectedCategory,onInsert,rootClientId}){const[showPatternsExplorer,setShowPatternsExplorer]=(0,react.useState)(!1),categories=usePatternsCategories(rootClientId),initialCategory=selectedCategory||categories[0],isMobile=(0,use_viewport_match.Z)("medium","<");return(0,react.createElement)(react.Fragment,null,!isMobile&&(0,react.createElement)("div",{className:"block-editor-inserter__block-patterns-tabs-container"},(0,react.createElement)("nav",{"aria-label":(0,i18n_build_module.__)("Block pattern categories")},(0,react.createElement)(item_group_component.Z,{role:"list",className:"block-editor-inserter__block-patterns-tabs"},categories.map((category=>(0,react.createElement)(item_component.Z,{role:"listitem",key:category.name,onClick:()=>onSelectCategory(category),className:category===selectedCategory?"block-editor-inserter__patterns-category block-editor-inserter__patterns-selected-category":"block-editor-inserter__patterns-category","aria-label":category.label,"aria-current":category===selectedCategory?"true":void 0},(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(flex_block_component.Z,null,category.label),(0,react.createElement)(build_module_icon.Z,{icon:chevron_right.Z}))))),(0,react.createElement)("div",{role:"listitem"},(0,react.createElement)(build_module_button.ZP,{className:"block-editor-inserter__patterns-explore-button",onClick:()=>setShowPatternsExplorer(!0),variant:"secondary"},(0,i18n_build_module.__)("Explore all patterns")))))),isMobile&&(0,react.createElement)(MobileTabNavigation,{categories},(category=>(0,react.createElement)(BlockPatternsCategoryPanel,{onInsert,rootClientId,category,showTitlesAsTooltip:!1}))),showPatternsExplorer&&(0,react.createElement)(explorer,{initialCategory,patternCategories:categories,onModalClose:()=>setShowPatternsExplorer(!1)}))};var add_query_args=__webpack_require__("./packages/url/build-module/add-query-args.js");function ReusableBlocksList({onHover,onInsert,rootClientId}){const[items,,,onSelectItem]=use_block_types_state(rootClientId,onInsert),filteredItems=(0,react.useMemo)((()=>items.filter((({category})=>"reusable"===category))),[items]);return 0===filteredItems.length?(0,react.createElement)(no_results,null):(0,react.createElement)(panel,{title:(0,i18n_build_module.__)("Reusable blocks")},(0,react.createElement)(block_types_list,{items:filteredItems,onSelect:onSelectItem,onHover,label:(0,i18n_build_module.__)("Reusable blocks")}))}const reusable_blocks_tab=function ReusableBlocksTab({rootClientId,onInsert,onHover}){return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(ReusableBlocksList,{onHover,onInsert,rootClientId}),(0,react.createElement)("div",{className:"block-editor-inserter__manage-reusable-blocks-container"},(0,react.createElement)(build_module_button.ZP,{className:"block-editor-inserter__manage-reusable-blocks",variant:"secondary",href:(0,add_query_args.f)("edit.php",{post_type:"wp_block"})},(0,i18n_build_module.__)("Manage Reusable blocks"))))};function useMediaCategories(rootClientId){const[categories,setCategories]=(0,react.useState)([]),{canInsertImage,canInsertVideo,canInsertAudio}=(0,use_select.Z)((select=>{const{canInsertBlockType}=select(store);return{canInsertImage:canInsertBlockType("core/image",rootClientId),canInsertVideo:canInsertBlockType("core/video",rootClientId),canInsertAudio:canInsertBlockType("core/audio",rootClientId)}}),[rootClientId]),inserterMediaCategories=function useInserterMediaCategories(){const{inserterMediaCategories,allowedMimeTypes,enableOpenverseMediaCategory}=(0,use_select.Z)((select=>{const settings=select(store).getSettings();return{inserterMediaCategories:settings.inserterMediaCategories,allowedMimeTypes:settings.allowedMimeTypes,enableOpenverseMediaCategory:settings.enableOpenverseMediaCategory}}),[]),allowedCategories=(0,react.useMemo)((()=>{if(inserterMediaCategories&&allowedMimeTypes)return inserterMediaCategories.filter((category=>!(!enableOpenverseMediaCategory&&"openverse"===category.name)&&Object.values(allowedMimeTypes).some((mimeType=>mimeType.startsWith(`${category.mediaType}/`)))))}),[inserterMediaCategories,allowedMimeTypes,enableOpenverseMediaCategory]);return allowedCategories}();return(0,react.useEffect)((()=>{(async()=>{const _categories=[];if(!inserterMediaCategories)return;const categoriesHaveMedia=new Map(await Promise.all(inserterMediaCategories.map((async category=>{if(category.isExternalResource)return[category.name,!0];let results=[];try{results=await category.fetch({per_page:1})}catch(e){}return[category.name,!!results.length]})))),canInsertMediaType={image:canInsertImage,video:canInsertVideo,audio:canInsertAudio};inserterMediaCategories.forEach((category=>{canInsertMediaType[category.mediaType]&&categoriesHaveMedia.get(category.name)&&_categories.push(category)})),_categories.length&&setCategories(_categories)})()}),[canInsertImage,canInsertVideo,canInsertAudio,inserterMediaCategories]),categories}var spinner=__webpack_require__("./packages/components/build-module/spinner/index.js"),more_vertical=__webpack_require__("./packages/icons/build-module/library/more-vertical.js"),external=__webpack_require__("./packages/icons/build-module/library/external.js"),blob_build_module=__webpack_require__("./packages/blob/build-module/index.js");const mediaTypeTag={image:"img",video:"video",audio:"audio"};function getBlockAndPreviewFromMedia(media,mediaType){const attributes={id:media.id||void 0,caption:media.caption||void 0},mediaSrc=media.url,alt=media.alt||void 0;"image"===mediaType?(attributes.url=mediaSrc,attributes.alt=alt):["video","audio"].includes(mediaType)&&(attributes.src=mediaSrc);const PreviewTag=mediaTypeTag[mediaType],preview=(0,react.createElement)(PreviewTag,{src:media.previewUrl||mediaSrc,alt,controls:"audio"===mediaType||void 0,inert:"true",onError:({currentTarget})=>{currentTarget.src===media.previewUrl&&(currentTarget.src=mediaSrc)}});return[(0,build_module.j4)(`core/${mediaType}`,attributes),preview]}const ALLOWED_MEDIA_TYPES=["image"],MAXIMUM_TITLE_LENGTH=25,MEDIA_OPTIONS_POPOVER_PROPS={position:"bottom left",className:"block-editor-inserter__media-list__item-preview-options__popover"};function MediaPreviewOptions({category,media}){if(!category.getReportUrl)return null;const reportUrl=category.getReportUrl(media);return(0,react.createElement)(dropdown_menu.Z,{className:"block-editor-inserter__media-list__item-preview-options",label:(0,i18n_build_module.__)("Options"),popoverProps:MEDIA_OPTIONS_POPOVER_PROPS,icon:more_vertical.Z},(()=>(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(menu_item.Z,{onClick:()=>window.open(reportUrl,"_blank").focus(),icon:external.Z},(0,i18n_build_module.gB)((0,i18n_build_module.__)("Report %s"),category.mediaType)))))}function InsertExternalImageModal({onClose,onSubmit}){return(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.__)("Insert external image"),onRequestClose:onClose,className:"block-editor-inserter-media-tab-media-preview-inserter-external-image-modal"},(0,react.createElement)(v_stack_component.Z,{spacing:3},(0,react.createElement)("p",null,(0,i18n_build_module.__)("This image cannot be uploaded to your Media Library, but it can still be inserted as an external image.")),(0,react.createElement)("p",null,(0,i18n_build_module.__)("External images can be removed by the external provider without warning and could even have legal compliance issues related to privacy legislation."))),(0,react.createElement)(component.Z,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:!1},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:onClose},(0,i18n_build_module.__)("Cancel"))),(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{variant:"primary",onClick:onSubmit},(0,i18n_build_module.__)("Insert")))))}function MediaPreview({media,onClick,composite,category}){const[showExternalUploadModal,setShowExternalUploadModal]=(0,react.useState)(!1),[isHovered,setIsHovered]=(0,react.useState)(!1),[isInserting,setIsInserting]=(0,react.useState)(!1),[block,preview]=(0,react.useMemo)((()=>getBlockAndPreviewFromMedia(media,category.mediaType)),[media,category.mediaType]),{createErrorNotice,createSuccessNotice}=(0,use_dispatch.Z)(notices_build_module.h),mediaUpload=(0,use_select.Z)((select=>select(store).getSettings().mediaUpload),[]),onMediaInsert=(0,react.useCallback)((previewBlock=>{if(isInserting)return;const clonedBlock=(0,build_module.Wm)(previewBlock),{id,url,caption}=clonedBlock.attributes;id?onClick(clonedBlock):(setIsInserting(!0),window.fetch(url).then((response=>response.blob())).then((blob=>{mediaUpload({filesList:[blob],additionalData:{caption},onFileChange([img]){(0,blob_build_module.Gu)(img.url)||(onClick({...clonedBlock,attributes:{...clonedBlock.attributes,id:img.id,url:img.url}}),createSuccessNotice((0,i18n_build_module.__)("Image uploaded and inserted."),{type:"snackbar"}),setIsInserting(!1))},allowedTypes:ALLOWED_MEDIA_TYPES,onError(message){createErrorNotice(message,{type:"snackbar"}),setIsInserting(!1)}})})).catch((()=>{setShowExternalUploadModal(!0),setIsInserting(!1)})))}),[isInserting,onClick,mediaUpload,createErrorNotice,createSuccessNotice]),title=media.title?.rendered||media.title;let truncatedTitle;if(title.length>MAXIMUM_TITLE_LENGTH){const omission="...";truncatedTitle=title.slice(0,MAXIMUM_TITLE_LENGTH-omission.length)+omission}const onMouseEnter=(0,react.useCallback)((()=>setIsHovered(!0)),[]),onMouseLeave=(0,react.useCallback)((()=>setIsHovered(!1)),[]);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inserter_draggable_blocks,{isEnabled:!0,blocks:[block]},(({draggable,onDragStart,onDragEnd})=>(0,react.createElement)("div",{className:classnames_default()("block-editor-inserter__media-list__list-item",{"is-hovered":isHovered}),draggable,onDragStart,onDragEnd},(0,react.createElement)(tooltip.Z,{text:truncatedTitle||title},(0,react.createElement)("div",{onMouseEnter,onMouseLeave},(0,react.createElement)(CompositeItem.A,(0,esm_extends.Z)({role:"option",as:"div"},composite,{className:"block-editor-inserter__media-list__item",onClick:()=>onMediaInsert(block),"aria-label":title}),(0,react.createElement)("div",{className:"block-editor-inserter__media-list__item-preview"},preview,isInserting&&(0,react.createElement)("div",{className:"block-editor-inserter__media-list__item-preview-spinner"},(0,react.createElement)(spinner.ZP,null)))),!isInserting&&(0,react.createElement)(MediaPreviewOptions,{category,media})))))),showExternalUploadModal&&(0,react.createElement)(InsertExternalImageModal,{onClose:()=>setShowExternalUploadModal(!1),onSubmit:()=>{onClick((0,build_module.Wm)(block)),createSuccessNotice((0,i18n_build_module.__)("Image inserted."),{type:"snackbar"}),setShowExternalUploadModal(!1)}}))}const media_list=function MediaList({mediaList,category,onClick,label=(0,i18n_build_module.__)("Media List")}){const composite=(0,CompositeState.u)();return(0,react.createElement)(Composite.b,(0,esm_extends.Z)({},composite,{role:"listbox",className:"block-editor-inserter__media-list","aria-label":label}),mediaList.map(((media,index)=>(0,react.createElement)(MediaPreview,{key:media.id||media.sourceId||index,media,category,onClick,composite}))))};function useDebouncedInput(defaultValue=""){const[input,setInput]=(0,react.useState)(defaultValue),[debounced,setter]=(0,react.useState)(defaultValue),setDebounced=(0,use_debounce.Z)(setter,250);return(0,react.useEffect)((()=>{debounced!==input&&setDebounced(input)}),[debounced,input]),[input,setInput,debounced]}const INITIAL_MEDIA_ITEMS_PER_PAGE=10;function MediaCategoryDialog({rootClientId,onInsert,category}){const container=(0,react.useRef)();return(0,react.useEffect)((()=>{const timeout=setTimeout((()=>{const[firstTabbable]=dom_build_module.T_.tabbable.find(container.current);firstTabbable?.focus()}));return()=>clearTimeout(timeout)}),[category]),(0,react.createElement)("div",{ref:container,className:"block-editor-inserter__media-dialog"},(0,react.createElement)(MediaCategoryPanel,{rootClientId,onInsert,category}))}function MediaCategoryPanel({rootClientId,onInsert,category}){const[search,setSearch,debouncedSearch]=useDebouncedInput(),{mediaList,isLoading}=function useMediaResults(category,query={}){const[mediaList,setMediaList]=(0,react.useState)(),[isLoading,setIsLoading]=(0,react.useState)(!1),lastRequest=(0,react.useRef)();return(0,react.useEffect)((()=>{(async()=>{const key=JSON.stringify({category:category.name,...query});lastRequest.current=key,setIsLoading(!0),setMediaList([]);const _media=await(category.fetch?.(query));key===lastRequest.current&&(setMediaList(_media),setIsLoading(!1))})()}),[category.name,...Object.values(query)]),{mediaList,isLoading}}(category,{per_page:debouncedSearch?20:INITIAL_MEDIA_ITEMS_PER_PAGE,search:debouncedSearch}),baseCssClass="block-editor-inserter__media-panel",searchLabel=category.labels.search_items||(0,i18n_build_module.__)("Search");return(0,react.createElement)("div",{className:baseCssClass},(0,react.createElement)(search_control.Z,{className:`${baseCssClass}-search`,onChange:setSearch,value:search,label:searchLabel,placeholder:searchLabel}),isLoading&&(0,react.createElement)("div",{className:`${baseCssClass}-spinner`},(0,react.createElement)(spinner.ZP,null)),!isLoading&&!mediaList?.length&&(0,react.createElement)(no_results,null),!isLoading&&!!mediaList?.length&&(0,react.createElement)(media_list,{rootClientId,onClick:onInsert,mediaList,category}))}const check=function MediaUploadCheck({fallback=null,children}){const hasUploadPermissions=(0,use_select.Z)((select=>{const{getSettings}=select(store);return!!getSettings().mediaUpload}),[]);return hasUploadPermissions?children:fallback},media_upload=(0,with_filters.Z)("editor.MediaUpload")((()=>null)),media_tab_ALLOWED_MEDIA_TYPES=["image","video","audio"];const media_tab=function MediaTab({rootClientId,selectedCategory,onSelectCategory,onInsert}){const mediaCategories=useMediaCategories(rootClientId),isMobile=(0,use_viewport_match.Z)("medium","<"),baseCssClass="block-editor-inserter__media-tabs",onSelectMedia=(0,react.useCallback)((media=>{if(!media?.url)return;const[block]=getBlockAndPreviewFromMedia(media,media.type);onInsert(block)}),[onInsert]),mobileMediaCategories=(0,react.useMemo)((()=>mediaCategories.map((mediaCategory=>({...mediaCategory,label:mediaCategory.labels.name})))),[mediaCategories]);return(0,react.createElement)(react.Fragment,null,!isMobile&&(0,react.createElement)("div",{className:`${baseCssClass}-container`},(0,react.createElement)("nav",{"aria-label":(0,i18n_build_module.__)("Media categories")},(0,react.createElement)(item_group_component.Z,{role:"list",className:baseCssClass},mediaCategories.map((mediaCategory=>(0,react.createElement)(item_component.Z,{role:"listitem",key:mediaCategory.name,onClick:()=>onSelectCategory(mediaCategory),className:classnames_default()(`${baseCssClass}__media-category`,{"is-selected":selectedCategory===mediaCategory}),"aria-label":mediaCategory.labels.name,"aria-current":mediaCategory===selectedCategory?"true":void 0},(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(flex_block_component.Z,null,mediaCategory.labels.name),(0,react.createElement)(build_module_icon.Z,{icon:chevron_right.Z}))))),(0,react.createElement)("div",{role:"listitem"},(0,react.createElement)(check,null,(0,react.createElement)(media_upload,{multiple:!1,onSelect:onSelectMedia,allowedTypes:media_tab_ALLOWED_MEDIA_TYPES,render:({open})=>(0,react.createElement)(build_module_button.ZP,{onClick:event=>{event.target.focus(),open()},className:"block-editor-inserter__media-library-button",variant:"secondary","data-unstable-ignore-focus-outside-for-relatedtarget":".media-modal"},(0,i18n_build_module.__)("Open Media Library"))})))))),isMobile&&(0,react.createElement)(MobileTabNavigation,{categories:mobileMediaCategories},(category=>(0,react.createElement)(MediaCategoryPanel,{onInsert,rootClientId,category}))))},{Fill:__unstableInserterMenuExtension,Slot}=(0,slot_fill.up)("__unstableInserterMenuExtension");__unstableInserterMenuExtension.Slot=Slot;const inserter_menu_extension=__unstableInserterMenuExtension,orderInserterBlockItems=(items,priority)=>priority?(items.sort((({id:aName},{id:bName})=>{let aIndex=priority.indexOf(aName),bIndex=priority.indexOf(bName);return aIndex<0&&(aIndex=priority.length),bIndex<0&&(bIndex=priority.length),aIndex-bIndex})),items):items,search_results_EMPTY_ARRAY=[];const search_results=function InserterSearchResults({filterValue,onSelect,onHover,rootClientId,clientId,isAppender,__experimentalInsertionIndex,maxBlockPatterns,maxBlockTypes,showBlockDirectory=!1,isDraggable=!0,shouldFocusBlock=!0,prioritizePatterns,selectBlockOnInsert}){const debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500),{prioritizedBlocks}=(0,use_select.Z)((select=>{const blockListSettings=select(store).getBlockListSettings(rootClientId);return{prioritizedBlocks:blockListSettings?.prioritizedInserterBlocks||search_results_EMPTY_ARRAY}}),[rootClientId]),[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect,rootClientId,clientId,isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock,selectBlockOnInsert}),[blockTypes,blockTypeCategories,blockTypeCollections,onSelectBlockType]=use_block_types_state(destinationRootClientId,onInsertBlocks),[patterns,,onSelectBlockPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId),filteredBlockPatterns=(0,react.useMemo)((()=>{if(0===maxBlockPatterns)return[];const results=searchItems(patterns,filterValue);return void 0!==maxBlockPatterns?results.slice(0,maxBlockPatterns):results}),[filterValue,patterns,maxBlockPatterns]);let maxBlockTypesToShow=maxBlockTypes;prioritizePatterns&&filteredBlockPatterns.length>2&&(maxBlockTypesToShow=0);const filteredBlockTypes=(0,react.useMemo)((()=>{if(0===maxBlockTypesToShow)return[];let orderedItems=orderBy(blockTypes,"frecency","desc");!filterValue&&prioritizedBlocks.length&&(orderedItems=orderInserterBlockItems(orderedItems,prioritizedBlocks));const results=searchBlockItems(orderedItems,blockTypeCategories,blockTypeCollections,filterValue);return void 0!==maxBlockTypesToShow?results.slice(0,maxBlockTypesToShow):results}),[filterValue,blockTypes,blockTypeCategories,blockTypeCollections,maxBlockTypesToShow,prioritizedBlocks]);(0,react.useEffect)((()=>{if(!filterValue)return;const count=filteredBlockTypes.length+filteredBlockPatterns.length,resultsFoundMessage=(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d result found.","%d results found.",count),count);debouncedSpeak(resultsFoundMessage)}),[filterValue,debouncedSpeak,filteredBlockTypes,filteredBlockPatterns]);const currentShownBlockTypes=(0,use_async_list.Z)(filteredBlockTypes,{step:9}),currentShownPatterns=(0,use_async_list.Z)(currentShownBlockTypes.length===filteredBlockTypes.length?filteredBlockPatterns:search_results_EMPTY_ARRAY),hasItems=filteredBlockTypes.length>0||filteredBlockPatterns.length>0,blocksUI=!!filteredBlockTypes.length&&(0,react.createElement)(panel,{title:(0,react.createElement)(visually_hidden_component.Z,null,(0,i18n_build_module.__)("Blocks"))},(0,react.createElement)(block_types_list,{items:currentShownBlockTypes,onSelect:onSelectBlockType,onHover,label:(0,i18n_build_module.__)("Blocks"),isDraggable})),patternsUI=!!filteredBlockPatterns.length&&(0,react.createElement)(panel,{title:(0,react.createElement)(visually_hidden_component.Z,null,(0,i18n_build_module.__)("Block Patterns"))},(0,react.createElement)("div",{className:"block-editor-inserter__quick-inserter-patterns"},(0,react.createElement)(block_patterns_list,{shownPatterns:currentShownPatterns,blockPatterns:filteredBlockPatterns,onClickPattern:onSelectBlockPattern,onHover,isDraggable})));return(0,react.createElement)(inserter_listbox,null,!showBlockDirectory&&!hasItems&&(0,react.createElement)(no_results,null),prioritizePatterns?patternsUI:blocksUI,!!filteredBlockTypes.length&&!!filteredBlockPatterns.length&&(0,react.createElement)("div",{className:"block-editor-inserter__quick-inserter-separator"}),prioritizePatterns?blocksUI:patternsUI,showBlockDirectory&&(0,react.createElement)(inserter_menu_extension.Slot,{fillProps:{onSelect:onSelectBlockType,onHover,filterValue,hasItems,rootClientId:destinationRootClientId}},(fills=>fills.length?fills:hasItems?null:(0,react.createElement)(no_results,null))))};var tab_panel=__webpack_require__("./packages/components/build-module/tab-panel/index.js");const blocksTab={name:"blocks",title:(0,i18n_build_module.__)("Blocks")},patternsTab={name:"patterns",title:(0,i18n_build_module.__)("Patterns")},reusableBlocksTab={name:"reusable",title:(0,i18n_build_module.__)("Reusable"),icon:symbol.Z},mediaTab={name:"media",title:(0,i18n_build_module.__)("Media")};const tabs=function InserterTabs({children,showPatterns=!1,showReusableBlocks=!1,showMedia=!1,onSelect,prioritizePatterns}){const tabs=(0,react.useMemo)((()=>{const tempTabs=[];return prioritizePatterns&&showPatterns&&tempTabs.push(patternsTab),tempTabs.push(blocksTab),!prioritizePatterns&&showPatterns&&tempTabs.push(patternsTab),showMedia&&tempTabs.push(mediaTab),showReusableBlocks&&tempTabs.push(reusableBlocksTab),tempTabs}),[prioritizePatterns,showPatterns,showReusableBlocks,showMedia]);return(0,react.createElement)(tab_panel.Z,{className:"block-editor-inserter__tabs",tabs,onSelect},children)};const menu=(0,react.forwardRef)((function InserterMenu({rootClientId,clientId,isAppender,__experimentalInsertionIndex,onSelect,showInserterHelpPanel,showMostUsedBlocks,__experimentalFilterValue="",shouldFocusBlock=!0,prioritizePatterns},ref){const[filterValue,setFilterValue,delayedFilterValue]=useDebouncedInput(__experimentalFilterValue),[hoveredItem,setHoveredItem]=(0,react.useState)(null),[selectedPatternCategory,setSelectedPatternCategory]=(0,react.useState)(null),[selectedMediaCategory,setSelectedMediaCategory]=(0,react.useState)(null),[selectedTab,setSelectedTab]=(0,react.useState)(null),[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint]=use_insertion_point({rootClientId,clientId,isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock}),{showPatterns,inserterItems}=(0,use_select.Z)((select=>{const{__experimentalGetAllowedPatterns,getInserterItems}=select(store);return{showPatterns:!!__experimentalGetAllowedPatterns(destinationRootClientId).length,inserterItems:getInserterItems(destinationRootClientId)}}),[destinationRootClientId]),hasReusableBlocks=(0,react.useMemo)((()=>inserterItems.some((({category})=>"reusable"===category))),[inserterItems]),showMedia=!!useMediaCategories(destinationRootClientId).length,onInsert=(0,react.useCallback)(((blocks,meta,shouldForceFocusBlock)=>{onInsertBlocks(blocks,meta,shouldForceFocusBlock),onSelect()}),[onInsertBlocks,onSelect]),onInsertPattern=(0,react.useCallback)(((blocks,patternName)=>{onInsertBlocks(blocks,{patternName}),onSelect()}),[onInsertBlocks,onSelect]),onHover=(0,react.useCallback)((item=>{onToggleInsertionPoint(!!item),setHoveredItem(item)}),[onToggleInsertionPoint,setHoveredItem]),onHoverPattern=(0,react.useCallback)((item=>{onToggleInsertionPoint(!!item)}),[onToggleInsertionPoint]),onClickPatternCategory=(0,react.useCallback)((patternCategory=>{setSelectedPatternCategory(patternCategory)}),[setSelectedPatternCategory]),blocksTab=(0,react.useMemo)((()=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{className:"block-editor-inserter__block-list"},(0,react.createElement)(block_types_tab,{rootClientId:destinationRootClientId,onInsert,onHover,showMostUsedBlocks})),showInserterHelpPanel&&(0,react.createElement)("div",{className:"block-editor-inserter__tips"},(0,react.createElement)(visually_hidden_component.Z,{as:"h2"},(0,i18n_build_module.__)("A tip for using the block editor")),(0,react.createElement)(tips,null)))),[destinationRootClientId,onInsert,onHover,showMostUsedBlocks,showInserterHelpPanel]),patternsTab=(0,react.useMemo)((()=>(0,react.createElement)(block_patterns_tab,{rootClientId:destinationRootClientId,onInsert:onInsertPattern,onSelectCategory:onClickPatternCategory,selectedCategory:selectedPatternCategory})),[destinationRootClientId,onInsertPattern,onClickPatternCategory,selectedPatternCategory]),reusableBlocksTab=(0,react.useMemo)((()=>(0,react.createElement)(reusable_blocks_tab,{rootClientId:destinationRootClientId,onInsert,onHover})),[destinationRootClientId,onInsert,onHover]),mediaTab=(0,react.useMemo)((()=>(0,react.createElement)(media_tab,{rootClientId:destinationRootClientId,selectedCategory:selectedMediaCategory,onSelectCategory:setSelectedMediaCategory,onInsert})),[destinationRootClientId,onInsert,selectedMediaCategory,setSelectedMediaCategory]),getCurrentTab=(0,react.useCallback)((tab=>"blocks"===tab.name?blocksTab:"patterns"===tab.name?patternsTab:"reusable"===tab.name?reusableBlocksTab:"media"===tab.name?mediaTab:void 0),[blocksTab,patternsTab,reusableBlocksTab,mediaTab]),searchRef=(0,react.useRef)();(0,react.useImperativeHandle)(ref,(()=>({focusSearch:()=>{searchRef.current.focus()}})));const showPatternPanel="patterns"===selectedTab&&!delayedFilterValue&&selectedPatternCategory,showAsTabs=!delayedFilterValue&&(showPatterns||hasReusableBlocks||showMedia),showMediaPanel="media"===selectedTab&&!delayedFilterValue&&selectedMediaCategory;return(0,react.createElement)("div",{className:"block-editor-inserter__menu"},(0,react.createElement)("div",{className:classnames_default()("block-editor-inserter__main-area",{"show-as-tabs":showAsTabs})},(0,react.createElement)(search_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",onChange:value=>{hoveredItem&&setHoveredItem(null),setFilterValue(value)},value:filterValue,label:(0,i18n_build_module.__)("Search for blocks and patterns"),placeholder:(0,i18n_build_module.__)("Search"),ref:searchRef}),!!delayedFilterValue&&(0,react.createElement)("div",{className:"block-editor-inserter__no-tab-container"},(0,react.createElement)(search_results,{filterValue:delayedFilterValue,onSelect,onHover,rootClientId,clientId,isAppender,__experimentalInsertionIndex,showBlockDirectory:!0,shouldFocusBlock})),showAsTabs&&(0,react.createElement)(tabs,{showPatterns,showReusableBlocks:hasReusableBlocks,showMedia,prioritizePatterns,onSelect:setSelectedTab},getCurrentTab),!delayedFilterValue&&!showAsTabs&&(0,react.createElement)("div",{className:"block-editor-inserter__no-tab-container"},blocksTab)),showMediaPanel&&(0,react.createElement)(MediaCategoryDialog,{rootClientId:destinationRootClientId,onInsert,category:selectedMediaCategory}),showInserterHelpPanel&&hoveredItem&&(0,react.createElement)(preview_panel,{item:hoveredItem}),showPatternPanel&&(0,react.createElement)(BlockPatternsCategoryDialog,{rootClientId:destinationRootClientId,onInsert:onInsertPattern,onHover:onHoverPattern,category:selectedPatternCategory,showTitlesAsTooltip:!0}))}));function QuickInserter({onSelect,rootClientId,clientId,isAppender,prioritizePatterns,selectBlockOnInsert}){const[filterValue,setFilterValue]=(0,react.useState)(""),[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect,rootClientId,clientId,isAppender,selectBlockOnInsert}),[blockTypes]=use_block_types_state(destinationRootClientId,onInsertBlocks),[patterns]=use_patterns_state(onInsertBlocks,destinationRootClientId),{setInserterIsOpened,insertionIndex}=(0,use_select.Z)((select=>{const{getSettings,getBlockIndex,getBlockCount}=select(store),settings=getSettings(),index=getBlockIndex(clientId),blockCount=getBlockCount();return{setInserterIsOpened:settings.__experimentalSetIsInserterOpened,insertionIndex:-1===index?blockCount:index}}),[clientId]),showPatterns=patterns.length&&(!!filterValue||prioritizePatterns),showSearch=showPatterns&&patterns.length>6||blockTypes.length>6;(0,react.useEffect)((()=>{setInserterIsOpened&&setInserterIsOpened(!1)}),[setInserterIsOpened]);let maxBlockPatterns=0;return showPatterns&&(maxBlockPatterns=prioritizePatterns?4:2),(0,react.createElement)("div",{className:classnames_default()("block-editor-inserter__quick-inserter",{"has-search":showSearch,"has-expand":setInserterIsOpened})},showSearch&&(0,react.createElement)(search_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",value:filterValue,onChange:value=>{setFilterValue(value)},label:(0,i18n_build_module.__)("Search for blocks and patterns"),placeholder:(0,i18n_build_module.__)("Search")}),(0,react.createElement)("div",{className:"block-editor-inserter__quick-inserter-results"},(0,react.createElement)(search_results,{filterValue,onSelect,rootClientId,clientId,isAppender,maxBlockPatterns,maxBlockTypes:6,isDraggable:!1,prioritizePatterns,selectBlockOnInsert})),setInserterIsOpened&&(0,react.createElement)(build_module_button.ZP,{className:"block-editor-inserter__quick-inserter-expand",onClick:()=>{setInserterIsOpened({rootClientId,insertionIndex,filterValue})},"aria-label":(0,i18n_build_module.__)("Browse all. This will open the main inserter panel in the editor toolbar.")},(0,i18n_build_module.__)("Browse all")))}const defaultRenderToggle=({onToggle,disabled,isOpen,blockTitle,hasSingleBlockType,toggleProps={},prioritizePatterns})=>{const{as:Wrapper=build_module_button.ZP,label:labelProp,onClick,...rest}=toggleProps;let label=labelProp;return!label&&hasSingleBlockType?label=(0,i18n_build_module.gB)((0,i18n_build_module._x)("Add %s","directly add the only allowed block"),blockTitle):!label&&prioritizePatterns?label=(0,i18n_build_module.__)("Add pattern"):label||(label=(0,i18n_build_module._x)("Add block","Generic label for block inserter button")),(0,react.createElement)(Wrapper,(0,esm_extends.Z)({icon:plus.Z,label,tooltipPosition:"bottom",onClick:function handleClick(event){onToggle&&onToggle(event),onClick&&onClick(event)},className:"block-editor-inserter__toggle","aria-haspopup":!hasSingleBlockType&&"true","aria-expanded":!hasSingleBlockType&&isOpen,disabled},rest))};class PrivateInserter extends react.Component{constructor(){super(...arguments),this.onToggle=this.onToggle.bind(this),this.renderToggle=this.renderToggle.bind(this),this.renderContent=this.renderContent.bind(this)}onToggle(isOpen){const{onToggle}=this.props;onToggle&&onToggle(isOpen)}renderToggle({onToggle,isOpen}){const{disabled,blockTitle,hasSingleBlockType,directInsertBlock,toggleProps,hasItems,renderToggle=defaultRenderToggle,prioritizePatterns}=this.props;return renderToggle({onToggle,isOpen,disabled:disabled||!hasItems,blockTitle,hasSingleBlockType,directInsertBlock,toggleProps,prioritizePatterns})}renderContent({onClose}){const{rootClientId,clientId,isAppender,showInserterHelpPanel,__experimentalIsQuick:isQuick,prioritizePatterns,onSelectOrClose,selectBlockOnInsert}=this.props;return isQuick?(0,react.createElement)(QuickInserter,{onSelect:blocks=>{const firstBlock=Array.isArray(blocks)&&blocks?.length?blocks[0]:blocks;onSelectOrClose&&"function"==typeof onSelectOrClose&&onSelectOrClose(firstBlock),onClose()},rootClientId,clientId,isAppender,prioritizePatterns,selectBlockOnInsert}):(0,react.createElement)(menu,{onSelect:()=>{onClose()},rootClientId,clientId,isAppender,showInserterHelpPanel,prioritizePatterns})}render(){const{position,hasSingleBlockType,directInsertBlock,insertOnlyAllowedBlock,__experimentalIsQuick:isQuick,onSelectOrClose}=this.props;return hasSingleBlockType||directInsertBlock?this.renderToggle({onToggle:insertOnlyAllowedBlock}):(0,react.createElement)(dropdown.Z,{className:"block-editor-inserter",contentClassName:classnames_default()("block-editor-inserter__popover",{"is-quick":isQuick}),popoverProps:{position,shift:!0},onToggle:this.onToggle,expandOnMobile:!0,headerTitle:(0,i18n_build_module.__)("Add a block"),renderToggle:this.renderToggle,renderContent:this.renderContent,onClose:onSelectOrClose})}}PrivateInserter.displayName="PrivateInserter";const ComposedPrivateInserter=(0,compose.Z)([(0,with_select.Z)(((select,{clientId,rootClientId,shouldDirectInsert=!0})=>{const{getBlockRootClientId,hasInserterItems,getAllowedBlocks,__experimentalGetDirectInsertBlock,getSettings}=select(store),{getBlockVariations}=select(build_module.h),allowedBlocks=getAllowedBlocks(rootClientId=rootClientId||getBlockRootClientId(clientId)||void 0),directInsertBlock=shouldDirectInsert&&__experimentalGetDirectInsertBlock(rootClientId),settings=getSettings(),hasSingleBlockType=1===allowedBlocks?.length&&0===getBlockVariations(allowedBlocks[0].name,"inserter")?.length;let allowedBlockType=!1;return hasSingleBlockType&&(allowedBlockType=allowedBlocks[0]),{hasItems:hasInserterItems(rootClientId),hasSingleBlockType,blockTitle:allowedBlockType?allowedBlockType.title:"",allowedBlockType,directInsertBlock,rootClientId,prioritizePatterns:settings.__experimentalPreferPatternsOnRoot&&!rootClientId}})),(0,with_dispatch.Z)(((dispatch,ownProps,{select})=>({insertOnlyAllowedBlock(){const{rootClientId,clientId,isAppender,hasSingleBlockType,allowedBlockType,directInsertBlock,onSelectOrClose,selectBlockOnInsert}=ownProps;if(!hasSingleBlockType&&!directInsertBlock)return;const{insertBlock}=dispatch(store);let blockToInsert;if(directInsertBlock){const newAttributes=function getAdjacentBlockAttributes(attributesToCopy){const{getBlock,getPreviousBlockClientId}=select(store);if(!attributesToCopy||!clientId&&!rootClientId)return{};const result={};let adjacentAttributes={};if(clientId){const currentBlock=getBlock(clientId),previousBlock=getBlock(getPreviousBlockClientId(clientId));currentBlock?.name===previousBlock?.name&&(adjacentAttributes=previousBlock?.attributes||{})}else{const parentBlock=getBlock(rootClientId);if(parentBlock?.innerBlocks?.length){const lastInnerBlock=parentBlock.innerBlocks[parentBlock.innerBlocks.length-1];directInsertBlock&&directInsertBlock?.name===lastInnerBlock.name&&(adjacentAttributes=lastInnerBlock.attributes)}}return attributesToCopy.forEach((attribute=>{adjacentAttributes.hasOwnProperty(attribute)&&(result[attribute]=adjacentAttributes[attribute])})),result}(directInsertBlock.attributesToCopy);blockToInsert=(0,build_module.j4)(directInsertBlock.name,{...directInsertBlock.attributes||{},...newAttributes})}else blockToInsert=(0,build_module.j4)(allowedBlockType.name);insertBlock(blockToInsert,function getInsertionIndex(){const{getBlockIndex,getBlockSelectionEnd,getBlockOrder,getBlockRootClientId}=select(store);if(clientId)return getBlockIndex(clientId);const end=getBlockSelectionEnd();return!isAppender&&end&&getBlockRootClientId(end)===rootClientId?getBlockIndex(end)+1:getBlockOrder(rootClientId).length}(),rootClientId,selectBlockOnInsert),onSelectOrClose&&onSelectOrClose({clientId:blockToInsert?.clientId});const message=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%s block added"),allowedBlockType.title);(0,a11y_build_module.D)(message)}}))),(0,if_condition.Z)((({hasItems,isAppender,rootClientId,clientId})=>hasItems||!isAppender&&!rootClientId&&!clientId))])(PrivateInserter),inserter=(0,react.forwardRef)(((props,ref)=>(0,react.createElement)(ComposedPrivateInserter,(0,esm_extends.Z)({ref},props))));PrivateInserter.__docgenInfo={description:"",methods:[{name:"onToggle",docblock:null,modifiers:[],params:[{name:"isOpen",type:null}],returns:null},{name:"renderToggle",docblock:"Render callback to display Dropdown toggle element.\n\n@param {Object}   options\n@param {Function} options.onToggle Callback to invoke when toggle is\n                                   pressed.\n@param {boolean}  options.isOpen   Whether dropdown is currently open.\n\n@return {WPElement} Dropdown toggle element.",modifiers:[],params:[{name:"{\n  onToggle,\n  isOpen\n}"}],returns:{description:"Dropdown toggle element.",type:{name:"WPElement"}},description:"Render callback to display Dropdown toggle element."},{name:"renderContent",docblock:"Render callback to display Dropdown content element.\n\n@param {Object}   options\n@param {Function} options.onClose Callback to invoke when dropdown is\n                                  closed.\n\n@return {WPElement} Dropdown content element.",modifiers:[],params:[{name:"{\n  onClose\n}"}],returns:{description:"Dropdown content element.",type:{name:"WPElement"}},description:"Render callback to display Dropdown content element."}],displayName:"PrivateInserter"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/build-module/components/inserter/index.js"]={name:"PrivateInserter",docgenInfo:PrivateInserter.__docgenInfo,path:"packages/block-editor/build-module/components/inserter/index.js"});const default_block_appender=(0,compose.Z)((0,with_select.Z)(((select,ownProps)=>{const{getBlockCount,getSettings,getTemplateLock}=select(store),isEmpty=!getBlockCount(ownProps.rootClientId),{bodyPlaceholder}=getSettings();return{showPrompt:isEmpty,isLocked:!!getTemplateLock(ownProps.rootClientId),placeholder:bodyPlaceholder}})),(0,with_dispatch.Z)(((dispatch,ownProps)=>{const{insertDefaultBlock,startTyping}=dispatch(store);return{onAppend(){const{rootClientId}=ownProps;insertDefaultBlock(void 0,rootClientId),startTyping()}}})))((function DefaultBlockAppender({isLocked,onAppend,showPrompt,placeholder,rootClientId}){if(isLocked)return null;const value=(0,html_entities_build_module.S)(placeholder)||(0,i18n_build_module.__)("Type / to choose a block");return(0,react.createElement)("div",{"data-root-client-id":rootClientId||"",className:classnames_default()("block-editor-default-block-appender",{"has-visible-prompt":showPrompt})},(0,react.createElement)("p",{tabIndex:"0",role:"button","aria-label":(0,i18n_build_module.__)("Add default block"),className:"block-editor-default-block-appender__content",onKeyDown:event=>{keycodes_build_module.K5!==event.keyCode&&keycodes_build_module.L_!==event.keyCode||onAppend()},onClick:()=>onAppend(),onFocus:()=>{showPrompt&&onAppend()}},showPrompt?value:"\ufeff"),(0,react.createElement)(inserter,{rootClientId,position:"bottom right",isAppender:!0,__experimentalIsQuick:!0}))}));function ButtonBlockAppender({rootClientId,className,onFocus,tabIndex},ref){return(0,react.createElement)(inserter,{position:"bottom center",rootClientId,__experimentalIsQuick:!0,renderToggle:({onToggle,disabled,isOpen,blockTitle,hasSingleBlockType})=>{let label;label=hasSingleBlockType?(0,i18n_build_module.gB)((0,i18n_build_module._x)("Add %s","directly add the only allowed block"),blockTitle):(0,i18n_build_module._x)("Add block","Generic label for block inserter button");const isToggleButton=!hasSingleBlockType;let inserterButton=(0,react.createElement)(build_module_button.ZP,{ref,onFocus,tabIndex,className:classnames_default()(className,"block-editor-button-block-appender"),onClick:onToggle,"aria-haspopup":isToggleButton?"true":void 0,"aria-expanded":isToggleButton?isOpen:void 0,disabled,label},!hasSingleBlockType&&(0,react.createElement)(visually_hidden_component.Z,{as:"span"},label),(0,react.createElement)(build_module_icon.Z,{icon:plus.Z}));return(isToggleButton||hasSingleBlockType)&&(inserterButton=(0,react.createElement)(tooltip.Z,{text:label},inserterButton)),inserterButton},isAppender:!0})}(0,react.forwardRef)(((props,ref)=>((0,deprecated_build_module.Z)("wp.blockEditor.ButtonBlockerAppender",{alternative:"wp.blockEditor.ButtonBlockAppender",since:"5.9"}),ButtonBlockAppender(props,ref))));const button_block_appender=(0,react.forwardRef)(ButtonBlockAppender);function DefaultAppender({rootClientId}){return(0,use_select.Z)((select=>select(store).canInsertBlockType((0,build_module.UT)(),rootClientId)))?(0,react.createElement)(default_block_appender,{rootClientId}):(0,react.createElement)(button_block_appender,{rootClientId,className:"block-list-appender__toggle"})}const block_list_appender=function BlockListAppender({rootClientId,renderAppender,className,tagName:TagName="div"}){const appender=function useAppender(rootClientId,CustomAppender){const{hideInserter,isParentSelected}=(0,use_select.Z)((select=>{const{getTemplateLock,getSelectedBlockClientId,__unstableGetEditorMode,getBlockEditingMode}=unlock(select(store)),selectedBlockClientId=getSelectedBlockClientId();return{hideInserter:!!getTemplateLock(rootClientId)||"disabled"===getBlockEditingMode(rootClientId)||"zoom-out"===__unstableGetEditorMode(),isParentSelected:rootClientId===selectedBlockClientId||!rootClientId&&!selectedBlockClientId}}),[rootClientId]);return hideInserter||!1===CustomAppender?null:CustomAppender?(0,react.createElement)(CustomAppender,null):isParentSelected?(0,react.createElement)(DefaultAppender,{rootClientId}):null}(rootClientId,renderAppender),isDragOver=(0,use_select.Z)((select=>{const{getBlockInsertionPoint,isBlockInsertionPointVisible,getBlockCount}=select(store),insertionPoint=getBlockInsertionPoint();return isBlockInsertionPointVisible()&&rootClientId===insertionPoint?.rootClientId&&0===getBlockCount(rootClientId)}),[rootClientId]);return appender?(0,react.createElement)(TagName,{tabIndex:-1,className:classnames_default()("block-list-appender wp-block",className,{"is-drag-over":isDragOver}),contentEditable:!1,"data-block":!0},appender):null};var motion=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs"),popover=__webpack_require__("./packages/components/build-module/popover/index.js");const use_popover_scroll=function usePopoverScroll(scrollableRef){return(0,use_ref_effect.Z)((node=>{if(!scrollableRef)return;function onWheel(event){const{deltaX,deltaY}=event;scrollableRef.current.scrollBy(deltaX,deltaY)}const options={passive:!0};return node.addEventListener("wheel",onWheel,options),()=>{node.removeEventListener("wheel",onWheel,options)}}),[scrollableRef])},MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;(0,react.createContext)();const inbetween=function BlockPopoverInbetween({previousClientId,nextClientId,children,__unstablePopoverSlot,__unstableContentRef,...props}){const[popoverRecomputeCounter,forcePopoverRecompute]=(0,react.useReducer)((s=>(s+1)%MAX_POPOVER_RECOMPUTE_COUNTER),0),{orientation,rootClientId,isVisible}=(0,use_select.Z)((select=>{const{getBlockListSettings,getBlockRootClientId,isBlockVisible}=select(store),_rootClientId=getBlockRootClientId(null!=previousClientId?previousClientId:nextClientId);return{orientation:getBlockListSettings(_rootClientId)?.orientation||"vertical",rootClientId:_rootClientId,isVisible:isBlockVisible(previousClientId)&&isBlockVisible(nextClientId)}}),[previousClientId,nextClientId]),previousElement=useBlockElement(previousClientId),nextElement=useBlockElement(nextClientId),isVertical="vertical"===orientation,popoverAnchor=(0,react.useMemo)((()=>{if(popoverRecomputeCounter<0||!previousElement&&!nextElement||!isVisible)return;const{ownerDocument}=previousElement||nextElement;return{ownerDocument,getBoundingClientRect(){const previousRect=previousElement?previousElement.getBoundingClientRect():null,nextRect=nextElement?nextElement.getBoundingClientRect():null;let left=0,top=0,width=0,height=0;return isVertical?(top=previousRect?previousRect.bottom:nextRect.top,width=previousRect?previousRect.width:nextRect.width,height=nextRect&&previousRect?nextRect.top-previousRect.bottom:0,left=previousRect?previousRect.left:nextRect.left):(top=previousRect?previousRect.top:nextRect.top,height=previousRect?previousRect.height:nextRect.height,(0,i18n_build_module.dZ)()?(left=nextRect?nextRect.right:previousRect.left,width=previousRect&&nextRect?previousRect.left-nextRect.right:0):(left=previousRect?previousRect.right:nextRect.left,width=previousRect&&nextRect?nextRect.left-previousRect.right:0)),new window.DOMRect(left,top,width,height)}}}),[previousElement,nextElement,popoverRecomputeCounter,isVertical,isVisible]),popoverScrollRef=use_popover_scroll(__unstableContentRef);return(0,react.useLayoutEffect)((()=>{if(!previousElement)return;const observer=new window.MutationObserver(forcePopoverRecompute);return observer.observe(previousElement,{attributes:!0}),()=>{observer.disconnect()}}),[previousElement]),(0,react.useLayoutEffect)((()=>{if(!nextElement)return;const observer=new window.MutationObserver(forcePopoverRecompute);return observer.observe(nextElement,{attributes:!0}),()=>{observer.disconnect()}}),[nextElement]),(0,react.useLayoutEffect)((()=>{if(previousElement)return previousElement.ownerDocument.defaultView.addEventListener("resize",forcePopoverRecompute),()=>{previousElement.ownerDocument.defaultView?.removeEventListener("resize",forcePopoverRecompute)}}),[previousElement]),(previousElement||nextElement)&&isVisible?(0,react.createElement)(popover.ZP,(0,esm_extends.Z)({ref:popoverScrollRef,animate:!1,anchor:popoverAnchor,focusOnMount:!1,__unstableSlotName:__unstablePopoverSlot||null,key:nextClientId+"--"+rootClientId},props,{className:classnames_default()("block-editor-block-popover","block-editor-block-popover__inbetween",props.className),resize:!1,flip:!1,placement:"overlay",variant:"unstyled"}),(0,react.createElement)("div",{className:"block-editor-block-popover__inbetween-container"},children)):null},block_popover_MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;const block_popover=(0,react.forwardRef)((function BlockPopover({clientId,bottomClientId,children,__unstableRefreshSize,__unstableCoverTarget=!1,__unstablePopoverSlot,__unstableContentRef,shift=!0,...props},ref){const selectedElement=useBlockElement(clientId),lastSelectedElement=useBlockElement(null!=bottomClientId?bottomClientId:clientId),mergedRefs=(0,use_merge_refs.Z)([ref,use_popover_scroll(__unstableContentRef)]),[popoverDimensionsRecomputeCounter,forceRecomputePopoverDimensions]=(0,react.useReducer)((s=>(s+1)%block_popover_MAX_POPOVER_RECOMPUTE_COUNTER),0);(0,react.useLayoutEffect)((()=>{if(!selectedElement)return;const observer=new window.MutationObserver(forceRecomputePopoverDimensions);return observer.observe(selectedElement,{attributes:!0}),()=>{observer.disconnect()}}),[selectedElement]);const style=(0,react.useMemo)((()=>popoverDimensionsRecomputeCounter<0||!selectedElement||lastSelectedElement!==selectedElement?{}:{position:"absolute",width:selectedElement.offsetWidth,height:selectedElement.offsetHeight}),[selectedElement,lastSelectedElement,__unstableRefreshSize,popoverDimensionsRecomputeCounter]),popoverAnchor=(0,react.useMemo)((()=>{if(!(popoverDimensionsRecomputeCounter<0||!selectedElement||bottomClientId&&!lastSelectedElement))return{getBoundingClientRect(){var _lastSelectedBCR$left,_lastSelectedBCR$top,_lastSelectedBCR$righ,_lastSelectedBCR$bott;const selectedBCR=selectedElement.getBoundingClientRect(),lastSelectedBCR=lastSelectedElement?.getBoundingClientRect(),left=Math.min(selectedBCR.left,null!==(_lastSelectedBCR$left=lastSelectedBCR?.left)&&void 0!==_lastSelectedBCR$left?_lastSelectedBCR$left:1/0),top=Math.min(selectedBCR.top,null!==(_lastSelectedBCR$top=lastSelectedBCR?.top)&&void 0!==_lastSelectedBCR$top?_lastSelectedBCR$top:1/0),width=Math.max(selectedBCR.right,null!==(_lastSelectedBCR$righ=lastSelectedBCR.right)&&void 0!==_lastSelectedBCR$righ?_lastSelectedBCR$righ:-1/0)-left,height=Math.max(selectedBCR.bottom,null!==(_lastSelectedBCR$bott=lastSelectedBCR.bottom)&&void 0!==_lastSelectedBCR$bott?_lastSelectedBCR$bott:-1/0)-top;return new window.DOMRect(left,top,width,height)},ownerDocument:selectedElement.ownerDocument}}),[bottomClientId,lastSelectedElement,selectedElement,popoverDimensionsRecomputeCounter]);return!selectedElement||bottomClientId&&!lastSelectedElement?null:(0,react.createElement)(popover.ZP,(0,esm_extends.Z)({ref:mergedRefs,animate:!1,focusOnMount:!1,anchor:popoverAnchor,__unstableSlotName:__unstablePopoverSlot||null,placement:"top-start",resize:!1,flip:!1,shift},props,{className:classnames_default()("block-editor-block-popover",props.className),variant:"unstyled"}),__unstableCoverTarget&&(0,react.createElement)("div",{style},children),!__unstableCoverTarget&&children)})),animateVariants={hide:{opacity:0,scaleY:.75},show:{opacity:1,scaleY:1},exit:{opacity:0,scaleY:.9}};const drop_zone=function BlockDropZonePopover({__unstablePopoverSlot,__unstableContentRef}){const{clientId}=(0,use_select.Z)((select=>{const{getBlockOrder,getBlockInsertionPoint}=select(store),insertionPoint=getBlockInsertionPoint(),order=getBlockOrder(insertionPoint.rootClientId);return order.length?{clientId:order[insertionPoint.index]}:{}}),[]),reducedMotion=(0,use_reduced_motion.Z)();return(0,react.createElement)(block_popover,{clientId,__unstableCoverTarget:!0,__unstablePopoverSlot,__unstableContentRef,className:"block-editor-block-popover__drop-zone"},(0,react.createElement)(motion.E.div,{"data-testid":"block-popover-drop-zone",initial:reducedMotion?animateVariants.show:animateVariants.hide,animate:animateVariants.show,exit:reducedMotion?animateVariants.show:animateVariants.exit,className:"block-editor-block-popover__drop-zone-foreground"}))},insertion_point_InsertionPointOpenRef=(0,react.createContext)();function InbetweenInsertionPointPopover({__unstablePopoverSlot,__unstableContentRef}){const{selectBlock,hideInsertionPoint}=(0,use_dispatch.Z)(store),openRef=(0,react.useContext)(insertion_point_InsertionPointOpenRef),ref=(0,react.useRef)(),{orientation,previousClientId,nextClientId,rootClientId,isInserterShown,isDistractionFree,isNavigationMode}=(0,use_select.Z)((select=>{const{getBlockOrder,getBlockListSettings,getBlockInsertionPoint,isBlockBeingDragged,getPreviousBlockClientId,getNextBlockClientId,getSettings,isNavigationMode:_isNavigationMode}=select(store),insertionPoint=getBlockInsertionPoint(),order=getBlockOrder(insertionPoint.rootClientId);if(!order.length)return{};let _previousClientId=order[insertionPoint.index-1],_nextClientId=order[insertionPoint.index];for(;isBlockBeingDragged(_previousClientId);)_previousClientId=getPreviousBlockClientId(_previousClientId);for(;isBlockBeingDragged(_nextClientId);)_nextClientId=getNextBlockClientId(_nextClientId);const settings=getSettings();return{previousClientId:_previousClientId,nextClientId:_nextClientId,orientation:getBlockListSettings(insertionPoint.rootClientId)?.orientation||"vertical",rootClientId:insertionPoint.rootClientId,isNavigationMode:_isNavigationMode(),isDistractionFree:settings.isDistractionFree,isInserterShown:insertionPoint?.__unstableWithInserter}}),[]),disableMotion=(0,use_reduced_motion.Z)();const lineVariants={start:{opacity:0,scale:0},rest:{opacity:1,scale:1,transition:{delay:isInserterShown?.5:0,type:"tween"}},hover:{opacity:1,scale:1,transition:{delay:.5,type:"tween"}}},inserterVariants={start:{scale:disableMotion?1:0},rest:{scale:1,transition:{delay:.4,type:"tween"}}};if(isDistractionFree&&!isNavigationMode)return null;const className=classnames_default()("block-editor-block-list__insertion-point","is-"+orientation);return(0,react.createElement)(inbetween,{previousClientId,nextClientId,__unstablePopoverSlot,__unstableContentRef},(0,react.createElement)(motion.E.div,{layout:!disableMotion,initial:disableMotion?"rest":"start",animate:"rest",whileHover:"hover",whileTap:"pressed",exit:"start",ref,tabIndex:-1,onClick:function onClick(event){event.target===ref.current&&nextClientId&&selectBlock(nextClientId,-1)},onFocus:function onFocus(event){event.target!==ref.current&&(openRef.current=!0)},className:classnames_default()(className,{"is-with-inserter":isInserterShown}),onHoverEnd:function maybeHideInserterPoint(event){event.target!==ref.current||openRef.current||hideInsertionPoint()}},(0,react.createElement)(motion.E.div,{variants:lineVariants,className:"block-editor-block-list__insertion-point-indicator","data-testid":"block-list-insertion-point-indicator"}),isInserterShown&&(0,react.createElement)(motion.E.div,{variants:inserterVariants,className:classnames_default()("block-editor-block-list__insertion-point-inserter")},(0,react.createElement)(inserter,{position:"bottom center",clientId:nextClientId,rootClientId,__experimentalIsQuick:!0,onToggle:isOpen=>{openRef.current=isOpen},onSelectOrClose:()=>{openRef.current=!1}}))))}function InsertionPoint(props){const{insertionPoint,isVisible,isBlockListEmpty}=(0,use_select.Z)((select=>{const{getBlockInsertionPoint,isBlockInsertionPointVisible,getBlockCount}=select(store),blockInsertionPoint=getBlockInsertionPoint();return{insertionPoint:blockInsertionPoint,isVisible:isBlockInsertionPointVisible(),isBlockListEmpty:0===getBlockCount(blockInsertionPoint?.rootClientId)}}),[]);return!isVisible||isBlockListEmpty?null:"replace"===insertionPoint.operation?(0,react.createElement)(drop_zone,(0,esm_extends.Z)({key:`${insertionPoint.rootClientId}-${insertionPoint.index}`},props)):(0,react.createElement)(InbetweenInsertionPointPopover,props)}function useInBetweenInserter(){const openRef=(0,react.useContext)(insertion_point_InsertionPointOpenRef),isInBetweenInserterDisabled=(0,use_select.Z)((select=>select(store).getSettings().isDistractionFree||"zoom-out"===select(store).__unstableGetEditorMode()),[]),{getBlockListSettings,getBlockRootClientId,getBlockIndex,isBlockInsertionPointVisible,isMultiSelecting,getSelectedBlockClientIds,getTemplateLock,__unstableIsWithinBlockOverlay,getBlockEditingMode}=unlock((0,use_select.Z)(store)),{showInsertionPoint,hideInsertionPoint}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{if(!isInBetweenInserterDisabled)return node.addEventListener("mousemove",onMouseMove),()=>{node.removeEventListener("mousemove",onMouseMove)};function onMouseMove(event){if(openRef.current)return;if(event.target.nodeType===event.target.TEXT_NODE)return;if(isMultiSelecting())return;if(!event.target.classList.contains("block-editor-block-list__layout"))return void hideInsertionPoint();let rootClientId;if(!event.target.classList.contains("is-root-container")){rootClientId=(event.target.getAttribute("data-block")?event.target:event.target.closest("[data-block]")).getAttribute("data-block")}if(getTemplateLock(rootClientId)||"disabled"===getBlockEditingMode(rootClientId))return;const orientation=getBlockListSettings(rootClientId)?.orientation||"vertical",offsetTop=event.clientY,offsetLeft=event.clientX;let element=Array.from(event.target.children).find((blockEl=>{const blockElRect=blockEl.getBoundingClientRect();return blockEl.classList.contains("wp-block")&&"vertical"===orientation&&blockElRect.top>offsetTop||blockEl.classList.contains("wp-block")&&"horizontal"===orientation&&((0,i18n_build_module.dZ)()?blockElRect.right<offsetLeft:blockElRect.left>offsetLeft)}));if(!element)return void hideInsertionPoint();if(!element.id&&(element=element.firstElementChild,!element))return void hideInsertionPoint();const clientId=element.id.slice(6);if(!clientId||__unstableIsWithinBlockOverlay(clientId))return;if(getSelectedBlockClientIds().includes(clientId))return;const elementRect=element.getBoundingClientRect();if("horizontal"===orientation&&(event.clientY>elementRect.bottom||event.clientY<elementRect.top)||"vertical"===orientation&&(event.clientX>elementRect.right||event.clientX<elementRect.left))return void hideInsertionPoint();const index=getBlockIndex(clientId);0!==index?showInsertionPoint(rootClientId,index,{__unstableWithInserter:!0}):hideInsertionPoint()}}),[openRef,getBlockListSettings,getBlockRootClientId,getBlockIndex,isBlockInsertionPointVisible,isMultiSelecting,showInsertionPoint,hideInsertionPoint,getSelectedBlockClientIds,isInBetweenInserterDisabled])}const requestIdleCallback="undefined"==typeof window?callback=>{setTimeout((()=>callback(Date.now())),0)}:window.requestIdleCallback||window.requestAnimationFrame,cancelIdleCallback="undefined"==typeof window?clearTimeout:window.cancelIdleCallback||window.cancelAnimationFrame;function useBlockDisplayInformation(clientId){return(0,use_select.Z)((select=>{if(!clientId)return null;const{getBlockName,getBlockAttributes}=select(store),{getBlockType,getActiveBlockVariation}=select(build_module.h),blockName=getBlockName(clientId),blockType=getBlockType(blockName);if(!blockType)return null;const attributes=getBlockAttributes(clientId),match=getActiveBlockVariation(blockName,attributes),isSynced=(0,build_module.vr)(blockType)||(0,build_module.zQ)(blockType),blockTypeInfo={isSynced,title:blockType.title,icon:blockType.icon,description:blockType.description,anchor:attributes?.anchor};return match?{isSynced,title:match.title||blockType.title,icon:match.icon||blockType.icon,description:match.description||blockType.description,anchor:attributes?.anchor}:blockTypeInfo}),[clientId])}function useBlockDisplayTitle({clientId,maximumLength,context}){const{attributes,name,reusableBlockTitle}=(0,use_select.Z)((select=>{if(!clientId)return{};const{getBlockName,getBlockAttributes,__experimentalGetReusableBlockTitle}=select(store),blockName=getBlockName(clientId);if(!blockName)return{};const isReusable=(0,build_module.vr)((0,build_module.ck)(blockName));return{attributes:getBlockAttributes(clientId),name:blockName,reusableBlockTitle:isReusable&&__experimentalGetReusableBlockTitle(getBlockAttributes(clientId).ref)}}),[clientId]),blockInformation=useBlockDisplayInformation(clientId);if(!name||!blockInformation)return null;const blockType=(0,build_module.ck)(name),blockLabel=blockType?(0,build_module.Iu)(blockType,attributes,context):null,label=reusableBlockTitle||blockLabel,blockTitle=label&&label!==blockType.title?label:blockInformation.title;if(maximumLength&&maximumLength>0&&blockTitle.length>maximumLength){const omission="...";return blockTitle.slice(0,maximumLength-omission.length)+omission}return blockTitle}function BlockTitle({clientId,maximumLength,context}){return useBlockDisplayTitle({clientId,maximumLength,context})}const block_draggable=({children,clientIds,cloneClassname,onDragStart,onDragEnd})=>{const{srcRootClientId,isDraggable,icon}=(0,use_select.Z)((select=>{const{canMoveBlocks,getBlockRootClientId,getBlockName}=select(store),{getBlockType}=select(build_module.h),rootClientId=getBlockRootClientId(clientIds[0]),blockName=getBlockName(clientIds[0]);return{srcRootClientId:rootClientId,isDraggable:canMoveBlocks(clientIds,rootClientId),icon:getBlockType(blockName)?.icon}}),[clientIds]),isDragging=(0,react.useRef)(!1),[startScrolling,scrollOnDragOver,stopScrolling]=function useScrollWhenDragging(){const dragStartY=(0,react.useRef)(null),velocityY=(0,react.useRef)(null),scrollParentY=(0,react.useRef)(null),scrollEditorInterval=(0,react.useRef)(null);return(0,react.useEffect)((()=>()=>{scrollEditorInterval.current&&(clearInterval(scrollEditorInterval.current),scrollEditorInterval.current=null)}),[]),[(0,react.useCallback)((event=>{dragStartY.current=event.clientY,scrollParentY.current=(0,get_scroll_container.Z)(event.target),scrollEditorInterval.current=setInterval((()=>{if(scrollParentY.current&&velocityY.current){const newTop=scrollParentY.current.scrollTop+velocityY.current;scrollParentY.current.scroll({top:newTop})}}),25)}),[]),(0,react.useCallback)((event=>{if(!scrollParentY.current)return;const scrollParentHeight=scrollParentY.current.offsetHeight,offsetDragStartPosition=dragStartY.current-scrollParentY.current.offsetTop,offsetDragPosition=event.clientY-scrollParentY.current.offsetTop;if(event.clientY>offsetDragStartPosition){const moveableDistance=Math.max(scrollParentHeight-offsetDragStartPosition-50,0),dragDistance=Math.max(offsetDragPosition-offsetDragStartPosition-50,0),distancePercentage=0===moveableDistance||0===dragDistance?0:dragDistance/moveableDistance;velocityY.current=25*distancePercentage}else if(event.clientY<offsetDragStartPosition){const moveableDistance=Math.max(offsetDragStartPosition-50,0),dragDistance=Math.max(offsetDragStartPosition-offsetDragPosition-50,0),distancePercentage=0===moveableDistance||0===dragDistance?0:dragDistance/moveableDistance;velocityY.current=-25*distancePercentage}else velocityY.current=0}),[]),()=>{dragStartY.current=null,scrollParentY.current=null,scrollEditorInterval.current&&(clearInterval(scrollEditorInterval.current),scrollEditorInterval.current=null)}]}(),{startDraggingBlocks,stopDraggingBlocks}=(0,use_dispatch.Z)(store);if((0,react.useEffect)((()=>()=>{isDragging.current&&stopDraggingBlocks()}),[]),!isDraggable)return children({draggable:!1});const transferData={type:"block",srcClientIds:clientIds,srcRootClientId};return(0,react.createElement)(draggable.Z,{cloneClassname,__experimentalTransferDataType:"wp-blocks",transferData,onDragStart:event=>{window.requestAnimationFrame((()=>{startDraggingBlocks(clientIds),isDragging.current=!0,startScrolling(event),onDragStart&&onDragStart()}))},onDragOver:scrollOnDragOver,onDragEnd:()=>{stopDraggingBlocks(),isDragging.current=!1,stopScrolling(),onDragEnd&&onDragEnd()},__experimentalDragComponent:(0,react.createElement)(BlockDraggableChip,{count:clientIds.length,icon})},(({onDraggableStart,onDraggableEnd})=>children({draggable:!0,onDragStart:onDraggableStart,onDragEnd:onDraggableEnd})))};var toolbar_item=__webpack_require__("./packages/components/build-module/toolbar/toolbar-item/index.js"),chevron_up=__webpack_require__("./packages/icons/build-module/library/chevron-up.js"),chevron_down=__webpack_require__("./packages/icons/build-module/library/chevron-down.js");const getMovementDirection=(moveDirection,orientation)=>"up"===moveDirection?"horizontal"===orientation?(0,i18n_build_module.dZ)()?"right":"left":"up":"down"===moveDirection?"horizontal"===orientation?(0,i18n_build_module.dZ)()?"left":"right":"down":null;function getBlockMoverDescription(selectedCount,type,firstIndex,isFirst,isLast,dir,orientation){const position=firstIndex+1;if(selectedCount>1)return function getMultiBlockMoverDescription(selectedCount,firstIndex,isFirst,isLast,dir,orientation){const position=firstIndex+1;if(isFirst&&isLast)return(0,i18n_build_module.__)("All blocks are selected, and cannot be moved");if(dir>0&&!isLast){const movementDirection=getMovementDirection("down",orientation);if("down"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d down by one place"),selectedCount,position);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d left by one place"),selectedCount,position);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d right by one place"),selectedCount,position)}if(dir>0&&isLast){const movementDirection=getMovementDirection("down",orientation);if("down"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved down as they are already at the bottom");if("left"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved left as they are already are at the leftmost position");if("right"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved right as they are already are at the rightmost position")}if(dir<0&&!isFirst){const movementDirection=getMovementDirection("up",orientation);if("up"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d up by one place"),selectedCount,position);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d left by one place"),selectedCount,position);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d right by one place"),selectedCount,position)}if(dir<0&&isFirst){const movementDirection=getMovementDirection("up",orientation);if("up"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved up as they are already at the top");if("left"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved left as they are already are at the leftmost position");if("right"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved right as they are already are at the rightmost position")}}(selectedCount,firstIndex,isFirst,isLast,dir,orientation);if(isFirst&&isLast)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %s is the only block, and cannot be moved"),type);if(dir>0&&!isLast){const movementDirection=getMovementDirection("down",orientation);if("down"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d down to position %3$d"),type,position,position+1);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d left to position %3$d"),type,position,position+1);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d right to position %3$d"),type,position,position+1)}if(dir>0&&isLast){const movementDirection=getMovementDirection("down",orientation);if("down"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the end of the content and can’t be moved down"),type);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the end of the content and can’t be moved left"),type);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the end of the content and can’t be moved right"),type)}if(dir<0&&!isFirst){const movementDirection=getMovementDirection("up",orientation);if("up"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d up to position %3$d"),type,position,position-1);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d left to position %3$d"),type,position,position-1);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d right to position %3$d"),type,position,position-1)}if(dir<0&&isFirst){const movementDirection=getMovementDirection("up",orientation);if("up"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the beginning of the content and can’t be moved up"),type);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the beginning of the content and can’t be moved left"),type);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the beginning of the content and can’t be moved right"),type)}}const getArrowIcon=(direction,orientation)=>"up"===direction?"horizontal"===orientation?(0,i18n_build_module.dZ)()?chevron_right.Z:chevron_left.Z:chevron_up.Z:"down"===direction?"horizontal"===orientation?(0,i18n_build_module.dZ)()?chevron_left.Z:chevron_right.Z:chevron_down.Z:null,getMovementDirectionLabel=(moveDirection,orientation)=>"up"===moveDirection?"horizontal"===orientation?(0,i18n_build_module.dZ)()?(0,i18n_build_module.__)("Move right"):(0,i18n_build_module.__)("Move left"):(0,i18n_build_module.__)("Move up"):"down"===moveDirection?"horizontal"===orientation?(0,i18n_build_module.dZ)()?(0,i18n_build_module.__)("Move left"):(0,i18n_build_module.__)("Move right"):(0,i18n_build_module.__)("Move down"):null,BlockMoverButton=(0,react.forwardRef)((({clientIds,direction,orientation:moverOrientation,...props},ref)=>{const instanceId=(0,use_instance_id.Z)(BlockMoverButton),normalizedClientIds=Array.isArray(clientIds)?clientIds:[clientIds],blocksCount=normalizedClientIds.length,{blockType,isDisabled,rootClientId,isFirst,isLast,firstIndex,orientation="vertical"}=(0,use_select.Z)((select=>{const{getBlockIndex,getBlockRootClientId,getBlockOrder,getBlock,getBlockListSettings}=select(store),firstClientId=normalizedClientIds[0],blockRootClientId=getBlockRootClientId(firstClientId),firstBlockIndex=getBlockIndex(firstClientId),lastBlockIndex=getBlockIndex(normalizedClientIds[normalizedClientIds.length-1]),blockOrder=getBlockOrder(blockRootClientId),block=getBlock(firstClientId),isFirstBlock=0===firstBlockIndex,isLastBlock=lastBlockIndex===blockOrder.length-1,{orientation:blockListOrientation}=getBlockListSettings(blockRootClientId)||{};return{blockType:block?(0,build_module.ck)(block.name):null,isDisabled:"up"===direction?isFirstBlock:isLastBlock,rootClientId:blockRootClientId,firstIndex:firstBlockIndex,isFirst:isFirstBlock,isLast:isLastBlock,orientation:moverOrientation||blockListOrientation}}),[clientIds,direction]),{moveBlocksDown,moveBlocksUp}=(0,use_dispatch.Z)(store),moverFunction="up"===direction?moveBlocksUp:moveBlocksDown,descriptionId=`block-editor-block-mover-button__description-${instanceId}`;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({ref,className:classnames_default()("block-editor-block-mover-button",`is-${direction}-button`),icon:getArrowIcon(direction,orientation),label:getMovementDirectionLabel(direction,orientation),"aria-describedby":descriptionId},props,{onClick:isDisabled?null:event=>{moverFunction(clientIds,rootClientId),props.onClick&&props.onClick(event)},disabled:isDisabled,__experimentalIsFocusable:!0})),(0,react.createElement)(visually_hidden_component.Z,{id:descriptionId},getBlockMoverDescription(blocksCount,blockType&&blockType.title,firstIndex,isFirst,isLast,"up"===direction?-1:1,orientation)))})),BlockMoverUpButton=(0,react.forwardRef)(((props,ref)=>(0,react.createElement)(BlockMoverButton,(0,esm_extends.Z)({direction:"up",ref},props)))),BlockMoverDownButton=(0,react.forwardRef)(((props,ref)=>(0,react.createElement)(BlockMoverButton,(0,esm_extends.Z)({direction:"down",ref},props))));const block_mover=function BlockMover({clientIds,hideDragHandle}){const{canMove,rootClientId,isFirst,isLast,orientation}=(0,use_select.Z)((select=>{const{getBlockIndex,getBlockListSettings,canMoveBlocks,getBlockOrder,getBlockRootClientId}=select(store),normalizedClientIds=Array.isArray(clientIds)?clientIds:[clientIds],firstClientId=normalizedClientIds[0],_rootClientId=getBlockRootClientId(firstClientId),firstIndex=getBlockIndex(firstClientId),lastIndex=getBlockIndex(normalizedClientIds[normalizedClientIds.length-1]),blockOrder=getBlockOrder(_rootClientId);return{canMove:canMoveBlocks(clientIds,_rootClientId),rootClientId:_rootClientId,isFirst:0===firstIndex,isLast:lastIndex===blockOrder.length-1,orientation:getBlockListSettings(_rootClientId)?.orientation}}),[clientIds]);if(!canMove||isFirst&&isLast&&!rootClientId)return null;const dragHandleLabel=(0,i18n_build_module.__)("Drag");return(0,react.createElement)(toolbar_group.Z,{className:classnames_default()("block-editor-block-mover",{"is-horizontal":"horizontal"===orientation})},!hideDragHandle&&(0,react.createElement)(block_draggable,{clientIds},(draggableProps=>(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({icon:drag_handle.Z,className:"block-editor-block-mover__drag-handle","aria-hidden":"true",label:dragHandleLabel,tabIndex:"-1"},draggableProps)))),(0,react.createElement)("div",{className:"block-editor-block-mover__move-button-container"},(0,react.createElement)(toolbar_item.Z,null,(itemProps=>(0,react.createElement)(BlockMoverUpButton,(0,esm_extends.Z)({clientIds},itemProps)))),(0,react.createElement)(toolbar_item.Z,null,(itemProps=>(0,react.createElement)(BlockMoverDownButton,(0,esm_extends.Z)({clientIds},itemProps))))))};const block_selection_button=function BlockSelectionButton({clientId,rootClientId}){const blockInformation=useBlockDisplayInformation(clientId),selected=(0,use_select.Z)((select=>{const{getBlock,getBlockIndex,hasBlockMovingClientId,getBlockListSettings,__unstableGetEditorMode}=select(store),index=getBlockIndex(clientId),{name,attributes}=getBlock(clientId);return{index,name,attributes,blockMovingMode:hasBlockMovingClientId(),orientation:getBlockListSettings(rootClientId)?.orientation,editorMode:__unstableGetEditorMode()}}),[clientId,rootClientId]),{index,name,attributes,blockMovingMode,orientation,editorMode}=selected,{setNavigationMode,removeBlock}=(0,use_dispatch.Z)(store),ref=(0,react.useRef)(),blockType=(0,build_module.ck)(name),label=(0,build_module.DK)(blockType,attributes,index+1,orientation);(0,react.useEffect)((()=>{ref.current.focus(),(0,a11y_build_module.D)(label)}),[label]);const blockElement=useBlockElement(clientId),{hasBlockMovingClientId,getBlockIndex,getBlockRootClientId,getClientIdsOfDescendants,getSelectedBlockClientId,getMultiSelectedBlocksEndClientId,getPreviousBlockClientId,getNextBlockClientId}=(0,use_select.Z)(store),{selectBlock,clearSelectedBlock,setBlockMovingClientId,moveBlockToPosition}=(0,use_dispatch.Z)(store),classNames=classnames_default()("block-editor-block-list__block-selection-button",{"is-block-moving-mode":!!blockMovingMode}),dragHandleLabel=(0,i18n_build_module.__)("Drag");return(0,react.createElement)("div",{className:classNames},(0,react.createElement)(component.Z,{justify:"center",className:"block-editor-block-list__block-selection-button__content"},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(block_icon,{icon:blockInformation?.icon,showColors:!0})),(0,react.createElement)(flex_item_component.Z,null,"zoom-out"===editorMode&&(0,react.createElement)(block_mover,{clientIds:[clientId],hideDragHandle:!0}),"navigation"===editorMode&&(0,react.createElement)(block_draggable,{clientIds:[clientId]},(draggableProps=>(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({icon:drag_handle.Z,className:"block-selection-button_drag-handle","aria-hidden":"true",label:dragHandleLabel,tabIndex:"-1"},draggableProps))))),(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{ref,onClick:"navigation"===editorMode?()=>setNavigationMode(!1):void 0,onKeyDown:function onKeyDown(event){const{keyCode}=event,isUp=keyCode===keycodes_build_module.UP,isDown=keyCode===keycodes_build_module.WV,isLeft=keyCode===keycodes_build_module.RL,isRight=keyCode===keycodes_build_module.pX,isTab=keyCode===keycodes_build_module.Mf,isEscape=keyCode===keycodes_build_module.hY,isEnter=keyCode===keycodes_build_module.K5,isSpace=keyCode===keycodes_build_module.L_,isShift=event.shiftKey;if(keyCode===keycodes_build_module.ZH||keyCode===keycodes_build_module.yY)return removeBlock(clientId),void event.preventDefault();const selectedBlockClientId=getSelectedBlockClientId(),selectionEndClientId=getMultiSelectedBlocksEndClientId(),selectionBeforeEndClientId=getPreviousBlockClientId(selectionEndClientId||selectedBlockClientId),selectionAfterEndClientId=getNextBlockClientId(selectionEndClientId||selectedBlockClientId),navigateUp=isTab&&isShift||isUp,navigateDown=isTab&&!isShift||isDown,navigateOut=isLeft,navigateIn=isRight;let focusedBlockUid;if(navigateUp)focusedBlockUid=selectionBeforeEndClientId;else if(navigateDown)focusedBlockUid=selectionAfterEndClientId;else if(navigateOut){var _getBlockRootClientId;focusedBlockUid=null!==(_getBlockRootClientId=getBlockRootClientId(selectedBlockClientId))&&void 0!==_getBlockRootClientId?_getBlockRootClientId:selectedBlockClientId}else if(navigateIn){var _getClientIdsOfDescen;focusedBlockUid=null!==(_getClientIdsOfDescen=getClientIdsOfDescendants([selectedBlockClientId])[0])&&void 0!==_getClientIdsOfDescen?_getClientIdsOfDescen:selectedBlockClientId}const startingBlockClientId=hasBlockMovingClientId();if(isEscape&&startingBlockClientId&&!event.defaultPrevented&&(setBlockMovingClientId(null),event.preventDefault()),(isEnter||isSpace)&&startingBlockClientId){const sourceRoot=getBlockRootClientId(startingBlockClientId),destRoot=getBlockRootClientId(selectedBlockClientId),sourceBlockIndex=getBlockIndex(startingBlockClientId);let destinationBlockIndex=getBlockIndex(selectedBlockClientId);sourceBlockIndex<destinationBlockIndex&&sourceRoot===destRoot&&(destinationBlockIndex-=1),moveBlockToPosition(startingBlockClientId,sourceRoot,destRoot,destinationBlockIndex),selectBlock(startingBlockClientId),setBlockMovingClientId(null)}if(navigateDown||navigateUp||navigateOut||navigateIn)if(focusedBlockUid)event.preventDefault(),selectBlock(focusedBlockUid);else if(isTab&&selectedBlockClientId){let nextTabbable;if(navigateDown){nextTabbable=blockElement;do{nextTabbable=dom_build_module.T_.tabbable.findNext(nextTabbable)}while(nextTabbable&&blockElement.contains(nextTabbable));nextTabbable||(nextTabbable=blockElement.ownerDocument.defaultView.frameElement,nextTabbable=dom_build_module.T_.tabbable.findNext(nextTabbable))}else nextTabbable=dom_build_module.T_.tabbable.findPrevious(blockElement);nextTabbable&&(event.preventDefault(),nextTabbable.focus(),clearSelectedBlock())}},label,showTooltip:!1,className:"block-selection-button_select-button"},(0,react.createElement)(BlockTitle,{clientId,maximumLength:35})))))};var toolbar_button=__webpack_require__("./packages/components/build-module/toolbar/toolbar-button/index.js"),level_up=__webpack_require__("./packages/icons/build-module/library/level-up.js"),toolbar=__webpack_require__("./packages/components/build-module/toolbar/toolbar/index.js"),navigable_container_menu=__webpack_require__("./packages/components/build-module/navigable-container/menu.js");function getAllToolbarItemsIn(container){return Array.from(container.querySelectorAll("[data-toolbar-item]"))}function useToolbarFocus(ref,focusOnMount,isAccessibleToolbar,defaultIndex,onIndexChange,shouldUseKeyboardFocusShortcut){const[initialFocusOnMount]=(0,react.useState)(focusOnMount),[initialIndex]=(0,react.useState)(defaultIndex),focusToolbar=(0,react.useCallback)((()=>{!function focusFirstTabbableIn(container){const[firstTabbable]=dom_build_module.T_.tabbable.find(container);firstTabbable&&firstTabbable.focus({preventScroll:!0})}(ref.current)}),[]);(0,keyboard_shortcuts_build_module.bx)("core/block-editor/focus-toolbar",(()=>{shouldUseKeyboardFocusShortcut&&focusToolbar()})),(0,react.useEffect)((()=>{initialFocusOnMount&&focusToolbar()}),[isAccessibleToolbar,initialFocusOnMount,focusToolbar]),(0,react.useEffect)((()=>{const navigableToolbarRef=ref.current;let raf=0;return initialFocusOnMount||(raf=window.requestAnimationFrame((()=>{const items=getAllToolbarItemsIn(navigableToolbarRef),index=initialIndex||0;items[index]&&function hasFocusWithin(container){return container.contains(container.ownerDocument.activeElement)}(navigableToolbarRef)&&items[index].focus({preventScroll:!0})}))),()=>{if(window.cancelAnimationFrame(raf),!onIndexChange||!navigableToolbarRef)return;const index=getAllToolbarItemsIn(navigableToolbarRef).findIndex((item=>0===item.tabIndex));onIndexChange(index)}}),[initialIndex,initialFocusOnMount])}const navigable_toolbar=function NavigableToolbar({children,focusOnMount,shouldUseKeyboardFocusShortcut=!0,__experimentalInitialIndex:initialIndex,__experimentalOnIndexChange:onIndexChange,...props}){const ref=(0,react.useRef)(),isAccessibleToolbar=function useIsAccessibleToolbar(ref){const[isAccessibleToolbar,setIsAccessibleToolbar]=(0,react.useState)(!0),determineIsAccessibleToolbar=(0,react.useCallback)((()=>{const onlyToolbarItem=function hasOnlyToolbarItem(elements){return!elements.some((element=>!("toolbarItem"in element.dataset)))}(dom_build_module.T_.tabbable.find(ref.current));onlyToolbarItem||(0,deprecated_build_module.Z)("Using custom components as toolbar controls",{since:"5.6",alternative:"ToolbarItem, ToolbarButton or ToolbarDropdownMenu components",link:"https://developer.wordpress.org/block-editor/components/toolbar-button/#inside-blockcontrols"}),setIsAccessibleToolbar(onlyToolbarItem)}),[]);return(0,react.useLayoutEffect)((()=>{const observer=new window.MutationObserver(determineIsAccessibleToolbar);return observer.observe(ref.current,{childList:!0,subtree:!0}),()=>observer.disconnect()}),[isAccessibleToolbar]),isAccessibleToolbar}(ref);return useToolbarFocus(ref,focusOnMount,isAccessibleToolbar,initialIndex,onIndexChange,shouldUseKeyboardFocusShortcut),isAccessibleToolbar?(0,react.createElement)(toolbar.Z,(0,esm_extends.Z)({label:props["aria-label"],ref},props),children):(0,react.createElement)(navigable_container_menu.ZP,(0,esm_extends.Z)({orientation:"horizontal",role:"toolbar",ref},props),children)},{clearTimeout:utils_clearTimeout,setTimeout:utils_setTimeout}=window,utils_noop=()=>{},DEBOUNCE_TIMEOUT=200;function useDebouncedShowMovers({ref,isFocused,debounceTimeout=DEBOUNCE_TIMEOUT,onChange=utils_noop}){const[showMovers,setShowMovers]=(0,react.useState)(!1),timeoutRef=(0,react.useRef)(),handleOnChange=nextIsFocused=>{ref?.current&&setShowMovers(nextIsFocused),onChange(nextIsFocused)},shouldHideMovers=()=>{const isHovered=ref?.current&&ref.current.matches(":hover");return!isFocused&&!isHovered},clearTimeoutRef=()=>{const timeout=timeoutRef.current;timeout&&utils_clearTimeout&&utils_clearTimeout(timeout)};return(0,react.useEffect)((()=>()=>{handleOnChange(!1),clearTimeoutRef()}),[]),{showMovers,debouncedShowMovers:event=>{event&&event.stopPropagation(),clearTimeoutRef(),showMovers||handleOnChange(!0)},debouncedHideMovers:event=>{event&&event.stopPropagation(),clearTimeoutRef(),timeoutRef.current=utils_setTimeout((()=>{shouldHideMovers()&&handleOnChange(!1)}),debounceTimeout)}}}function useShowMoversGestures({ref,debounceTimeout=DEBOUNCE_TIMEOUT,onChange=utils_noop}){const[isFocused,setIsFocused]=(0,react.useState)(!1),{showMovers,debouncedShowMovers,debouncedHideMovers}=useDebouncedShowMovers({ref,debounceTimeout,isFocused,onChange}),registerRef=(0,react.useRef)(!1),isFocusedWithin=()=>ref?.current&&ref.current.contains(ref.current.ownerDocument.activeElement);return(0,react.useEffect)((()=>{const node=ref.current,handleOnFocus=()=>{isFocusedWithin()&&(setIsFocused(!0),debouncedShowMovers())},handleOnBlur=()=>{isFocusedWithin()||(setIsFocused(!1),debouncedHideMovers())};return node&&!registerRef.current&&(node.addEventListener("focus",handleOnFocus,!0),node.addEventListener("blur",handleOnBlur,!0),registerRef.current=!0),()=>{node&&(node.removeEventListener("focus",handleOnFocus),node.removeEventListener("blur",handleOnBlur))}}),[ref,registerRef,setIsFocused,debouncedShowMovers,debouncedHideMovers]),{showMovers,gestures:{onMouseMove:debouncedShowMovers,onMouseLeave:debouncedHideMovers}}}function BlockParentSelector(){const{selectBlock,toggleBlockHighlight}=(0,use_dispatch.Z)(store),{firstParentClientId,shouldHide,isDistractionFree}=(0,use_select.Z)((select=>{const{getBlockName,getBlockParents,getSelectedBlockClientId,getSettings}=select(store),{hasBlockSupport}=select(build_module.h),parents=getBlockParents(getSelectedBlockClientId()),_firstParentClientId=parents[parents.length-1],parentBlockName=getBlockName(_firstParentClientId),_parentBlockType=(0,build_module.ck)(parentBlockName),settings=getSettings();return{firstParentClientId:_firstParentClientId,shouldHide:!hasBlockSupport(_parentBlockType,"__experimentalParentSelector",!0),isDistractionFree:settings.isDistractionFree}}),[]),blockInformation=useBlockDisplayInformation(firstParentClientId),nodeRef=(0,react.useRef)(),{gestures:showMoversGestures}=useShowMoversGestures({ref:nodeRef,onChange(isFocused){isFocused&&isDistractionFree||toggleBlockHighlight(firstParentClientId,isFocused)}});return shouldHide||void 0===firstParentClientId?null:(0,react.createElement)("div",(0,esm_extends.Z)({className:"block-editor-block-parent-selector",key:firstParentClientId,ref:nodeRef},showMoversGestures),(0,react.createElement)(toolbar_button.Z,{className:"block-editor-block-parent-selector__button",onClick:()=>selectBlock(firstParentClientId),label:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Select %s"),blockInformation?.title),showTooltip:!0,icon:(0,react.createElement)(block_icon,{icon:blockInformation?.icon})}))}var copy=__webpack_require__("./packages/icons/build-module/library/copy.js");function PreviewBlockPopover({blocks}){return(0,react.createElement)("div",{className:"block-editor-block-switcher__popover__preview__parent"},(0,react.createElement)("div",{className:"block-editor-block-switcher__popover__preview__container"},(0,react.createElement)(popover.ZP,{className:"block-editor-block-switcher__preview__popover",placement:"bottom-start",focusOnMount:!1},(0,react.createElement)("div",{className:"block-editor-block-switcher__preview"},(0,react.createElement)("div",{className:"block-editor-block-switcher__preview-title"},(0,i18n_build_module.__)("Preview")),(0,react.createElement)(block_preview,{viewportWidth:500,blocks})))))}const EMPTY_OBJECT={};function BlockVariationTranformationItem({item,onSelect,setHoveredTransformItemName}){const{name,icon,title}=item;return(0,react.createElement)(menu_item.Z,{className:(0,build_module.hq)(name),onClick:event=>{event.preventDefault(),onSelect(name)},onMouseLeave:()=>setHoveredTransformItemName(null),onMouseEnter:()=>setHoveredTransformItemName(name)},(0,react.createElement)(block_icon,{icon,showColors:!0}),title)}const block_variation_transformations=({transformations,onSelect,blocks})=>{const[hoveredTransformItemName,setHoveredTransformItemName]=(0,react.useState)();return(0,react.createElement)(react.Fragment,null,hoveredTransformItemName&&(0,react.createElement)(PreviewBlockPopover,{blocks:(0,build_module.Wm)(blocks[0],transformations.find((({name})=>name===hoveredTransformItemName)).attributes)}),transformations?.map((item=>(0,react.createElement)(BlockVariationTranformationItem,{key:item.name,item,onSelect,setHoveredTransformItemName}))))};function RestTransformationItems({restTransformations,onSelect,setHoveredTransformItemName}){return restTransformations.map((item=>(0,react.createElement)(BlockTranformationItem,{key:item.name,item,onSelect,setHoveredTransformItemName})))}function BlockTranformationItem({item,onSelect,setHoveredTransformItemName}){const{name,icon,title,isDisabled}=item;return(0,react.createElement)(menu_item.Z,{className:(0,build_module.hq)(name),onClick:event=>{event.preventDefault(),onSelect(name)},disabled:isDisabled,onMouseLeave:()=>setHoveredTransformItemName(null),onMouseEnter:()=>setHoveredTransformItemName(name)},(0,react.createElement)(block_icon,{icon,showColors:!0}),title)}const block_transformations_menu=({className,possibleBlockTransformations,possibleBlockVariationTransformations,onSelect,onSelectVariation,blocks})=>{const[hoveredTransformItemName,setHoveredTransformItemName]=(0,react.useState)(),{priorityTextTransformations,restTransformations}=function useGroupedTransforms(possibleBlockTransformations){const priorityContentTranformationBlocks={"core/paragraph":1,"core/heading":2,"core/list":3,"core/quote":4},transformations=(0,react.useMemo)((()=>{const priorityTextTranformsNames=Object.keys(priorityContentTranformationBlocks);return possibleBlockTransformations.reduce(((accumulator,item)=>{const{name}=item;return priorityTextTranformsNames.includes(name)?accumulator.priorityTextTransformations.push(item):accumulator.restTransformations.push(item),accumulator}),{priorityTextTransformations:[],restTransformations:[]})}),[possibleBlockTransformations]);return transformations.priorityTextTransformations.sort((({name:currentName},{name:nextName})=>priorityContentTranformationBlocks[currentName]<priorityContentTranformationBlocks[nextName]?-1:1)),transformations}(possibleBlockTransformations),hasBothContentTransformations=priorityTextTransformations.length&&restTransformations.length,restTransformItems=!!restTransformations.length&&(0,react.createElement)(RestTransformationItems,{restTransformations,onSelect,setHoveredTransformItemName});return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_group.Z,{label:(0,i18n_build_module.__)("Transform to"),className},hoveredTransformItemName&&(0,react.createElement)(PreviewBlockPopover,{blocks:(0,build_module.m4)(blocks,hoveredTransformItemName)}),!!possibleBlockVariationTransformations?.length&&(0,react.createElement)(block_variation_transformations,{transformations:possibleBlockVariationTransformations,blocks,onSelect:onSelectVariation}),priorityTextTransformations.map((item=>(0,react.createElement)(BlockTranformationItem,{key:item.name,item,onSelect,setHoveredTransformItemName}))),!hasBothContentTransformations&&restTransformItems),!!hasBothContentTransformations&&(0,react.createElement)(menu_group.Z,{className},restTransformItems))};var text_component=__webpack_require__("./packages/components/build-module/text/component.js"),library_check=__webpack_require__("./packages/icons/build-module/library/check.js"),token_list_build_module=__webpack_require__("./packages/token-list/build-module/index.js");function replaceActiveStyle(className,activeStyle,newStyle){const list=new token_list_build_module.Z(className);return activeStyle&&list.remove("is-style-"+activeStyle.name),list.add("is-style-"+newStyle.name),list.value}function getDefaultStyle(styles){return styles?.find((style=>style.isDefault))}function useStylesForBlocks({clientId,onSwitch}){const{styles,block,blockType,className}=(0,use_select.Z)((select=>{const{getBlock}=select(store),block=getBlock(clientId);if(!block)return{};const blockType=(0,build_module.ck)(block.name),{getBlockStyles}=select(build_module.h);return{block,blockType,styles:getBlockStyles(block.name),className:block.attributes.className||""}}),[clientId]),{updateBlockAttributes}=(0,use_dispatch.Z)(store),stylesToRender=function getRenderedStyles(styles){return styles&&0!==styles.length?getDefaultStyle(styles)?styles:[{name:"default",label:(0,i18n_build_module._x)("Default","block style"),isDefault:!0},...styles]:[]}(styles),activeStyle=function getActiveStyle(styles,className){for(const style of new token_list_build_module.Z(className).values()){if(-1===style.indexOf("is-style-"))continue;const potentialStyleName=style.substring(9),activeStyle=styles?.find((({name})=>name===potentialStyleName));if(activeStyle)return activeStyle}return getDefaultStyle(styles)}(stylesToRender,className),genericPreviewBlock=function useGenericPreviewBlock(block,type){return(0,react.useMemo)((()=>{const example=type?.example,blockName=type?.name;return example&&blockName?(0,build_module.Wf)(blockName,{attributes:example.attributes,innerBlocks:example.innerBlocks}):block?(0,build_module.Wm)(block):void 0}),[type?.example?block?.name:block,type])}(block,blockType);return{onSelect:style=>{const styleClassName=replaceActiveStyle(className,activeStyle,style);updateBlockAttributes(clientId,{className:styleClassName}),onSwitch()},stylesToRender,activeStyle,genericPreviewBlock,className}}const menu_items_noop=()=>{};function BlockStylesMenuItems({clientId,onSwitch=menu_items_noop}){const{onSelect,stylesToRender,activeStyle}=useStylesForBlocks({clientId,onSwitch});return stylesToRender&&0!==stylesToRender.length?(0,react.createElement)(react.Fragment,null,stylesToRender.map((style=>{const menuItemText=style.label||style.name;return(0,react.createElement)(menu_item.Z,{key:style.name,icon:activeStyle.name===style.name?library_check.Z:null,onClick:()=>onSelect(style)},(0,react.createElement)(text_component.Z,{as:"span",limit:18,ellipsizeMode:"tail",truncate:!0},menuItemText))}))):null}function BlockStylesMenu({hoveredBlock,onSwitch}){const{clientId}=hoveredBlock;return(0,react.createElement)(menu_group.Z,{label:(0,i18n_build_module.__)("Styles"),className:"block-editor-block-switcher__styles__menugroup"},(0,react.createElement)(BlockStylesMenuItems,{clientId,onSwitch}))}const getMatchingBlockByName=(block,selectedBlockName,consumedBlocks=new Set)=>{const{clientId,name,innerBlocks=[]}=block;if(!consumedBlocks.has(clientId)){if(name===selectedBlockName)return block;for(const innerBlock of innerBlocks){const match=getMatchingBlockByName(innerBlock,selectedBlockName,consumedBlocks);if(match)return match}}},transformMatchingBlock=(match,selectedBlock)=>{const retainedBlockAttributes=((name,attributes)=>{const contentAttributes=(0,build_module.A$)(name,"content");return contentAttributes?.length?contentAttributes.reduce(((_accumulator,attribute)=>(attributes[attribute]&&(_accumulator[attribute]=attributes[attribute]),_accumulator)),{}):attributes})(selectedBlock.name,selectedBlock.attributes);match.attributes={...match.attributes,...retainedBlockAttributes}},use_transformed_patterns=(patterns,selectedBlocks)=>(0,react.useMemo)((()=>patterns.reduce(((accumulator,_pattern)=>{const transformedBlocks=((selectedBlocks,patternBlocks)=>{const _patternBlocks=patternBlocks.map((block=>(0,build_module.Wm)(block))),consumedBlocks=new Set;for(const selectedBlock of selectedBlocks){let isMatch=!1;for(const patternBlock of _patternBlocks){const match=getMatchingBlockByName(patternBlock,selectedBlock.name,consumedBlocks);if(match){isMatch=!0,consumedBlocks.add(match.clientId),transformMatchingBlock(match,selectedBlock);break}}if(!isMatch)return}return _patternBlocks})(selectedBlocks,_pattern.blocks);return transformedBlocks&&accumulator.push({..._pattern,transformedBlocks}),accumulator}),[])),[patterns,selectedBlocks]);function PreviewPatternsPopover({patterns,onSelect}){return(0,react.createElement)("div",{className:"block-editor-block-switcher__popover__preview__parent"},(0,react.createElement)("div",{className:"block-editor-block-switcher__popover__preview__container"},(0,react.createElement)(popover.ZP,{className:"block-editor-block-switcher__preview__popover",position:"bottom right"},(0,react.createElement)("div",{className:"block-editor-block-switcher__preview"},(0,react.createElement)("div",{className:"block-editor-block-switcher__preview-title"},(0,i18n_build_module.__)("Preview")),(0,react.createElement)(BlockPatternsList,{patterns,onSelect})))))}function BlockPatternsList({patterns,onSelect}){const composite=(0,CompositeState.u)();return(0,react.createElement)(Composite.b,(0,esm_extends.Z)({},composite,{role:"listbox",className:"block-editor-block-switcher__preview-patterns-container","aria-label":(0,i18n_build_module.__)("Patterns list")}),patterns.map((pattern=>(0,react.createElement)(pattern_transformations_menu_BlockPattern,{key:pattern.name,pattern,onSelect,composite}))))}function pattern_transformations_menu_BlockPattern({pattern,onSelect,composite}){const baseClassName="block-editor-block-switcher__preview-patterns-container",descriptionId=(0,use_instance_id.Z)(pattern_transformations_menu_BlockPattern,`${baseClassName}-list__item-description`);return(0,react.createElement)("div",{className:`${baseClassName}-list__list-item`},(0,react.createElement)(CompositeItem.A,(0,esm_extends.Z)({role:"option",as:"div"},composite,{"aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:void 0,className:`${baseClassName}-list__item`,onClick:()=>onSelect(pattern.transformedBlocks)}),(0,react.createElement)(block_preview,{blocks:pattern.transformedBlocks,viewportWidth:pattern.viewportWidth||500}),(0,react.createElement)("div",{className:`${baseClassName}-list__item-title`},pattern.title)),!!pattern.description&&(0,react.createElement)(visually_hidden_component.Z,{id:descriptionId},pattern.description))}const pattern_transformations_menu=function PatternTransformationsMenu({blocks,patterns:statePatterns,onSelect}){const[showTransforms,setShowTransforms]=(0,react.useState)(!1),patterns=use_transformed_patterns(statePatterns,blocks);return patterns.length?(0,react.createElement)(menu_group.Z,{className:"block-editor-block-switcher__pattern__transforms__menugroup"},showTransforms&&(0,react.createElement)(PreviewPatternsPopover,{patterns,onSelect}),(0,react.createElement)(menu_item.Z,{onClick:event=>{event.preventDefault(),setShowTransforms(!showTransforms)},icon:chevron_right.Z},(0,i18n_build_module.__)("Patterns"))):null},BlockSwitcherDropdownMenu=({clientIds,blocks})=>{const{replaceBlocks,multiSelect,updateBlockAttributes}=(0,use_dispatch.Z)(store),blockInformation=useBlockDisplayInformation(blocks[0].clientId),{possibleBlockTransformations,canRemove,hasBlockStyles,icon,patterns}=(0,use_select.Z)((select=>{const{getBlockRootClientId,getBlockTransformItems,__experimentalGetPatternTransformItems,canRemoveBlocks}=select(store),{getBlockStyles,getBlockType}=select(build_module.h),rootClientId=getBlockRootClientId(Array.isArray(clientIds)?clientIds[0]:clientIds),[{name:firstBlockName}]=blocks,_isSingleBlockSelected=1===blocks.length,styles=_isSingleBlockSelected&&getBlockStyles(firstBlockName);let _icon;if(_isSingleBlockSelected)_icon=blockInformation?.icon;else{_icon=1===new Set(blocks.map((({name})=>name))).size?getBlockType(firstBlockName)?.icon:copy.Z}return{possibleBlockTransformations:getBlockTransformItems(blocks,rootClientId),canRemove:canRemoveBlocks(clientIds,rootClientId),hasBlockStyles:!!styles?.length,icon:_icon,patterns:__experimentalGetPatternTransformItems(blocks,rootClientId)}}),[clientIds,blocks,blockInformation?.icon]),blockVariationTransformations=function useBlockVariationTransforms({clientIds,blocks}){const{activeBlockVariation,blockVariationTransformations}=(0,use_select.Z)((select=>{const{getBlockRootClientId,getBlockAttributes,canRemoveBlocks}=select(store),{getActiveBlockVariation,getBlockVariations}=select(build_module.h),rootClientId=getBlockRootClientId(Array.isArray(clientIds)?clientIds[0]:clientIds),canRemove=canRemoveBlocks(clientIds,rootClientId);if(1!==blocks.length||!canRemove)return EMPTY_OBJECT;const[firstBlock]=blocks;return{blockVariationTransformations:getBlockVariations(firstBlock.name,"transform"),activeBlockVariation:getActiveBlockVariation(firstBlock.name,getBlockAttributes(firstBlock.clientId))}}),[clientIds,blocks]);return(0,react.useMemo)((()=>blockVariationTransformations?.filter((({name})=>name!==activeBlockVariation?.name))),[blockVariationTransformations,activeBlockVariation])}({clientIds,blocks}),blockTitle=useBlockDisplayTitle({clientId:Array.isArray(clientIds)?clientIds[0]:clientIds,maximumLength:35}),isReusable=1===blocks.length&&(0,build_module.vr)(blocks[0]),isTemplate=1===blocks.length&&(0,build_module.zQ)(blocks[0]);function selectForMultipleBlocks(insertedBlocks){insertedBlocks.length>1&&multiSelect(insertedBlocks[0].clientId,insertedBlocks[insertedBlocks.length-1].clientId)}const hasPossibleBlockTransformations=!!possibleBlockTransformations.length&&canRemove&&!isTemplate,hasPossibleBlockVariationTransformations=!!blockVariationTransformations?.length,hasPatternTransformation=!!patterns?.length&&canRemove;if(!hasBlockStyles&&!hasPossibleBlockTransformations&&!hasPossibleBlockVariationTransformations)return(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_button.Z,{disabled:!0,className:"block-editor-block-switcher__no-switcher-icon",title:blockTitle,icon:(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_icon,{icon,showColors:!0}),(isReusable||isTemplate)&&(0,react.createElement)("span",{className:"block-editor-block-switcher__toggle-text"},blockTitle))}));const blockSwitcherLabel=blockTitle,blockSwitcherDescription=1===blocks.length?(0,i18n_build_module.gB)((0,i18n_build_module.__)("%s: Change block type or style"),blockTitle):(0,i18n_build_module.gB)((0,i18n_build_module._n)("Change type of %d block","Change type of %d blocks",blocks.length),blocks.length),hasBlockOrBlockVariationTransforms=hasPossibleBlockTransformations||hasPossibleBlockVariationTransformations,showDropDown=hasBlockStyles||hasBlockOrBlockVariationTransforms||hasPatternTransformation;return(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_item.Z,null,(toggleProps=>(0,react.createElement)(dropdown_menu.Z,{className:"block-editor-block-switcher",label:blockSwitcherLabel,popoverProps:{placement:"bottom-start",className:"block-editor-block-switcher__popover"},icon:(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_icon,{icon,className:"block-editor-block-switcher__toggle",showColors:!0}),(isReusable||isTemplate)&&(0,react.createElement)("span",{className:"block-editor-block-switcher__toggle-text"},blockTitle)),toggleProps:{describedBy:blockSwitcherDescription,...toggleProps},menuProps:{orientation:"both"}},(({onClose})=>showDropDown&&(0,react.createElement)("div",{className:"block-editor-block-switcher__container"},hasPatternTransformation&&(0,react.createElement)(pattern_transformations_menu,{blocks,patterns,onSelect:transformedBlocks=>{!function onPatternTransform(transformedBlocks){replaceBlocks(clientIds,transformedBlocks),selectForMultipleBlocks(transformedBlocks)}(transformedBlocks),onClose()}}),hasBlockOrBlockVariationTransforms&&(0,react.createElement)(block_transformations_menu,{className:"block-editor-block-switcher__transforms__menugroup",possibleBlockTransformations,possibleBlockVariationTransformations:blockVariationTransformations,blocks,onSelect:name=>{!function onBlockTransform(name){const newBlocks=(0,build_module.m4)(blocks,name);replaceBlocks(clientIds,newBlocks),selectForMultipleBlocks(newBlocks)}(name),onClose()},onSelectVariation:name=>{!function onBlockVariationTransform(name){updateBlockAttributes(blocks[0].clientId,{...blockVariationTransformations.find((({name:variationName})=>variationName===name)).attributes})}(name),onClose()}}),hasBlockStyles&&(0,react.createElement)(BlockStylesMenu,{hoveredBlock:blocks[0],onSwitch:onClose})))))))},block_switcher=({clientIds})=>{const blocks=(0,use_select.Z)((select=>select(store).getBlocksByClientId(clientIds)),[clientIds]);return!blocks.length||blocks.some((block=>!block))?null:(0,react.createElement)(BlockSwitcherDropdownMenu,{clientIds,blocks})},{Fill:__unstableBlockToolbarLastItem,Slot:block_toolbar_last_item_Slot}=(0,slot_fill.up)("__unstableBlockToolbarLastItem");__unstableBlockToolbarLastItem.Slot=block_toolbar_last_item_Slot;const block_toolbar_last_item=__unstableBlockToolbarLastItem;var use_copy_to_clipboard=__webpack_require__("./packages/compose/build-module/hooks/use-copy-to-clipboard/index.js");function useNotifyCopy(){const{getBlockName}=(0,use_select.Z)(store),{getBlockType}=(0,use_select.Z)(build_module.h),{createSuccessNotice}=(0,use_dispatch.Z)(notices_build_module.h);return(0,react.useCallback)(((eventType,selectedBlockClientIds)=>{let notice="";if(1===selectedBlockClientIds.length){const clientId=selectedBlockClientIds[0],title=getBlockType(getBlockName(clientId))?.title;notice="copy"===eventType?(0,i18n_build_module.gB)((0,i18n_build_module.__)('Copied "%s" to clipboard.'),title):(0,i18n_build_module.gB)((0,i18n_build_module.__)('Moved "%s" to clipboard.'),title)}else notice="copy"===eventType?(0,i18n_build_module.gB)((0,i18n_build_module._n)("Copied %d block to clipboard.","Copied %d blocks to clipboard.",selectedBlockClientIds.length),selectedBlockClientIds.length):(0,i18n_build_module.gB)((0,i18n_build_module._n)("Moved %d block to clipboard.","Moved %d blocks to clipboard.",selectedBlockClientIds.length),selectedBlockClientIds.length);createSuccessNotice(notice,{type:"snackbar"})}),[])}const styleSupportKeys=[...["typography.lineHeight","typography.fontSize","typography.__experimentalFontStyle","typography.__experimentalFontWeight","typography.__experimentalFontFamily","typography.textColumns","typography.__experimentalTextDecoration","typography.__experimentalTextTransform","typography.__experimentalLetterSpacing"],"__experimentalBorder","color","spacing"];const STYLE_ATTRIBUTES={align:nameOrType=>(0,build_module.zb)(nameOrType,"align"),borderColor:nameOrType=>function hasBorderSupport(nameOrType,feature="any"){if("web"!==platform.Z.OS)return!1;const support=(0,build_module.Dx)(nameOrType,"__experimentalBorder");return!0===support||("any"===feature?!!(support?.color||support?.radius||support?.width||support?.style):!!support?.[feature])}(nameOrType,"color"),backgroundColor:nameOrType=>{const colorSupport=(0,build_module.Dx)(nameOrType,"color");return colorSupport&&!1!==colorSupport.background},textColor:nameOrType=>{const colorSupport=(0,build_module.Dx)(nameOrType,"color");return colorSupport&&!1!==colorSupport.text},gradient:nameOrType=>{const colorSupport=(0,build_module.Dx)(nameOrType,"color");return null!==colorSupport&&"object"==typeof colorSupport&&!!colorSupport.gradients},className:nameOrType=>(0,build_module.zb)(nameOrType,"customClassName",!0),fontFamily:nameOrType=>(0,build_module.zb)(nameOrType,"typography.__experimentalFontFamily"),fontSize:nameOrType=>(0,build_module.zb)(nameOrType,"typography.fontSize"),layout:nameOrType=>(0,build_module.zb)(nameOrType,"layout"),style:nameOrType=>styleSupportKeys.some((key=>(0,build_module.zb)(nameOrType,key)))};function getStyleAttributes(sourceBlock,targetBlock){return Object.entries(STYLE_ATTRIBUTES).reduce(((attributes,[attributeKey,hasSupport])=>(hasSupport(sourceBlock.name)&&hasSupport(targetBlock.name)&&(attributes[attributeKey]=sourceBlock.attributes[attributeKey]),attributes)),{})}function recursivelyUpdateBlockAttributes(targetBlocks,sourceBlocks,updateBlockAttributes){for(let index=0;index<Math.min(sourceBlocks.length,targetBlocks.length);index+=1)updateBlockAttributes(targetBlocks[index].clientId,getStyleAttributes(sourceBlocks[index],targetBlocks[index])),recursivelyUpdateBlockAttributes(targetBlocks[index].innerBlocks,sourceBlocks[index].innerBlocks,updateBlockAttributes)}function usePasteStyles(){const registry=(0,use_registry.Z)(),{updateBlockAttributes}=(0,use_dispatch.Z)(store),{createSuccessNotice,createWarningNotice,createErrorNotice}=(0,use_dispatch.Z)(notices_build_module.h);return(0,react.useCallback)((async targetBlocks=>{let html="";try{if(!window.navigator.clipboard)return void createErrorNotice((0,i18n_build_module.__)("Unable to paste styles. This feature is only available on secure (https) sites in supporting browsers."),{type:"snackbar"});html=await window.navigator.clipboard.readText()}catch(error){return void createErrorNotice((0,i18n_build_module.__)("Unable to paste styles. Please allow browser clipboard permissions before continuing."),{type:"snackbar"})}if(!html||!function hasSerializedBlocks(text){try{const blocks=(0,build_module.Qc)(text,{__unstableSkipMigrationLogs:!0,__unstableSkipAutop:!0});return 1!==blocks.length||"core/freeform"!==blocks[0].name}catch(err){return!1}}(html))return void createWarningNotice((0,i18n_build_module.__)("Unable to paste styles. Block styles couldn't be found within the copied content."),{type:"snackbar"});const copiedBlocks=(0,build_module.Qc)(html);if(1===copiedBlocks.length?registry.batch((()=>{recursivelyUpdateBlockAttributes(targetBlocks,targetBlocks.map((()=>copiedBlocks[0])),updateBlockAttributes)})):registry.batch((()=>{recursivelyUpdateBlockAttributes(targetBlocks,copiedBlocks,updateBlockAttributes)})),1===targetBlocks.length){const title=(0,build_module.ck)(targetBlocks[0].name)?.title;createSuccessNotice((0,i18n_build_module.gB)((0,i18n_build_module.__)("Pasted styles to %s."),title),{type:"snackbar"})}else createSuccessNotice((0,i18n_build_module.gB)((0,i18n_build_module.__)("Pasted styles to %d blocks."),targetBlocks.length),{type:"snackbar"})}),[registry.batch,updateBlockAttributes,createSuccessNotice,createWarningNotice,createErrorNotice])}function BlockActions({clientIds,children,__experimentalUpdateSelection:updateSelection}){const{canInsertBlockType,getBlockRootClientId,getBlocksByClientId,canMoveBlocks,canRemoveBlocks}=(0,use_select.Z)(store),{getDefaultBlockName,getGroupingBlockName}=(0,use_select.Z)(build_module.h),blocks=getBlocksByClientId(clientIds),rootClientId=getBlockRootClientId(clientIds[0]),canDuplicate=blocks.every((block=>!!block&&(0,build_module.zb)(block.name,"multiple",!0)&&canInsertBlockType(block.name,rootClientId))),canInsertDefaultBlock=canInsertBlockType(getDefaultBlockName(),rootClientId),canMove=canMoveBlocks(clientIds,rootClientId),canRemove=canRemoveBlocks(clientIds,rootClientId),{removeBlocks,replaceBlocks,duplicateBlocks,insertAfterBlock,insertBeforeBlock,flashBlock,setBlockMovingClientId,setNavigationMode,selectBlock}=(0,use_dispatch.Z)(store),notifyCopy=useNotifyCopy(),pasteStyles=usePasteStyles();return children({canDuplicate,canInsertDefaultBlock,canMove,canRemove,rootClientId,blocks,onDuplicate:()=>duplicateBlocks(clientIds,updateSelection),onRemove:()=>removeBlocks(clientIds,updateSelection),onInsertBefore(){const clientId=Array.isArray(clientIds)?clientIds[0]:clientId;insertBeforeBlock(clientId)},onInsertAfter(){const clientId=Array.isArray(clientIds)?clientIds[clientIds.length-1]:clientId;insertAfterBlock(clientId)},onMoveTo(){setNavigationMode(!0),selectBlock(clientIds[0]),setBlockMovingClientId(clientIds[0])},onGroup(){if(!blocks.length)return;const groupingBlockName=getGroupingBlockName(),newBlocks=(0,build_module.m4)(blocks,groupingBlockName);newBlocks&&replaceBlocks(clientIds,newBlocks)},onUngroup(){if(!blocks.length)return;const innerBlocks=blocks[0].innerBlocks;innerBlocks.length&&replaceBlocks(clientIds,innerBlocks)},onCopy(){const selectedBlockClientIds=blocks.map((({clientId})=>clientId));1===blocks.length&&flashBlock(selectedBlockClientIds[0]),notifyCopy("copy",selectedBlockClientIds)},async onPasteStyles(){await pasteStyles(blocks)}})}const block_html_convert_button=(0,compose.Z)((0,with_select.Z)(((select,{clientId})=>{const block=select(store).getBlock(clientId);return{block,shouldRender:block&&"core/html"===block.name}})),(0,with_dispatch.Z)(((dispatch,{block})=>({onClick:()=>dispatch(store).replaceBlocks(block.clientId,(0,build_module.AF)({HTML:(0,build_module.Jo)(block)}))}))))((function BlockConvertButton({shouldRender,onClick,small}){if(!shouldRender)return null;const label=(0,i18n_build_module.__)("Convert to Blocks");return(0,react.createElement)(menu_item.Z,{onClick},!small&&label)})),{Fill:__unstableBlockSettingsMenuFirstItem,Slot:block_settings_menu_first_item_Slot}=(0,slot_fill.up)("__unstableBlockSettingsMenuFirstItem");__unstableBlockSettingsMenuFirstItem.Slot=block_settings_menu_first_item_Slot;const block_settings_menu_first_item=__unstableBlockSettingsMenuFirstItem;function ConvertToGroupButton({clientIds,isGroupable,isUngroupable,onUngroup,blocksSelection,groupingBlockName,onClose=()=>{}}){const{replaceBlocks}=(0,use_dispatch.Z)(store);return isGroupable||isUngroupable?(0,react.createElement)(react.Fragment,null,isGroupable&&(0,react.createElement)(menu_item.Z,{onClick:()=>{(()=>{const newBlocks=(0,build_module.m4)(blocksSelection,groupingBlockName);newBlocks&&replaceBlocks(clientIds,newBlocks)})(),onClose()}},(0,i18n_build_module._x)("Group","verb")),isUngroupable&&(0,react.createElement)(menu_item.Z,{onClick:()=>{(()=>{let innerBlocks=blocksSelection[0].innerBlocks;innerBlocks.length&&(onUngroup&&(innerBlocks=onUngroup(blocksSelection[0].attributes,blocksSelection[0].innerBlocks)),replaceBlocks(clientIds,innerBlocks))})(),onClose()}},(0,i18n_build_module._x)("Ungroup","Ungrouping blocks from within a grouping block back into individual blocks within the Editor "))):null}function useConvertToGroupButtonProps(selectedClientIds){return(0,use_select.Z)((select=>{const{getBlockRootClientId,getBlocksByClientId,canInsertBlockType,getSelectedBlockClientIds}=select(store),{getGroupingBlockName,getBlockType}=select(build_module.h),clientIds=selectedClientIds?.length?selectedClientIds:getSelectedBlockClientIds(),groupingBlockName=getGroupingBlockName(),groupingBlockAvailable=canInsertBlockType(groupingBlockName,clientIds?.length?getBlockRootClientId(clientIds[0]):void 0),blocksSelection=getBlocksByClientId(clientIds),isSingleBlockSelected=1===blocksSelection.length,[firstSelectedBlock]=blocksSelection,isUngroupable=isSingleBlockSelected&&(firstSelectedBlock.name===groupingBlockName||getBlockType(firstSelectedBlock.name)?.transforms?.ungroup)&&!!firstSelectedBlock.innerBlocks.length;return{clientIds,isGroupable:groupingBlockAvailable&&blocksSelection.length,isUngroupable,blocksSelection,groupingBlockName,onUngroup:isUngroupable&&getBlockType(firstSelectedBlock.name)?.transforms?.ungroup}}),[selectedClientIds])}function useBlockLock(clientId){return(0,use_select.Z)((select=>{const{canEditBlock,canMoveBlock,canRemoveBlock,canLockBlockType,getBlockName,getBlockRootClientId,getTemplateLock}=select(store),rootClientId=getBlockRootClientId(clientId),canEdit=canEditBlock(clientId),canMove=canMoveBlock(clientId,rootClientId),canRemove=canRemoveBlock(clientId,rootClientId);return{canEdit,canMove,canRemove,canLock:canLockBlockType(getBlockName(clientId)),isContentLocked:"contentOnly"===getTemplateLock(clientId),isLocked:!canEdit||!canMove||!canRemove}}),[clientId])}var library_unlock=__webpack_require__("./packages/icons/build-module/library/unlock.js"),lock_outline=__webpack_require__("./packages/icons/build-module/library/lock-outline.js"),checkbox_control=__webpack_require__("./packages/components/build-module/checkbox-control/index.js"),library_lock=__webpack_require__("./packages/icons/build-module/library/lock.js");const ALLOWS_EDIT_LOCKING=["core/block","core/navigation"];function getTemplateLockValue(lock){return lock.remove&&lock.move?"all":!(!lock.remove||lock.move)&&"insert"}function BlockLockModal({clientId,onClose}){const[lock,setLock]=(0,react.useState)({move:!1,remove:!1}),{canEdit,canMove,canRemove}=useBlockLock(clientId),{allowsEditLocking,templateLock,hasTemplateLock}=(0,use_select.Z)((select=>{const{getBlockName,getBlockAttributes}=select(store),blockName=getBlockName(clientId),blockType=(0,build_module.ck)(blockName);return{allowsEditLocking:ALLOWS_EDIT_LOCKING.includes(blockName),templateLock:getBlockAttributes(clientId)?.templateLock,hasTemplateLock:!!blockType?.attributes?.templateLock}}),[clientId]),[applyTemplateLock,setApplyTemplateLock]=(0,react.useState)(!!templateLock),{updateBlockAttributes}=(0,use_dispatch.Z)(store),blockInformation=useBlockDisplayInformation(clientId),instanceId=(0,use_instance_id.Z)(BlockLockModal,"block-editor-block-lock-modal__options-title");(0,react.useEffect)((()=>{setLock({move:!canMove,remove:!canRemove,...allowsEditLocking?{edit:!canEdit}:{}})}),[canEdit,canMove,canRemove,allowsEditLocking]);const isAllChecked=Object.values(lock).every(Boolean),isMixed=Object.values(lock).some(Boolean)&&!isAllChecked;return(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Lock %s"),blockInformation.title),overlayClassName:"block-editor-block-lock-modal",onRequestClose:onClose},(0,react.createElement)("p",null,(0,i18n_build_module.__)("Choose specific attributes to restrict or lock all available options.")),(0,react.createElement)("form",{onSubmit:event=>{event.preventDefault(),updateBlockAttributes([clientId],{lock,templateLock:applyTemplateLock?getTemplateLockValue(lock):void 0}),onClose()}},(0,react.createElement)("div",{role:"group","aria-labelledby":instanceId,className:"block-editor-block-lock-modal__options"},(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,className:"block-editor-block-lock-modal__options-title",label:(0,react.createElement)("span",{id:instanceId},(0,i18n_build_module.__)("Lock all")),checked:isAllChecked,indeterminate:isMixed,onChange:newValue=>setLock({move:newValue,remove:newValue,...allowsEditLocking?{edit:newValue}:{}})}),(0,react.createElement)("ul",{className:"block-editor-block-lock-modal__checklist"},allowsEditLocking&&(0,react.createElement)("li",{className:"block-editor-block-lock-modal__checklist-item"},(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Restrict editing"),checked:!!lock.edit,onChange:edit=>setLock((prevLock=>({...prevLock,edit})))}),(0,react.createElement)(components_build_module_icon.Z,{className:"block-editor-block-lock-modal__lock-icon",icon:lock.edit?library_lock.Z:library_unlock.Z})),(0,react.createElement)("li",{className:"block-editor-block-lock-modal__checklist-item"},(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Disable movement"),checked:lock.move,onChange:move=>setLock((prevLock=>({...prevLock,move})))}),(0,react.createElement)(components_build_module_icon.Z,{className:"block-editor-block-lock-modal__lock-icon",icon:lock.move?library_lock.Z:library_unlock.Z})),(0,react.createElement)("li",{className:"block-editor-block-lock-modal__checklist-item"},(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Prevent removal"),checked:lock.remove,onChange:remove=>setLock((prevLock=>({...prevLock,remove})))}),(0,react.createElement)(components_build_module_icon.Z,{className:"block-editor-block-lock-modal__lock-icon",icon:lock.remove?library_lock.Z:library_unlock.Z}))),hasTemplateLock&&(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-block-lock-modal__template-lock",label:(0,i18n_build_module.__)("Apply to all blocks inside"),checked:applyTemplateLock,disabled:lock.move&&!lock.remove,onChange:()=>setApplyTemplateLock(!applyTemplateLock)})),(0,react.createElement)(component.Z,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:!1},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:onClose},(0,i18n_build_module.__)("Cancel"))),(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{variant:"primary",type:"submit"},(0,i18n_build_module.__)("Apply"))))))}function BlockLockMenuItem({clientId}){const{canLock,isLocked}=useBlockLock(clientId),[isModalOpen,toggleModal]=(0,react.useReducer)((isActive=>!isActive),!1);if(!canLock)return null;const label=isLocked?(0,i18n_build_module.__)("Unlock"):(0,i18n_build_module.__)("Lock");return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_item.Z,{icon:isLocked?library_unlock.Z:lock_outline.Z,onClick:toggleModal},label),isModalOpen&&(0,react.createElement)(BlockLockModal,{clientId,onClose:toggleModal}))}const block_mode_toggle_noop=()=>{};const block_mode_toggle=(0,compose.Z)([(0,with_select.Z)(((select,{clientId})=>{const{getBlock,getBlockMode,getSettings}=select(store),block=getBlock(clientId),isCodeEditingEnabled=getSettings().codeEditingEnabled;return{mode:getBlockMode(clientId),blockType:block?(0,build_module.ck)(block.name):null,isCodeEditingEnabled}})),(0,with_dispatch.Z)(((dispatch,{onToggle=block_mode_toggle_noop,clientId})=>({onToggleMode(){dispatch(store).toggleBlockMode(clientId),onToggle()}})))])((function BlockModeToggle({blockType,mode,onToggleMode,small=!1,isCodeEditingEnabled=!0}){if(!blockType||!(0,build_module.zb)(blockType,"html",!0)||!isCodeEditingEnabled)return null;const label="visual"===mode?(0,i18n_build_module.__)("Edit as HTML"):(0,i18n_build_module.__)("Edit visually");return(0,react.createElement)(menu_item.Z,{onClick:onToggleMode},!small&&label)})),{Fill,Slot:block_settings_menu_controls_Slot}=(0,slot_fill.up)("BlockSettingsMenuControls");function BlockSettingsMenuControls({...props}){return(0,react.createElement)(style_provider.Z,{document},(0,react.createElement)(Fill,props))}BlockSettingsMenuControls.Slot=({fillProps,clientIds=null,__unstableDisplayLocation})=>{const{selectedBlocks,selectedClientIds,canRemove}=(0,use_select.Z)((select=>{const{getBlockNamesByClientId,getSelectedBlockClientIds,canRemoveBlocks}=select(store),ids=null!==clientIds?clientIds:getSelectedBlockClientIds();return{selectedBlocks:getBlockNamesByClientId(ids),selectedClientIds:ids,canRemove:canRemoveBlocks(ids)}}),[clientIds]),{canLock}=useBlockLock(selectedClientIds[0]),showLockButton=1===selectedClientIds.length&&canLock,convertToGroupButtonProps=useConvertToGroupButtonProps(selectedClientIds),{isGroupable,isUngroupable}=convertToGroupButtonProps,showConvertToGroupButton=(isGroupable||isUngroupable)&&canRemove;return(0,react.createElement)(block_settings_menu_controls_Slot,{fillProps:{...fillProps,__unstableDisplayLocation,selectedBlocks,selectedClientIds}},(fills=>!fills?.length>0&&!showConvertToGroupButton&&!showLockButton?null:(0,react.createElement)(menu_group.Z,null,showConvertToGroupButton&&(0,react.createElement)(ConvertToGroupButton,(0,esm_extends.Z)({},convertToGroupButtonProps,{onClose:fillProps?.onClose})),showLockButton&&(0,react.createElement)(BlockLockMenuItem,{clientId:selectedClientIds[0]}),fills,fillProps?.canMove&&!fillProps?.onlyBlock&&(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(fillProps?.onClose,fillProps?.onMoveTo)},(0,i18n_build_module.__)("Move to")),1===fillProps?.count&&(0,react.createElement)(block_mode_toggle,{clientId:fillProps?.firstBlockClientId,onToggle:fillProps?.onClose}))))};const block_settings_menu_controls=BlockSettingsMenuControls,block_settings_dropdown_POPOVER_PROPS={className:"block-editor-block-settings-menu__popover",placement:"bottom-start"};function CopyMenuItem({blocks,onCopy,label}){const ref=(0,use_copy_to_clipboard.Z)((()=>(0,build_module.qC)(blocks)),onCopy),copyMenuItemBlocksLabel=blocks.length>1?(0,i18n_build_module.__)("Copy blocks"):(0,i18n_build_module.__)("Copy block"),copyMenuItemLabel=label||copyMenuItemBlocksLabel;return(0,react.createElement)(menu_item.Z,{ref},copyMenuItemLabel)}function BlockSettingsDropdown({clientIds,__experimentalSelectBlock,children,__unstableDisplayLocation,...props}){const blockClientIds=Array.isArray(clientIds)?clientIds:[clientIds],count=blockClientIds.length,firstBlockClientId=blockClientIds[0],{firstParentClientId,isDistractionFree,onlyBlock,parentBlockType,previousBlockClientId,selectedBlockClientIds}=(0,use_select.Z)((select=>{const{getBlockCount,getBlockName,getBlockRootClientId,getPreviousBlockClientId,getSelectedBlockClientIds,getSettings,getBlockAttributes}=select(store),{getActiveBlockVariation}=select(build_module.h),_firstParentClientId=getBlockRootClientId(firstBlockClientId),parentBlockName=_firstParentClientId&&getBlockName(_firstParentClientId);return{firstParentClientId:_firstParentClientId,isDistractionFree:getSettings().isDistractionFree,onlyBlock:1===getBlockCount(_firstParentClientId),parentBlockType:_firstParentClientId&&(getActiveBlockVariation(parentBlockName,getBlockAttributes(_firstParentClientId))||(0,build_module.ck)(parentBlockName)),previousBlockClientId:getPreviousBlockClientId(firstBlockClientId),selectedBlockClientIds:getSelectedBlockClientIds()}}),[firstBlockClientId]),{getBlockOrder,getSelectedBlockClientIds}=(0,use_select.Z)(store),shortcuts=(0,use_select.Z)((select=>{const{getShortcutRepresentation}=select(keyboard_shortcuts_build_module.h);return{duplicate:getShortcutRepresentation("core/block-editor/duplicate"),remove:getShortcutRepresentation("core/block-editor/remove"),insertAfter:getShortcutRepresentation("core/block-editor/insert-after"),insertBefore:getShortcutRepresentation("core/block-editor/insert-before")}}),[]),isMatch=(0,keyboard_shortcuts_build_module.sx)(),{selectBlock,toggleBlockHighlight}=(0,use_dispatch.Z)(store),hasSelectedBlocks=selectedBlockClientIds.length>0,updateSelectionAfterDuplicate=(0,react.useCallback)((async clientIdsPromise=>{if(__experimentalSelectBlock){const ids=await clientIdsPromise;ids&&ids[0]&&__experimentalSelectBlock(ids[0],!1)}}),[__experimentalSelectBlock]),updateSelectionAfterRemove=(0,react.useCallback)((()=>{if(__experimentalSelectBlock){let blockToFocus=previousBlockClientId||firstParentClientId;blockToFocus||(blockToFocus=getBlockOrder()[0]);const shouldUpdateSelection=hasSelectedBlocks&&0===getSelectedBlockClientIds().length;__experimentalSelectBlock(blockToFocus,shouldUpdateSelection)}}),[__experimentalSelectBlock,previousBlockClientId,firstParentClientId,getBlockOrder,hasSelectedBlocks,getSelectedBlockClientIds]),removeBlockLabel=1===count?(0,i18n_build_module.__)("Delete"):(0,i18n_build_module.__)("Delete blocks"),selectParentButtonRef=(0,react.useRef)(),{gestures:showParentOutlineGestures}=useShowMoversGestures({ref:selectParentButtonRef,onChange(isFocused){isFocused&&isDistractionFree||toggleBlockHighlight(firstParentClientId,isFocused)}}),parentBlockIsSelected=selectedBlockClientIds?.includes(firstParentClientId);return(0,react.createElement)(BlockActions,{clientIds,__experimentalUpdateSelection:!__experimentalSelectBlock},(({canDuplicate,canInsertDefaultBlock,canMove,canRemove,onDuplicate,onInsertAfter,onInsertBefore,onRemove,onCopy,onPasteStyles,onMoveTo,blocks})=>(0,react.createElement)(dropdown_menu.Z,(0,esm_extends.Z)({icon:more_vertical.Z,label:(0,i18n_build_module.__)("Options"),className:"block-editor-block-settings-menu",popoverProps:block_settings_dropdown_POPOVER_PROPS,noIcons:!0,menuProps:{onKeyDown(event){event.defaultPrevented||(isMatch("core/block-editor/remove",event)&&canRemove?(event.preventDefault(),updateSelectionAfterRemove(onRemove())):isMatch("core/block-editor/duplicate",event)&&canDuplicate?(event.preventDefault(),updateSelectionAfterDuplicate(onDuplicate())):isMatch("core/block-editor/insert-after",event)&&canInsertDefaultBlock?(event.preventDefault(),onInsertAfter()):isMatch("core/block-editor/insert-before",event)&&canInsertDefaultBlock&&(event.preventDefault(),onInsertBefore()))}}},props),(({onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(block_settings_menu_first_item.Slot,{fillProps:{onClose}}),!parentBlockIsSelected&&!!firstParentClientId&&(0,react.createElement)(menu_item.Z,(0,esm_extends.Z)({},showParentOutlineGestures,{ref:selectParentButtonRef,icon:(0,react.createElement)(block_icon,{icon:parentBlockType.icon}),onClick:()=>selectBlock(firstParentClientId)}),(0,i18n_build_module.gB)((0,i18n_build_module.__)("Select parent block (%s)"),parentBlockType.title)),1===count&&(0,react.createElement)(block_html_convert_button,{clientId:firstBlockClientId}),(0,react.createElement)(CopyMenuItem,{blocks,onCopy}),canDuplicate&&(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(onClose,onDuplicate,updateSelectionAfterDuplicate),shortcut:shortcuts.duplicate},(0,i18n_build_module.__)("Duplicate")),canInsertDefaultBlock&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(onClose,onInsertBefore),shortcut:shortcuts.insertBefore},(0,i18n_build_module.__)("Add before")),(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(onClose,onInsertAfter),shortcut:shortcuts.insertAfter},(0,i18n_build_module.__)("Add after")))),(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(CopyMenuItem,{blocks,onCopy,label:(0,i18n_build_module.__)("Copy styles")}),(0,react.createElement)(menu_item.Z,{onClick:onPasteStyles},(0,i18n_build_module.__)("Paste styles"))),(0,react.createElement)(block_settings_menu_controls.Slot,{fillProps:{onClose,canMove,onMoveTo,onlyBlock,count,firstBlockClientId},clientIds,__unstableDisplayLocation}),"function"==typeof children?children({onClose}):react.Children.map((child=>(0,react.cloneElement)(child,{onClose}))),canRemove&&(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(onClose,onRemove,updateSelectionAfterRemove),shortcut:shortcuts.remove},removeBlockLabel)))))))}const block_settings_dropdown=BlockSettingsDropdown;const block_settings_menu=function BlockSettingsMenu({clientIds,...props}){return(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_item.Z,null,(toggleProps=>(0,react.createElement)(block_settings_dropdown,(0,esm_extends.Z)({clientIds,toggleProps},props)))))};function BlockLockToolbar({clientId}){const{canEdit,canMove,canRemove,canLock}=useBlockLock(clientId),[isModalOpen,toggleModal]=(0,react.useReducer)((isActive=>!isActive),!1);return canLock?canEdit&&canMove&&canRemove?null:(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toolbar_group.Z,{className:"block-editor-block-lock-toolbar"},(0,react.createElement)(toolbar_button.Z,{icon:library_lock.Z,label:(0,i18n_build_module.__)("Unlock"),onClick:toggleModal})),isModalOpen&&(0,react.createElement)(BlockLockModal,{clientId,onClose:toggleModal})):null}var library_group=__webpack_require__("./packages/icons/build-module/library/group.js"),row=__webpack_require__("./packages/icons/build-module/library/row.js"),stack=__webpack_require__("./packages/icons/build-module/library/stack.js");const layouts={group:{type:"constrained"},row:{type:"flex",flexWrap:"nowrap"},stack:{type:"flex",orientation:"vertical"}};const convert_to_group_buttons_toolbar=function BlockGroupToolbar(){const{blocksSelection,clientIds,groupingBlockName,isGroupable}=useConvertToGroupButtonProps(),{replaceBlocks}=(0,use_dispatch.Z)(store),{canRemove,variations}=(0,use_select.Z)((select=>{const{canRemoveBlocks}=select(store),{getBlockVariations}=select(build_module.h);return{canRemove:canRemoveBlocks(clientIds),variations:getBlockVariations(groupingBlockName,"transform")}}),[clientIds,groupingBlockName]),onConvertToGroup=layout=>{const newBlocks=(0,build_module.m4)(blocksSelection,groupingBlockName);"string"!=typeof layout&&(layout="group"),newBlocks&&newBlocks.length>0&&(newBlocks[0].attributes.layout=layouts[layout],replaceBlocks(clientIds,newBlocks))};if(!isGroupable||!canRemove)return null;const canInsertRow=!!variations.find((({name})=>"group-row"===name)),canInsertStack=!!variations.find((({name})=>"group-stack"===name));return(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_button.Z,{icon:library_group.Z,label:(0,i18n_build_module._x)("Group","verb"),onClick:onConvertToGroup}),canInsertRow&&(0,react.createElement)(toolbar_button.Z,{icon:row.Z,label:(0,i18n_build_module._x)("Row","single horizontal line"),onClick:()=>onConvertToGroup("row")}),canInsertStack&&(0,react.createElement)(toolbar_button.Z,{icon:stack.Z,label:(0,i18n_build_module._x)("Stack","verb"),onClick:()=>onConvertToGroup("stack")}))};function BlockEditVisuallyButton({clientIds}){const clientId=1===clientIds.length?clientIds[0]:void 0,canEditVisually=(0,use_select.Z)((select=>!!clientId&&"html"===select(store).getBlockMode(clientId)),[clientId]),{toggleBlockMode}=(0,use_dispatch.Z)(store);return canEditVisually?(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_button.Z,{onClick:()=>{toggleBlockMode(clientId)}},(0,i18n_build_module.__)("Edit visually"))):null}const block_name_context=(0,react.createContext)(""),block_toolbar=({hideDragHandle})=>{const{blockClientIds,blockClientId,blockType,hasFixedToolbar,isDistractionFree,isValid,isVisual,blockEditingMode}=(0,use_select.Z)((select=>{const{getBlockName,getBlockMode,getSelectedBlockClientIds,isBlockValid,getBlockRootClientId,getSettings,getBlockEditingMode}=unlock(select(store)),selectedBlockClientIds=getSelectedBlockClientIds(),selectedBlockClientId=selectedBlockClientIds[0],blockRootClientId=getBlockRootClientId(selectedBlockClientId),settings=getSettings();return{blockClientIds:selectedBlockClientIds,blockClientId:selectedBlockClientId,blockType:selectedBlockClientId&&(0,build_module.ck)(getBlockName(selectedBlockClientId)),hasFixedToolbar:settings.hasFixedToolbar,isDistractionFree:settings.isDistractionFree,rootClientId:blockRootClientId,isValid:selectedBlockClientIds.every((id=>isBlockValid(id))),isVisual:selectedBlockClientIds.every((id=>"visual"===getBlockMode(id))),blockEditingMode:getBlockEditingMode(selectedBlockClientId)}}),[]),{toggleBlockHighlight}=(0,use_dispatch.Z)(store),nodeRef=(0,react.useRef)(),{showMovers,gestures:showMoversGestures}=useShowMoversGestures({ref:nodeRef,onChange(isFocused){isFocused&&isDistractionFree||toggleBlockHighlight(blockClientId,isFocused)}}),displayHeaderToolbar=(0,use_viewport_match.Z)("medium","<")||hasFixedToolbar,isLargeViewport=!(0,use_viewport_match.Z)("medium","<");if(blockType&&!(0,build_module.zb)(blockType,"__experimentalToolbar",!0))return null;const shouldShowMovers=displayHeaderToolbar||showMovers;if(0===blockClientIds.length)return null;const shouldShowVisualToolbar=isValid&&isVisual,isMultiToolbar=blockClientIds.length>1,isSynced=(0,build_module.vr)(blockType)||(0,build_module.zQ)(blockType),classes=classnames_default()("block-editor-block-toolbar",{"is-showing-movers":shouldShowMovers,"is-synced":isSynced});return(0,react.createElement)("div",{className:classes},!isMultiToolbar&&isLargeViewport&&"default"===blockEditingMode&&(0,react.createElement)(BlockParentSelector,null),(0,react.createElement)("div",(0,esm_extends.Z)({ref:nodeRef},showMoversGestures),(shouldShowVisualToolbar||isMultiToolbar)&&"default"===blockEditingMode&&(0,react.createElement)(toolbar_group.Z,{className:"block-editor-block-toolbar__block-controls"},(0,react.createElement)(block_switcher,{clientIds:blockClientIds}),!isMultiToolbar&&(0,react.createElement)(BlockLockToolbar,{clientId:blockClientIds[0]}),(0,react.createElement)(block_mover,{clientIds:blockClientIds,hideDragHandle}))),shouldShowVisualToolbar&&isMultiToolbar&&(0,react.createElement)(convert_to_group_buttons_toolbar,null),shouldShowVisualToolbar&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_controls.Slot,{group:"parent",className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_controls.Slot,{group:"block",className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_controls.Slot,{className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_controls.Slot,{group:"inline",className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_controls.Slot,{group:"other",className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_name_context.Provider,{value:blockType?.name},(0,react.createElement)(block_toolbar_last_item.Slot,null))),(0,react.createElement)(BlockEditVisuallyButton,{clientIds:blockClientIds}),"default"===blockEditingMode&&(0,react.createElement)(block_settings_menu,{clientIds:blockClientIds}))};const block_contextual_toolbar=function BlockContextualToolbar({focusOnMount,isFixed,...props}){const[isCollapsed,setIsCollapsed]=(0,react.useState)(!1),toolbarButtonRef=(0,react.useRef)(),isLargeViewport=(0,use_viewport_match.Z)("medium"),{blockType,hasParents,showParentSelector,selectedBlockClientId}=(0,use_select.Z)((select=>{const{getBlockName,getBlockParents,getSelectedBlockClientIds,getBlockEditingMode}=unlock(select(store)),{getBlockType}=select(build_module.h),selectedBlockClientIds=getSelectedBlockClientIds(),_selectedBlockClientId=selectedBlockClientIds[0],parents=getBlockParents(_selectedBlockClientId),parentBlockType=getBlockType(getBlockName(parents[parents.length-1]));return{selectedBlockClientId:_selectedBlockClientId,blockType:_selectedBlockClientId&&getBlockType(getBlockName(_selectedBlockClientId)),hasParents:parents.length,showParentSelector:parentBlockType&&(0,build_module.zb)(parentBlockType,"__experimentalParentSelector",!0)&&selectedBlockClientIds.length<=1&&"default"===getBlockEditingMode(_selectedBlockClientId)}}),[]);if((0,react.useEffect)((()=>{setIsCollapsed(!1)}),[selectedBlockClientId]),blockType&&!(0,build_module.zb)(blockType,"__experimentalToolbar",!0))return null;const classes=classnames_default()("block-editor-block-contextual-toolbar",{"has-parent":hasParents&&showParentSelector,"is-fixed":isFixed,"is-collapsed":isCollapsed});return(0,react.createElement)(navigable_toolbar,(0,esm_extends.Z)({focusOnMount,className:classes,"aria-label":(0,i18n_build_module.__)("Block tools")},props),isFixed&&isLargeViewport&&blockType&&(0,react.createElement)(toolbar_group.Z,{className:isCollapsed?"block-editor-block-toolbar__group-expand-fixed-toolbar":"block-editor-block-toolbar__group-collapse-fixed-toolbar"},(0,react.createElement)(toolbar_item.Z,{as:toolbar_button.Z,ref:toolbarButtonRef,icon:isCollapsed?(0,react.createElement)(block_icon,{icon:blockType.icon}):level_up.Z,onClick:()=>{setIsCollapsed((collapsed=>!collapsed)),toolbarButtonRef.current.focus()},label:isCollapsed?(0,i18n_build_module.__)("Show block tools"):(0,i18n_build_module.__)("Show document tools")})),!isCollapsed&&(0,react.createElement)(block_toolbar,{hideDragHandle:isFixed}))},{CustomSelectControl}=unlock(private_apis.YH),POSITION_SUPPORT_KEY="position",OPTION_CLASSNAME="block-editor-hooks__position-selection__select-control__option",DEFAULT_OPTION={key:"default",value:"",name:(0,i18n_build_module.__)("Default"),className:OPTION_CLASSNAME},STICKY_OPTION={key:"sticky",value:"sticky",name:(0,i18n_build_module._x)("Sticky","Name for the value of the CSS position property"),className:OPTION_CLASSNAME,__experimentalHint:(0,i18n_build_module.__)("The block will stick to the top of the window instead of scrolling.")},FIXED_OPTION={key:"fixed",value:"fixed",name:(0,i18n_build_module._x)("Fixed","Name for the value of the CSS position property"),className:OPTION_CLASSNAME,__experimentalHint:(0,i18n_build_module.__)("The block will not move when the page is scrolled.")},POSITION_SIDES=["top","right","bottom","left"],VALID_POSITION_TYPES=["sticky","fixed"];function hasStickyOrFixedPositionValue(attributes){const positionType=attributes.style?.position?.type;return"sticky"===positionType||"fixed"===positionType}function useIsPositionDisabled({name:blockName}={}){const allowFixed=use_setting_useSetting("position.fixed"),allowSticky=use_setting_useSetting("position.sticky"),isDisabled=!allowFixed&&!allowSticky;return!function hasPositionSupport(blockType){return!!(0,build_module.Dx)(blockType,POSITION_SUPPORT_KEY)}(blockName)||isDisabled}function PositionPanel(props){const{attributes:{style={}},clientId,name:blockName,setAttributes}=props,allowFixed=function hasFixedPositionSupport(blockType){const support=(0,build_module.Dx)(blockType,POSITION_SUPPORT_KEY);return!(!0!==support&&!support?.fixed)}(blockName),allowSticky=function hasStickyPositionSupport(blockType){const support=(0,build_module.Dx)(blockType,POSITION_SUPPORT_KEY);return!(!0!==support&&!support?.sticky)}(blockName),value=style?.position?.type,{hasParents}=(0,use_select.Z)((select=>{const{getBlockParents}=select(store);return{hasParents:getBlockParents(clientId).length}}),[clientId]),options=(0,react.useMemo)((()=>{const availableOptions=[DEFAULT_OPTION];return(allowSticky&&!hasParents||value===STICKY_OPTION.value)&&availableOptions.push(STICKY_OPTION),(allowFixed||value===FIXED_OPTION.value)&&availableOptions.push(FIXED_OPTION),availableOptions}),[allowFixed,allowSticky,hasParents,value]),selectedOption=value&&options.find((option=>option.value===value))||DEFAULT_OPTION;return platform.Z.select({web:options.length>1?(0,react.createElement)(inspector_controls,{group:"position"},(0,react.createElement)(base_control.ZP,{className:"block-editor-hooks__position-selection"},(0,react.createElement)(CustomSelectControl,{__nextUnconstrainedWidth:!0,__next36pxDefaultSize:!0,className:"block-editor-hooks__position-selection__select-control",label:(0,i18n_build_module.__)("Position"),hideLabelFromVision:!0,describedBy:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected position: %s"),selectedOption.name),options,value:selectedOption,__experimentalShowSelectedHint:!0,onChange:({selectedItem})=>{(next=>{const newStyle={...style,position:{...style?.position,type:next,top:"sticky"===next||"fixed"===next?"0px":void 0}};setAttributes({style:utils_cleanEmptyObject(newStyle)})})(selectedItem.value)},size:"__unstable-large"}))):null,native:null})}const withInspectorControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const{name:blockName}=props;return[(0,build_module.zb)(blockName,POSITION_SUPPORT_KEY)&&!useIsPositionDisabled(props)&&(0,react.createElement)(PositionPanel,(0,esm_extends.Z)({key:"position"},props)),(0,react.createElement)(BlockEdit,(0,esm_extends.Z)({key:"edit"},props))]}),"withInspectorControls"),withPositionStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const{name,attributes}=props,allowPositionStyles=(0,build_module.zb)(name,POSITION_SUPPORT_KEY)&&!useIsPositionDisabled(props),id=(0,use_instance_id.Z)(BlockListBlock),element=(0,react.useContext)(BlockList.__unstableElementContext);let css;allowPositionStyles&&(css=function getPositionCSS({selector,style}){let output="";const{type:positionType}=style?.position||{};return VALID_POSITION_TYPES.includes(positionType)?(output+=`${selector} {`,output+=`position: ${positionType};`,POSITION_SIDES.forEach((side=>{void 0!==style?.position?.[side]&&(output+=`${side}: ${style.position[side]};`)})),"sticky"!==positionType&&"fixed"!==positionType||(output+="z-index: 10"),output+="}",output):output}({selector:`.wp-container-${id}.wp-container-${id}`,style:attributes?.style})||"");const className=classnames_default()(props?.className,{[`wp-container-${id}`]:allowPositionStyles&&!!css,[`is-position-${attributes?.style?.position?.type}`]:allowPositionStyles&&!!css&&!!attributes?.style?.position?.type});return(0,react.createElement)(react.Fragment,null,allowPositionStyles&&element&&!!css&&(0,react_dom.createPortal)((0,react.createElement)("style",null,css),element),(0,react.createElement)(BlockListBlock,(0,esm_extends.Z)({},props,{className})))}),"withPositionStyles");(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/position/with-position-styles",withPositionStyles),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/position/with-inspector-controls",withInspectorControls);const COMMON_PROPS={placement:"top-start"},DEFAULT_PROPS={...COMMON_PROPS,flip:!1,shift:!0},RESTRICTED_HEIGHT_PROPS={...COMMON_PROPS,flip:!0,shift:!1};function getProps(contentElement,selectedBlockElement,scrollContainer,toolbarHeight,isSticky){if(!contentElement||!selectedBlockElement)return DEFAULT_PROPS;const scrollTop=scrollContainer?.scrollTop||0,blockRect=selectedBlockElement.getBoundingClientRect(),topOfContentElementInViewport=scrollTop+contentElement.getBoundingClientRect().top,viewportHeight=contentElement.ownerDocument.documentElement.clientHeight,restrictedTopArea=topOfContentElementInViewport+toolbarHeight,hasSpaceForToolbarAbove=blockRect.top>restrictedTopArea,isBlockTallerThanViewport=blockRect.height>viewportHeight-toolbarHeight;return isSticky||!hasSpaceForToolbarAbove&&!isBlockTallerThanViewport?RESTRICTED_HEIGHT_PROPS:DEFAULT_PROPS}function useShouldContextualToolbarShow(){const isLargeViewport=(0,use_viewport_match.Z)("medium"),{shouldShowContextualToolbar,canFocusHiddenToolbar,fixedToolbarCanBeFocused}=(0,use_select.Z)((select=>{const{__unstableGetEditorMode,isMultiSelecting,isTyping,isBlockInterfaceHidden,getBlock,getSettings,isNavigationMode,getSelectedBlockClientId,getFirstMultiSelectedBlockClientId}=unlock(select(store)),isEditMode="edit"===__unstableGetEditorMode(),hasFixedToolbar=getSettings().hasFixedToolbar,isDistractionFree=getSettings().isDistractionFree,selectedBlockId=getFirstMultiSelectedBlockClientId()||getSelectedBlockClientId(),hasSelectedBlockId=!!selectedBlockId,isEmptyDefaultBlock=(0,build_module.ZP)(getBlock(selectedBlockId)||{}),_shouldShowContextualToolbar=isEditMode&&!hasFixedToolbar&&(!isDistractionFree||isNavigationMode())&&isLargeViewport&&!isMultiSelecting()&&!isTyping()&&hasSelectedBlockId&&!isEmptyDefaultBlock&&!isBlockInterfaceHidden();return{shouldShowContextualToolbar:_shouldShowContextualToolbar,canFocusHiddenToolbar:isEditMode&&hasSelectedBlockId&&!_shouldShowContextualToolbar&&!hasFixedToolbar&&!isDistractionFree&&!isEmptyDefaultBlock,fixedToolbarCanBeFocused:(hasFixedToolbar||!isLargeViewport)&&selectedBlockId}}),[isLargeViewport]);return{shouldShowContextualToolbar,canFocusHiddenToolbar,fixedToolbarCanBeFocused}}function selected_block_popover_selector(select){const{__unstableGetEditorMode,hasMultiSelection,isTyping,getLastMultiSelectedBlockClientId}=select(store);return{editorMode:__unstableGetEditorMode(),hasMultiSelection:hasMultiSelection(),isTyping:isTyping(),lastClientId:hasMultiSelection()?getLastMultiSelectedBlockClientId():null}}function SelectedBlockPopover({clientId,rootClientId,isEmptyDefaultBlock,capturingClientId,__unstablePopoverSlot,__unstableContentRef}){const{editorMode,hasMultiSelection,isTyping,lastClientId}=(0,use_select.Z)(selected_block_popover_selector,[]),isInsertionPointVisible=(0,use_select.Z)((select=>{const{isBlockInsertionPointVisible,getBlockInsertionPoint,getBlockOrder}=select(store);if(!isBlockInsertionPointVisible())return!1;const insertionPoint=getBlockInsertionPoint();return getBlockOrder(insertionPoint.rootClientId)[insertionPoint.index]===clientId}),[clientId]),isToolbarForced=(0,react.useRef)(!1),{shouldShowContextualToolbar,canFocusHiddenToolbar}=useShouldContextualToolbarShow(),{stopTyping}=(0,use_dispatch.Z)(store),showEmptyBlockSideInserter=!isTyping&&"edit"===editorMode&&isEmptyDefaultBlock,shouldShowBreadcrumb=!hasMultiSelection&&("navigation"===editorMode||"zoom-out"===editorMode);(0,keyboard_shortcuts_build_module.bx)("core/block-editor/focus-toolbar",(()=>{isToolbarForced.current=!0,stopTyping(!0)}),{isDisabled:!canFocusHiddenToolbar}),(0,react.useEffect)((()=>{isToolbarForced.current=!1}));const initialToolbarItemIndexRef=(0,react.useRef)();(0,react.useEffect)((()=>{initialToolbarItemIndexRef.current=void 0}),[clientId]);const popoverProps=function useBlockToolbarPopoverProps({contentElement,clientId}){const selectedBlockElement=useBlockElement(clientId),[toolbarHeight,setToolbarHeight]=(0,react.useState)(0),{blockIndex,isSticky}=(0,use_select.Z)((select=>{const{getBlockIndex,getBlockAttributes}=select(store);return{blockIndex:getBlockIndex(clientId),isSticky:hasStickyOrFixedPositionValue(getBlockAttributes(clientId))}}),[clientId]),scrollContainer=(0,react.useMemo)((()=>{if(contentElement)return(0,get_scroll_container.Z)(contentElement)}),[contentElement]),[props,setProps]=(0,react.useState)((()=>getProps(contentElement,selectedBlockElement,scrollContainer,toolbarHeight,isSticky))),popoverRef=(0,use_ref_effect.Z)((popoverNode=>{setToolbarHeight(popoverNode.offsetHeight)}),[]),updateProps=(0,react.useCallback)((()=>setProps(getProps(contentElement,selectedBlockElement,scrollContainer,toolbarHeight,isSticky))),[contentElement,selectedBlockElement,scrollContainer,toolbarHeight]);return(0,react.useLayoutEffect)(updateProps,[blockIndex,updateProps]),(0,react.useLayoutEffect)((()=>{if(!contentElement||!selectedBlockElement)return;const contentView=contentElement?.ownerDocument?.defaultView;let resizeObserver;contentView?.addEventHandler?.("resize",updateProps);const blockView=selectedBlockElement?.ownerDocument?.defaultView;return blockView.ResizeObserver&&(resizeObserver=new blockView.ResizeObserver(updateProps),resizeObserver.observe(selectedBlockElement)),()=>{contentView?.removeEventHandler?.("resize",updateProps),resizeObserver&&resizeObserver.disconnect()}}),[updateProps,contentElement,selectedBlockElement]),{...props,ref:popoverRef}}({contentElement:__unstableContentRef?.current,clientId});return showEmptyBlockSideInserter?(0,react.createElement)(block_popover,(0,esm_extends.Z)({clientId:capturingClientId||clientId,__unstableCoverTarget:!0,bottomClientId:lastClientId,className:classnames_default()("block-editor-block-list__block-side-inserter-popover",{"is-insertion-point-visible":isInsertionPointVisible}),__unstablePopoverSlot,__unstableContentRef,resize:!1,shift:!1},popoverProps),(0,react.createElement)("div",{className:"block-editor-block-list__empty-block-inserter"},(0,react.createElement)(inserter,{position:"bottom right",rootClientId,clientId,__experimentalIsQuick:!0}))):shouldShowBreadcrumb||shouldShowContextualToolbar?(0,react.createElement)(block_popover,(0,esm_extends.Z)({clientId:capturingClientId||clientId,bottomClientId:lastClientId,className:classnames_default()("block-editor-block-list__block-popover",{"is-insertion-point-visible":isInsertionPointVisible}),__unstablePopoverSlot,__unstableContentRef,resize:!1},popoverProps),shouldShowContextualToolbar&&(0,react.createElement)(block_contextual_toolbar,{focusOnMount:isToolbarForced.current,__experimentalInitialIndex:initialToolbarItemIndexRef.current,__experimentalOnIndexChange:index=>{initialToolbarItemIndexRef.current=index},key:clientId}),shouldShowBreadcrumb&&(0,react.createElement)(block_selection_button,{clientId,rootClientId})):null}function wrapperSelector(select){const{getSelectedBlockClientId,getFirstMultiSelectedBlockClientId,getBlockRootClientId,getBlock,getBlockParents,__experimentalGetBlockListSettingsForBlocks}=select(store),clientId=getSelectedBlockClientId()||getFirstMultiSelectedBlockClientId();if(!clientId)return;const{name,attributes={}}=getBlock(clientId)||{},blockParentsClientIds=getBlockParents(clientId),parentBlockListSettings=__experimentalGetBlockListSettingsForBlocks(blockParentsClientIds),capturingClientId=blockParentsClientIds.find((parentClientId=>parentBlockListSettings[parentClientId]?.__experimentalCaptureToolbars));return{clientId,rootClientId:getBlockRootClientId(clientId),name,isEmptyDefaultBlock:name&&(0,build_module.ZP)({name,attributes}),capturingClientId}}function WrappedBlockPopover({__unstablePopoverSlot,__unstableContentRef}){const selected=(0,use_select.Z)(wrapperSelector,[]);if(!selected)return null;const{clientId,rootClientId,name,isEmptyDefaultBlock,capturingClientId}=selected;return name?(0,react.createElement)(SelectedBlockPopover,{clientId,rootClientId,isEmptyDefaultBlock,capturingClientId,__unstablePopoverSlot,__unstableContentRef}):null}function BlockToolsBackCompat({children}){const openRef=(0,react.useContext)(insertion_point_InsertionPointOpenRef),isDisabled=(0,react.useContext)(disabled.Z.Context);return openRef||isDisabled?children:((0,deprecated_build_module.Z)('wp.components.Popover.Slot name="block-toolbar"',{alternative:"wp.blockEditor.BlockTools",since:"5.8",version:"6.3"}),(0,react.createElement)(InsertionPoint,{__unstablePopoverSlot:"block-toolbar"},(0,react.createElement)(WrappedBlockPopover,{__unstablePopoverSlot:"block-toolbar"}),children))}const with_client_id=(0,create_higher_order_component.o)((WrappedComponent=>props=>{const{clientId}=useBlockEditContext();return(0,react.createElement)(WrappedComponent,(0,esm_extends.Z)({},props,{clientId}))}),"withClientId"),inner_blocks_button_block_appender=with_client_id((({clientId,showSeparator,isFloating,onAddBlock,isToggle})=>(0,react.createElement)(button_block_appender,{className:classnames_default()({"block-list-appender__toggle":isToggle}),rootClientId:clientId,showSeparator,isFloating,onAddBlock}))),inner_blocks_default_block_appender=(0,compose.Z)([with_client_id,(0,with_select.Z)(((select,{clientId})=>{const{getBlockOrder}=select(store),blockClientIds=getBlockOrder(clientId);return{lastBlockClientId:blockClientIds[blockClientIds.length-1]}}))])((({clientId})=>(0,react.createElement)(default_block_appender,{rootClientId:clientId})));var is_shallow_equal_build_module=__webpack_require__("./packages/is-shallow-equal/build-module/index.js");const pendingSettingsUpdates=new WeakMap;var use_throttle=__webpack_require__("./packages/compose/build-module/hooks/use-throttle/index.js"),use_drop_zone=__webpack_require__("./packages/compose/build-module/hooks/use-drop-zone/index.js"),data_transfer=__webpack_require__("./packages/dom/build-module/data-transfer.js");function onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocks,insertOrReplaceBlocks,clearSelectedBlock){return event=>{const{srcRootClientId:sourceRootClientId,srcClientIds:sourceClientIds,type:dropType,blocks}=function parseDropEvent(event){let result={srcRootClientId:null,srcClientIds:null,srcIndex:null,type:null,blocks:null};if(!event.dataTransfer)return result;try{result=Object.assign(result,JSON.parse(event.dataTransfer.getData("wp-blocks")))}catch(err){return result}return result}(event);if("inserter"===dropType){clearSelectedBlock();const blocksToInsert=blocks.map((block=>(0,build_module.Wm)(block)));insertOrReplaceBlocks(blocksToInsert,!0,null)}if("block"===dropType){const sourceBlockIndex=getBlockIndex(sourceClientIds[0]);if(sourceRootClientId===targetRootClientId&&sourceBlockIndex===targetBlockIndex)return;if(sourceClientIds.includes(targetRootClientId)||getClientIdsOfDescendants(sourceClientIds).some((id=>id===targetRootClientId)))return;const isAtSameLevel=sourceRootClientId===targetRootClientId,draggedBlockCount=sourceClientIds.length;moveBlocks(sourceClientIds,sourceRootClientId,isAtSameLevel&&sourceBlockIndex<targetBlockIndex?targetBlockIndex-draggedBlockCount:targetBlockIndex)}}}function useOnBlockDrop(targetRootClientId,targetBlockIndex,options={}){const{operation="insert"}=options,hasUploadPermissions=(0,use_select.Z)((select=>select(store).getSettings().mediaUpload),[]),{canInsertBlockType,getBlockIndex,getClientIdsOfDescendants,getBlockOrder,getBlocksByClientId}=(0,use_select.Z)(store),{insertBlocks,moveBlocksToPosition,updateBlockAttributes,clearSelectedBlock,replaceBlocks,removeBlocks}=(0,use_dispatch.Z)(store),registry=(0,use_registry.Z)(),insertOrReplaceBlocks=(0,react.useCallback)(((blocks,updateSelection=!0,initialPosition=0)=>{if("replace"===operation){const clientId=getBlockOrder(targetRootClientId)[targetBlockIndex];replaceBlocks(clientId,blocks,void 0,initialPosition)}else insertBlocks(blocks,targetBlockIndex,targetRootClientId,updateSelection,initialPosition)}),[operation,getBlockOrder,insertBlocks,replaceBlocks,targetBlockIndex,targetRootClientId]),moveBlocks=(0,react.useCallback)(((sourceClientIds,sourceRootClientId,insertIndex)=>{if("replace"===operation){const sourceBlocks=getBlocksByClientId(sourceClientIds),targetBlockClientId=getBlockOrder(targetRootClientId)[targetBlockIndex];registry.batch((()=>{removeBlocks(sourceClientIds,!1),replaceBlocks(targetBlockClientId,sourceBlocks,void 0,0)}))}else moveBlocksToPosition(sourceClientIds,sourceRootClientId,targetRootClientId,insertIndex)}),[operation,getBlockOrder,getBlocksByClientId,insertBlocks,moveBlocksToPosition,removeBlocks,targetBlockIndex,targetRootClientId]),_onDrop=onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocks,insertOrReplaceBlocks,clearSelectedBlock),_onFilesDrop=function onFilesDrop(targetRootClientId,targetBlockIndex,hasUploadPermissions,updateBlockAttributes,canInsertBlockType,insertOrReplaceBlocks){return files=>{if(!hasUploadPermissions)return;const transformation=(0,build_module.MC)((0,build_module.Xn)("from"),(transform=>"files"===transform.type&&canInsertBlockType(transform.blockName,targetRootClientId)&&transform.isMatch(files)));if(transformation){const blocks=transformation.transform(files,updateBlockAttributes);insertOrReplaceBlocks(blocks)}}}(targetRootClientId,0,hasUploadPermissions,updateBlockAttributes,canInsertBlockType,insertOrReplaceBlocks),_onHTMLDrop=function onHTMLDrop(targetRootClientId,targetBlockIndex,insertOrReplaceBlocks){return HTML=>{const blocks=(0,build_module.ag)({HTML,mode:"BLOCKS"});blocks.length&&insertOrReplaceBlocks(blocks)}}(0,0,insertOrReplaceBlocks);return event=>{const files=(0,data_transfer.f)(event.dataTransfer),html=event.dataTransfer.getData("text/html");html?_onHTMLDrop(html):files.length?_onFilesDrop(files):_onDrop(event)}}function getDistanceToNearestEdge(point,rect,allowedEdges=["top","bottom","left","right"]){let candidateDistance,candidateEdge;return allowedEdges.forEach((edge=>{const distance=function getDistanceFromPointToEdge(point,rect,edge){const isHorizontal="top"===edge||"bottom"===edge,{x,y}=point,pointLateralPosition=isHorizontal?x:y,pointForwardPosition=isHorizontal?y:x,edgeStart=isHorizontal?rect.left:rect.top,edgeEnd=isHorizontal?rect.right:rect.bottom,edgeForwardPosition=rect[edge];let edgeLateralPosition;return edgeLateralPosition=pointLateralPosition>=edgeStart&&pointLateralPosition<=edgeEnd?pointLateralPosition:pointLateralPosition<edgeEnd?edgeStart:edgeEnd,Math.sqrt((pointLateralPosition-edgeLateralPosition)**2+(pointForwardPosition-edgeForwardPosition)**2)}(point,rect,edge);(void 0===candidateDistance||distance<candidateDistance)&&(candidateDistance=distance,candidateEdge=edge)})),[candidateDistance,candidateEdge]}function isPointContainedByRect(point,rect){return rect.left<=point.x&&rect.right>=point.x&&rect.top<=point.y&&rect.bottom>=point.y}function useBlockDropZone({rootClientId:targetRootClientId=""}={}){const registry=(0,use_registry.Z)(),[dropTarget,setDropTarget]=(0,react.useState)({index:null,operation:"insert"}),isDisabled=(0,use_select.Z)((select=>{const{__unstableIsWithinBlockOverlay,__unstableHasActiveBlockOverlayActive,getBlockEditingMode}=unlock(select(store));return"default"!==getBlockEditingMode(targetRootClientId)||__unstableHasActiveBlockOverlayActive(targetRootClientId)||__unstableIsWithinBlockOverlay(targetRootClientId)}),[targetRootClientId]),{getBlockListSettings,getBlocks,getBlockIndex}=(0,use_select.Z)(store),{showInsertionPoint,hideInsertionPoint}=(0,use_dispatch.Z)(store),onBlockDrop=useOnBlockDrop(targetRootClientId,dropTarget.index,{operation:dropTarget.operation}),throttled=(0,use_throttle.Z)((0,react.useCallback)(((event,ownerDocument)=>{const blocks=getBlocks(targetRootClientId);if(0===blocks.length)return void registry.batch((()=>{setDropTarget({index:0,operation:"insert"}),showInsertionPoint(targetRootClientId,0,{operation:"insert"})}));const blocksData=blocks.map((block=>{const clientId=block.clientId;return{isUnmodifiedDefaultBlock:(0,build_module.ZP)(block),getBoundingClientRect:()=>ownerDocument.getElementById(`block-${clientId}`).getBoundingClientRect(),blockIndex:getBlockIndex(clientId)}})),[targetIndex,operation]=function getDropTargetPosition(blocksData,position,orientation="vertical"){const allowedEdges="horizontal"===orientation?["left","right"]:["top","bottom"],isRightToLeft=(0,i18n_build_module.dZ)();let nearestIndex=0,insertPosition="before",minDistance=1/0;blocksData.forEach((({isUnmodifiedDefaultBlock,getBoundingClientRect,blockIndex})=>{const rect=getBoundingClientRect();let[distance,edge]=getDistanceToNearestEdge(position,rect,allowedEdges);isUnmodifiedDefaultBlock&&isPointContainedByRect(position,rect)&&(distance=0),distance<minDistance&&(insertPosition="bottom"===edge||!isRightToLeft&&"right"===edge||isRightToLeft&&"left"===edge?"after":"before",minDistance=distance,nearestIndex=blockIndex)}));const adjacentIndex=nearestIndex+("after"===insertPosition?1:-1),isNearestBlockUnmodifiedDefaultBlock=!!blocksData[nearestIndex]?.isUnmodifiedDefaultBlock,isAdjacentBlockUnmodifiedDefaultBlock=!!blocksData[adjacentIndex]?.isUnmodifiedDefaultBlock;if(!isNearestBlockUnmodifiedDefaultBlock&&!isAdjacentBlockUnmodifiedDefaultBlock)return["after"===insertPosition?nearestIndex+1:nearestIndex,"insert"];return[isNearestBlockUnmodifiedDefaultBlock?nearestIndex:adjacentIndex,"replace"]}(blocksData,{x:event.clientX,y:event.clientY},getBlockListSettings(targetRootClientId)?.orientation);registry.batch((()=>{setDropTarget({index:targetIndex,operation}),showInsertionPoint(targetRootClientId,targetIndex,{operation})}))}),[getBlocks,targetRootClientId,getBlockListSettings,registry,showInsertionPoint,getBlockIndex]),200);return(0,use_drop_zone.Z)({isDisabled,onDrop:onBlockDrop,onDragOver(event){throttled(event,event.currentTarget.ownerDocument)},onDragLeave(){throttled.cancel(),hideInsertionPoint()},onDragEnd(){throttled.cancel(),hideInsertionPoint()}})}const inner_blocks_EMPTY_OBJECT={};function UncontrolledInnerBlocks(props){const{clientId,allowedBlocks,prioritizedInserterBlocks,__experimentalDefaultBlock,__experimentalDirectInsert,template,templateLock,wrapperRef,templateInsertUpdatesSelection,__experimentalCaptureToolbars:captureToolbars,__experimentalAppenderTagName,renderAppender,orientation,placeholder,layout}=props;!function useNestedSettingsUpdate(clientId,allowedBlocks,prioritizedInserterBlocks,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,layout){const{updateBlockListSettings}=(0,use_dispatch.Z)(store),registry=(0,use_registry.Z)(),{blockListSettings,parentLock}=(0,use_select.Z)((select=>{const rootClientId=select(store).getBlockRootClientId(clientId);return{blockListSettings:select(store).getBlockListSettings(clientId),parentLock:select(store).getTemplateLock(rootClientId)}}),[clientId]),_allowedBlocks=(0,react.useMemo)((()=>allowedBlocks),allowedBlocks),_prioritizedInserterBlocks=(0,react.useMemo)((()=>prioritizedInserterBlocks),prioritizedInserterBlocks);(0,react.useLayoutEffect)((()=>{const newSettings={allowedBlocks:_allowedBlocks,prioritizedInserterBlocks:_prioritizedInserterBlocks,templateLock:void 0===templateLock||"contentOnly"===parentLock?parentLock:templateLock};if(void 0!==captureToolbars&&(newSettings.__experimentalCaptureToolbars=captureToolbars),void 0!==orientation)newSettings.orientation=orientation;else{const layoutType=getLayoutType(layout?.type);newSettings.orientation=layoutType.getOrientation(layout)}void 0!==__experimentalDefaultBlock&&(newSettings.__experimentalDefaultBlock=__experimentalDefaultBlock),void 0!==__experimentalDirectInsert&&(newSettings.__experimentalDirectInsert=__experimentalDirectInsert),(0,is_shallow_equal_build_module.ZP)(blockListSettings,newSettings)||(pendingSettingsUpdates.get(registry)||pendingSettingsUpdates.set(registry,[]),pendingSettingsUpdates.get(registry).push([clientId,newSettings]),window.queueMicrotask((()=>{pendingSettingsUpdates.get(registry)?.length&&registry.batch((()=>{pendingSettingsUpdates.get(registry).forEach((args=>{updateBlockListSettings(...args)})),pendingSettingsUpdates.set(registry,[])}))})))}),[clientId,blockListSettings,_allowedBlocks,_prioritizedInserterBlocks,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,parentLock,captureToolbars,orientation,updateBlockListSettings,layout,registry])}(clientId,allowedBlocks,prioritizedInserterBlocks,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,layout),function useInnerBlockTemplateSync(clientId,template,templateLock,templateInsertUpdatesSelection){const{getBlocks,getSelectedBlocksInitialCaretPosition,isBlockSelected}=(0,use_select.Z)(store),{replaceInnerBlocks,__unstableMarkNextChangeAsNotPersistent}=(0,use_dispatch.Z)(store),{innerBlocks}=(0,use_select.Z)((select=>({innerBlocks:select(store).getBlocks(clientId)})),[clientId]),existingTemplate=(0,react.useRef)(null);(0,react.useLayoutEffect)((()=>{let isCancelled=!1;return window.queueMicrotask((()=>{if(isCancelled)return;const currentInnerBlocks=getBlocks(clientId),shouldApplyTemplate=0===currentInnerBlocks.length||"all"===templateLock||"contentOnly"===templateLock,hasTemplateChanged=!es6_default()(template,existingTemplate.current);if(!shouldApplyTemplate||!hasTemplateChanged)return;existingTemplate.current=template;const nextBlocks=(0,build_module.fw)(currentInnerBlocks,template);es6_default()(nextBlocks,currentInnerBlocks)||(__unstableMarkNextChangeAsNotPersistent(),replaceInnerBlocks(clientId,nextBlocks,0===currentInnerBlocks.length&&templateInsertUpdatesSelection&&0!==nextBlocks.length&&isBlockSelected(clientId),getSelectedBlocksInitialCaretPosition()))})),()=>{isCancelled=!0}}),[innerBlocks,template,templateLock,clientId])}(clientId,template,templateLock,templateInsertUpdatesSelection);const context=function useBlockContext(clientId){return(0,use_select.Z)((select=>{const block=select(store).getBlock(clientId);if(!block)return;const blockType=select(build_module.h).getBlockType(block.name);return blockType&&0!==Object.keys(blockType.providesContext).length?Object.fromEntries(Object.entries(blockType.providesContext).map((([contextName,attributeName])=>[contextName,block.attributes[attributeName]]))):void 0}),[clientId])}(clientId),name=(0,use_select.Z)((select=>select(store).getBlock(clientId)?.name),[clientId]),defaultLayoutBlockSupport=(0,build_module.Dx)(name,"layout")||(0,build_module.Dx)(name,"__experimentalLayout")||inner_blocks_EMPTY_OBJECT,{allowSizingOnChildren=!1}=defaultLayoutBlockSupport,defaultLayout=use_setting_useSetting("layout")||inner_blocks_EMPTY_OBJECT,usedLayout=layout||defaultLayoutBlockSupport,memoedLayout=(0,react.useMemo)((()=>({...defaultLayout,...usedLayout,...allowSizingOnChildren&&{allowSizingOnChildren:!0}})),[defaultLayout,usedLayout,allowSizingOnChildren]);return(0,react.createElement)(BlockContextProvider,{value:context},(0,react.createElement)(BlockListItems,{rootClientId:clientId,renderAppender,__experimentalAppenderTagName,layout:memoedLayout,wrapperRef,placeholder}))}function ControlledInnerBlocks(props){return useBlockSync(props),(0,react.createElement)(UncontrolledInnerBlocks,props)}const ForwardedInnerBlocks=(0,react.forwardRef)(((props,ref)=>{const innerBlocksProps=useInnerBlocksProps({ref},props);return(0,react.createElement)("div",{className:"block-editor-inner-blocks"},(0,react.createElement)("div",innerBlocksProps))}));function useInnerBlocksProps(props={},options={}){const{__unstableDisableLayoutClassNames,__unstableDisableDropZone}=options,{clientId,layout=null,__unstableLayoutClassNames:layoutClassNames=""}=useBlockEditContext(),isSmallScreen=(0,use_viewport_match.Z)("medium","<"),{__experimentalCaptureToolbars,hasOverlay}=(0,use_select.Z)((select=>{if(!clientId)return{};const{getBlockName,isBlockSelected,hasSelectedInnerBlock,__unstableGetEditorMode}=select(store),blockName=getBlockName(clientId),enableClickThrough="navigation"===__unstableGetEditorMode()||isSmallScreen;return{__experimentalCaptureToolbars:select(build_module.h).hasBlockSupport(blockName,"__experimentalExposeControlsToChildren",!1),hasOverlay:"core/template"!==blockName&&!isBlockSelected(clientId)&&!hasSelectedInnerBlock(clientId,!0)&&enableClickThrough}}),[clientId,isSmallScreen]),blockDropZoneRef=useBlockDropZone({rootClientId:clientId}),ref=(0,use_merge_refs.Z)([props.ref,__unstableDisableDropZone?null:blockDropZoneRef]),innerBlocksProps={__experimentalCaptureToolbars,layout,...options},InnerBlocks=innerBlocksProps.value&&innerBlocksProps.onChange?ControlledInnerBlocks:UncontrolledInnerBlocks;return{...props,ref,className:classnames_default()(props.className,"block-editor-block-list__layout",__unstableDisableLayoutClassNames?"":layoutClassNames,{"has-overlay":hasOverlay}),children:clientId?(0,react.createElement)(InnerBlocks,(0,esm_extends.Z)({},innerBlocksProps,{clientId})):(0,react.createElement)(BlockListItems,options)}}useInnerBlocksProps.save=build_module.cZ,ForwardedInnerBlocks.DefaultBlockAppender=inner_blocks_default_block_appender,ForwardedInnerBlocks.ButtonBlockAppender=inner_blocks_button_block_appender,ForwardedInnerBlocks.Content=()=>useInnerBlocksProps.save().children;const inner_blocks=ForwardedInnerBlocks,elementContext=(0,react.createContext)(),IntersectionObserver=(0,react.createContext)(),pendingBlockVisibilityUpdatesPerRegistry=new WeakMap;function Root({className,...settings}){const[element,setElement]=(0,react.useState)(),isLargeViewport=(0,use_viewport_match.Z)("medium"),{isOutlineMode,isFocusMode,editorMode}=(0,use_select.Z)((select=>{const{getSettings,__unstableGetEditorMode}=select(store),{outlineMode,focusMode}=getSettings();return{isOutlineMode:outlineMode,isFocusMode:focusMode,editorMode:__unstableGetEditorMode()}}),[]),registry=(0,use_registry.Z)(),{setBlockVisibility}=(0,use_dispatch.Z)(store),delayedBlockVisibilityUpdates=(0,use_debounce.Z)((0,react.useCallback)((()=>{const updates={};pendingBlockVisibilityUpdatesPerRegistry.get(registry).forEach((([id,isIntersecting])=>{updates[id]=isIntersecting})),setBlockVisibility(updates)}),[registry]),300,{trailing:!0}),intersectionObserver=(0,react.useMemo)((()=>{const{IntersectionObserver:Observer}=window;if(Observer)return new Observer((entries=>{pendingBlockVisibilityUpdatesPerRegistry.get(registry)||pendingBlockVisibilityUpdatesPerRegistry.set(registry,[]);for(const entry of entries){const clientId=entry.target.getAttribute("data-block");pendingBlockVisibilityUpdatesPerRegistry.get(registry).push([clientId,entry.isIntersecting])}delayedBlockVisibilityUpdates()}))}),[]),innerBlocksProps=useInnerBlocksProps({ref:(0,use_merge_refs.Z)([useBlockSelectionClearer(),useInBetweenInserter(),setElement]),className:classnames_default()("is-root-container",className,{"is-outline-mode":isOutlineMode,"is-focus-mode":isFocusMode&&isLargeViewport,"is-navigate-mode":"navigation"===editorMode})},settings);return(0,react.createElement)(elementContext.Provider,{value:element},(0,react.createElement)(IntersectionObserver.Provider,{value:intersectionObserver},(0,react.createElement)("div",innerBlocksProps)))}function BlockList(settings){return function usePreParsePatterns(){const{patterns,isPreviewMode}=(0,use_select.Z)((_select=>{const{__experimentalBlockPatterns,__unstableIsPreviewMode}=_select(store).getSettings();return{patterns:__experimentalBlockPatterns,isPreviewMode:__unstableIsPreviewMode}}),[]);return(0,react.useEffect)((()=>{if(isPreviewMode)return;if(!patterns?.length)return;let handle,index=-1;const callback=()=>{index++,index>=patterns.length||((0,build_module_select.Y)(store).__experimentalGetParsedPattern(patterns[index].name),handle=requestIdleCallback(callback))};return handle=requestIdleCallback(callback),()=>cancelIdleCallback(handle)}),[patterns,isPreviewMode]),null}(),(0,react.createElement)(BlockToolsBackCompat,null,(0,react.createElement)(Provider,{value:DEFAULT_BLOCK_EDIT_CONTEXT},(0,react.createElement)(Root,settings)))}function Items({placeholder,rootClientId,renderAppender,__experimentalAppenderTagName,layout=defaultLayout}){const{order,selectedBlocks,visibleBlocks}=(0,use_select.Z)((select=>{const{getBlockOrder,getSelectedBlockClientIds,__unstableGetVisibleBlocks}=select(store);return{order:getBlockOrder(rootClientId),selectedBlocks:getSelectedBlockClientIds(),visibleBlocks:__unstableGetVisibleBlocks()}}),[rootClientId]);return(0,react.createElement)(LayoutProvider,{value:layout},order.map((clientId=>(0,react.createElement)(async_mode_provider_context.ZP,{key:clientId,value:!visibleBlocks.has(clientId)&&!selectedBlocks.includes(clientId)},(0,react.createElement)(block,{rootClientId,clientId})))),order.length<1&&placeholder,(0,react.createElement)(block_list_appender,{tagName:__experimentalAppenderTagName,rootClientId,renderAppender}))}function BlockListItems(props){return(0,react.createElement)(async_mode_provider_context.ZP,{value:!1},(0,react.createElement)(Items,props))}BlockList.__unstableElementContext=elementContext;var border_box_control_utils=__webpack_require__("./packages/components/build-module/border-box-control/utils.js");(0,colord.l7)([names.Z,a11y.Z]);const getColorObjectByAttributeValues=(colors,definedColor,customColor)=>{if(definedColor){const colorObj=colors?.find((color=>color.slug===definedColor));if(colorObj)return colorObj}return{color:customColor}},getColorObjectByColorValue=(colors,colorValue)=>colors?.find((color=>color.color===colorValue));function getColorClassName(colorContextName,colorSlug){if(colorContextName&&colorSlug)return`has-${(0,lodash.kebabCase)(colorSlug)}-${colorContextName}`}function useMultipleOriginColorsAndGradients(){const colorGradientSettings={disableCustomColors:!use_setting_useSetting("color.custom"),disableCustomGradients:!use_setting_useSetting("color.customGradient")},customColors=use_setting_useSetting("color.palette.custom"),themeColors=use_setting_useSetting("color.palette.theme"),defaultColors=use_setting_useSetting("color.palette.default"),shouldDisplayDefaultColors=use_setting_useSetting("color.defaultPalette");colorGradientSettings.colors=(0,react.useMemo)((()=>{const result=[];return themeColors&&themeColors.length&&result.push({name:(0,i18n_build_module._x)("Theme","Indicates this palette comes from the theme."),colors:themeColors}),shouldDisplayDefaultColors&&defaultColors&&defaultColors.length&&result.push({name:(0,i18n_build_module._x)("Default","Indicates this palette comes from WordPress."),colors:defaultColors}),customColors&&customColors.length&&result.push({name:(0,i18n_build_module._x)("Custom","Indicates this palette comes from the theme."),colors:customColors}),result}),[defaultColors,themeColors,customColors,shouldDisplayDefaultColors]);const customGradients=use_setting_useSetting("color.gradients.custom"),themeGradients=use_setting_useSetting("color.gradients.theme"),defaultGradients=use_setting_useSetting("color.gradients.default"),shouldDisplayDefaultGradients=use_setting_useSetting("color.defaultGradients");return colorGradientSettings.gradients=(0,react.useMemo)((()=>{const result=[];return themeGradients&&themeGradients.length&&result.push({name:(0,i18n_build_module._x)("Theme","Indicates this palette comes from the theme."),gradients:themeGradients}),shouldDisplayDefaultGradients&&defaultGradients&&defaultGradients.length&&result.push({name:(0,i18n_build_module._x)("Default","Indicates this palette comes from WordPress."),gradients:defaultGradients}),customGradients&&customGradients.length&&result.push({name:(0,i18n_build_module._x)("Custom","Indicates this palette is created by the user."),gradients:customGradients}),result}),[customGradients,themeGradients,defaultGradients,shouldDisplayDefaultGradients]),colorGradientSettings.hasColorsOrGradients=!!colorGradientSettings.colors.length||!!colorGradientSettings.gradients.length,colorGradientSettings}var tools_panel_item_component=__webpack_require__("./packages/components/build-module/tools-panel/tools-panel-item/component.js"),library_link=__webpack_require__("./packages/icons/build-module/library/link.js"),link_off=__webpack_require__("./packages/icons/build-module/library/link-off.js"),context_connect=__webpack_require__("./packages/components/build-module/ui/context/context-connect.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),rtl=__webpack_require__("./packages/components/build-module/utils/rtl.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");const borderBoxControl=(0,emotion_react_browser_esm.iv)("","","",""),wrapper={name:"bjn8wh",styles:"position:relative"},borderBoxStyleWithFallback=border=>{const{color=colors_values.D.gray[200],style="solid",width=config_values.Z.borderWidth}=border||{};return`${color} ${!!width&&"0"!==width||!!color?style||"solid":style} ${width!==config_values.Z.borderWidth?`clamp(1px, ${width}, 10px)`:width}`},centeredBorderControl={name:"1nwbfnf",styles:"grid-column:span 2;margin:0 auto"};var use_context_system=__webpack_require__("./packages/components/build-module/ui/context/use-context-system.js"),use_cx=__webpack_require__("./packages/components/build-module/utils/hooks/use-cx.js");function useBorderBoxControlLinkedButton(props){const{className,size="default",...otherProps}=(0,use_context_system.y)(props,"BorderBoxControlLinkedButton"),cx=(0,use_cx.I)();return{...otherProps,className:(0,react.useMemo)((()=>cx((size=>(0,emotion_react_browser_esm.iv)("position:absolute;top:","__unstable-large"===size?"8px":"3px",";",(0,rtl.b)({right:0})()," line-height:0;","","",""))(size),className)),[className,cx,size])}}const border_box_control_linked_button_component=(0,context_connect.Iq)(((props,forwardedRef)=>{const{className,isLinked,...buttonProps}=useBorderBoxControlLinkedButton(props),label=isLinked?(0,i18n_build_module.__)("Unlink sides"):(0,i18n_build_module.__)("Link sides");return(0,react.createElement)(tooltip.Z,{text:label},(0,react.createElement)(view_component.Z,{className},(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({},buttonProps,{isSmall:!0,icon:isLinked?library_link.Z:link_off.Z,iconSize:24,"aria-label":label,ref:forwardedRef}))))}),"BorderBoxControlLinkedButton");function useBorderBoxControlVisualizer(props){const{className,value,size="default",...otherProps}=(0,use_context_system.y)(props,"BorderBoxControlVisualizer"),cx=(0,use_cx.I)();return{...otherProps,className:(0,react.useMemo)((()=>cx(((borders,size)=>(0,emotion_react_browser_esm.iv)("position:absolute;top:","__unstable-large"===size?"20px":"15px",";right:","__unstable-large"===size?"39px":"29px",";bottom:","__unstable-large"===size?"20px":"15px",";left:","__unstable-large"===size?"39px":"29px",";border-top:",borderBoxStyleWithFallback(borders?.top),";border-bottom:",borderBoxStyleWithFallback(borders?.bottom),";",(0,rtl.b)({borderLeft:borderBoxStyleWithFallback(borders?.left)})()," ",(0,rtl.b)({borderRight:borderBoxStyleWithFallback(borders?.right)})(),";","","",""))(value,size),className)),[cx,className,value,size]),value}}const border_box_control_visualizer_component=(0,context_connect.Iq)(((props,forwardedRef)=>{const{value,...otherProps}=useBorderBoxControlVisualizer(props);return(0,react.createElement)(view_component.Z,(0,esm_extends.Z)({},otherProps,{ref:forwardedRef}))}),"BorderBoxControlVisualizer");var close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js"),line_solid=__webpack_require__("./packages/icons/build-module/library/line-solid.js"),line_dashed=__webpack_require__("./packages/icons/build-module/library/line-dashed.js"),line_dotted=__webpack_require__("./packages/icons/build-module/library/line-dotted.js"),base_control_styles=__webpack_require__("./packages/components/build-module/base-control/styles/base-control-styles.js"),box_sizing=__webpack_require__("./packages/components/build-module/utils/box-sizing.js"),space=__webpack_require__("./packages/components/build-module/ui/utils/space.js"),unit_control_styles=__webpack_require__("./packages/components/build-module/unit-control/styles/unit-control-styles.js");const labelStyles={name:"f3vz0n",styles:"font-weight:500"},focusBoxShadow=(0,emotion_react_browser_esm.iv)("box-shadow:inset 0 0 0 ",config_values.Z.borderWidth," ",colors_values.D.ui.borderFocus,";","","",""),borderControl=(0,emotion_react_browser_esm.iv)("border:0;padding:0;margin:0;",box_sizing.p,";","","",""),styles_wrapperWidth=(0,emotion_react_browser_esm.iv)(unit_control_styles.Ke,"{flex:0 0 auto;}","","",""),colorIndicatorWrapper=(border,size)=>{const{style}=border||{};return(0,emotion_react_browser_esm.iv)("border-radius:9999px;border:2px solid transparent;",style?(border=>{const{color,style}=border||{},fallbackColor=style&&"none"!==style?colors_values.D.gray[300]:void 0;return(0,emotion_react_browser_esm.iv)("border-style:","none"===style?"solid":style,";border-color:",color||fallbackColor,";","","","")})(border):void 0," width:","__unstable-large"===size?"24px":"22px",";height:","__unstable-large"===size?"24px":"22px",";padding:","__unstable-large"===size?"2px":"1px",";&>span{height:",(0,space.D)(4),";width:",(0,space.D)(4),";background:linear-gradient(\n\t\t\t\t-45deg,\n\t\t\t\ttransparent 48%,\n\t\t\t\trgb( 0 0 0 / 20% ) 48%,\n\t\t\t\trgb( 0 0 0 / 20% ) 52%,\n\t\t\t\ttransparent 52%\n\t\t\t);}","","","")},borderControlPopoverControls=(0,emotion_react_browser_esm.iv)("width:",228,"px;>div:first-of-type>",base_control_styles.ar,"{margin-bottom:0;",labelStyles,";}&& ",base_control_styles.ar,"+button:not( .has-text ){min-width:24px;padding:0;}","","",""),borderControlPopoverContent=(0,emotion_react_browser_esm.iv)("","","",""),borderColorIndicator=(0,emotion_react_browser_esm.iv)("","","",""),resetButton=(0,emotion_react_browser_esm.iv)("justify-content:center;width:100%;&&{border-top:",config_values.Z.borderWidth," solid ",colors_values.D.gray[200],";border-top-left-radius:0;border-top-right-radius:0;height:46px;}","","",""),borderControlStylePicker=(0,emotion_react_browser_esm.iv)(base_control_styles.ar,"{",labelStyles,";}","","",""),borderStyleButton={name:"1486260",styles:"&&&&&{min-width:30px;width:30px;height:30px;padding:3px;}"};const BORDER_STYLES=[{label:(0,i18n_build_module.__)("Solid"),icon:line_solid.Z,value:"solid"},{label:(0,i18n_build_module.__)("Dashed"),icon:line_dashed.Z,value:"dashed"},{label:(0,i18n_build_module.__)("Dotted"),icon:line_dotted.Z,value:"dotted"}],Label=props=>{const{label,hideLabelFromVision}=props;return label?hideLabelFromVision?(0,react.createElement)(visually_hidden_component.Z,{as:"label"},label):(0,react.createElement)(base_control_styles.ar,null,label):null},border_control_style_picker_component=(0,context_connect.Iq)(((props,forwardedRef)=>{const{buttonClassName,hideLabelFromVision,label,onChange,value,...otherProps}=function useBorderControlStylePicker(props){const{className,...otherProps}=(0,use_context_system.y)(props,"BorderControlStylePicker"),cx=(0,use_cx.I)();return{...otherProps,className:(0,react.useMemo)((()=>cx(borderControlStylePicker,className)),[className,cx]),buttonClassName:(0,react.useMemo)((()=>cx(borderStyleButton)),[cx])}}(props);return(0,react.createElement)(view_component.Z,(0,esm_extends.Z)({},otherProps,{ref:forwardedRef}),(0,react.createElement)(Label,{label,hideLabelFromVision}),(0,react.createElement)(component.Z,{justify:"flex-start",gap:1},BORDER_STYLES.map((borderStyle=>(0,react.createElement)(build_module_button.ZP,{key:borderStyle.value,className:buttonClassName,icon:borderStyle.icon,isSmall:!0,isPressed:borderStyle.value===value,onClick:()=>onChange(borderStyle.value===value?void 0:borderStyle.value),"aria-label":borderStyle.label,label:borderStyle.label,showTooltip:!0})))))}),"BorderControlStylePicker");var color_indicator=__webpack_require__("./packages/components/build-module/color-indicator/index.js"),color_palette=__webpack_require__("./packages/components/build-module/color-palette/index.js");function useBorderControlDropdown(props){const{border,className,colors=[],enableAlpha=!1,enableStyle=!0,onChange,previousStyleSelection,size="default",__experimentalIsRenderedInSidebar=!1,...otherProps}=(0,use_context_system.y)(props,"BorderControlDropdown"),[widthValue]=(0,utils.YX)(border?.width),hasZeroWidth=0===widthValue,cx=(0,use_cx.I)(),classes=(0,react.useMemo)((()=>cx((size=>(0,emotion_react_browser_esm.iv)("background:#fff;&&>button{height:","__unstable-large"===size?"40px":"30px",";width:","__unstable-large"===size?"40px":"30px",";padding:0;display:flex;align-items:center;justify-content:center;",(0,rtl.b)({borderRadius:"2px 0 0 2px"},{borderRadius:"0 2px 2px 0"})()," border:",config_values.Z.borderWidth," solid ",colors_values.D.ui.border,";&:focus,&:hover:not( :disabled ){",focusBoxShadow," border-color:",colors_values.D.ui.borderFocus,";z-index:1;position:relative;}}","","",""))(size),className)),[className,cx,size]),indicatorClassName=(0,react.useMemo)((()=>cx(borderColorIndicator)),[cx]),indicatorWrapperClassName=(0,react.useMemo)((()=>cx(colorIndicatorWrapper(border,size))),[border,cx,size]),popoverControlsClassName=(0,react.useMemo)((()=>cx(borderControlPopoverControls)),[cx]),popoverContentClassName=(0,react.useMemo)((()=>cx(borderControlPopoverContent)),[cx]),resetButtonClassName=(0,react.useMemo)((()=>cx(resetButton)),[cx]);return{...otherProps,border,className:classes,colors,enableAlpha,enableStyle,indicatorClassName,indicatorWrapperClassName,onColorChange:color=>{onChange({color,style:"none"===border?.style?previousStyleSelection:border?.style,width:hasZeroWidth&&color?"1px":border?.width})},onStyleChange:style=>{const width=hasZeroWidth&&style?"1px":border?.width;onChange({...border,style,width})},onReset:()=>{onChange({...border,color:void 0,style:void 0})},popoverContentClassName,popoverControlsClassName,resetButtonClassName,__experimentalIsRenderedInSidebar}}var dropdown_content_wrapper=__webpack_require__("./packages/components/build-module/dropdown/dropdown-content-wrapper.js"),color_palette_utils=__webpack_require__("./packages/components/build-module/color-palette/utils.js");const getAriaLabelColorValue=colorValue=>{const isHex=colorValue.startsWith("#"),displayValue=colorValue.replace(/^var\((.+)\)$/,"$1");return isHex?displayValue.split("").join("-"):displayValue},border_control_dropdown_component=(0,context_connect.Iq)(((props,forwardedRef)=>{const{__experimentalIsRenderedInSidebar,border,colors,disableCustomColors,enableAlpha,enableStyle,indicatorClassName,indicatorWrapperClassName,onReset,onColorChange,onStyleChange,popoverContentClassName,popoverControlsClassName,resetButtonClassName,showDropdownHeader,__unstablePopoverProps,...otherProps}=useBorderControlDropdown(props),{color,style}=border||{},colorObject=((colorValue,colors)=>{if(colorValue&&colors){if((0,color_palette_utils.v9)(colors)){let matchedColor;return colors.some((origin=>origin.colors.some((color=>color.color===colorValue&&(matchedColor=color,!0))))),matchedColor}return colors.find((color=>color.color===colorValue))}})(color,colors),toggleAriaLabel=((colorValue,colorObject,style,isStyleEnabled)=>{if(isStyleEnabled){if(colorObject){const ariaLabelValue=getAriaLabelColorValue(colorObject.color);return style?(0,i18n_build_module.gB)('Border color and style picker. The currently selected color is called "%1$s" and has a value of "%2$s". The currently selected style is "%3$s".',colorObject.name,ariaLabelValue,style):(0,i18n_build_module.gB)('Border color and style picker. The currently selected color is called "%1$s" and has a value of "%2$s".',colorObject.name,ariaLabelValue)}if(colorValue){const ariaLabelValue=getAriaLabelColorValue(colorValue);return style?(0,i18n_build_module.gB)('Border color and style picker. The currently selected color has a value of "%1$s". The currently selected style is "%2$s".',ariaLabelValue,style):(0,i18n_build_module.gB)('Border color and style picker. The currently selected color has a value of "%1$s".',ariaLabelValue)}return(0,i18n_build_module.__)("Border color and style picker.")}return colorObject?(0,i18n_build_module.gB)('Border color picker. The currently selected color is called "%1$s" and has a value of "%2$s".',colorObject.name,getAriaLabelColorValue(colorObject.color)):colorValue?(0,i18n_build_module.gB)('Border color picker. The currently selected color has a value of "%1$s".',getAriaLabelColorValue(colorValue)):(0,i18n_build_module.__)("Border color picker.")})(color,colorObject,style,enableStyle),showResetButton=color||style&&"none"!==style,dropdownPosition=__experimentalIsRenderedInSidebar?"bottom left":void 0;return(0,react.createElement)(dropdown.Z,(0,esm_extends.Z)({renderToggle:({onToggle})=>(0,react.createElement)(build_module_button.ZP,{onClick:onToggle,variant:"tertiary","aria-label":toggleAriaLabel,tooltipPosition:dropdownPosition,label:(0,i18n_build_module.__)("Border color and style picker"),showTooltip:!0},(0,react.createElement)("span",{className:indicatorWrapperClassName},(0,react.createElement)(color_indicator.Z,{className:indicatorClassName,colorValue:color}))),renderContent:({onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"medium"},(0,react.createElement)(v_stack_component.Z,{className:popoverControlsClassName,spacing:6},showDropdownHeader?(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(base_control_styles.ar,null,(0,i18n_build_module.__)("Border color")),(0,react.createElement)(build_module_button.ZP,{isSmall:!0,label:(0,i18n_build_module.__)("Close border color"),icon:close_small.Z,onClick:onClose})):void 0,(0,react.createElement)(color_palette.ZP,{className:popoverContentClassName,value:color,onChange:onColorChange,colors,disableCustomColors,__experimentalIsRenderedInSidebar,clearable:!1,enableAlpha}),enableStyle&&(0,react.createElement)(border_control_style_picker_component,{label:(0,i18n_build_module.__)("Style"),value:style,onChange:onStyleChange}))),showResetButton&&(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"none"},(0,react.createElement)(build_module_button.ZP,{className:resetButtonClassName,variant:"tertiary",onClick:()=>{onReset(),onClose()}},(0,i18n_build_module.__)("Reset to default")))),popoverProps:{...__unstablePopoverProps}},otherProps,{ref:forwardedRef}))}),"BorderControlDropdown");function useBorderControl(props){const{className,colors=[],isCompact,onChange,enableAlpha=!0,enableStyle=!0,shouldSanitizeBorder=!0,size="default",value:border,width,__experimentalIsRenderedInSidebar=!1,...otherProps}=(0,use_context_system.y)(props,"BorderControl"),[widthValue,originalWidthUnit]=(0,utils.YX)(border?.width),widthUnit=originalWidthUnit||"px",hadPreviousZeroWidth=0===widthValue,[colorSelection,setColorSelection]=(0,react.useState)(),[styleSelection,setStyleSelection]=(0,react.useState)(),onBorderChange=(0,react.useCallback)((newBorder=>{if(shouldSanitizeBorder)return onChange((border=>{if(void 0!==border?.width&&""!==border.width||void 0!==border?.color)return border})(newBorder));onChange(newBorder)}),[onChange,shouldSanitizeBorder]),onWidthChange=(0,react.useCallback)((newWidth=>{const newWidthValue=""===newWidth?void 0:newWidth,[parsedValue]=(0,utils.YX)(newWidth),hasZeroWidth=0===parsedValue,updatedBorder={...border,width:newWidthValue};hasZeroWidth&&!hadPreviousZeroWidth&&(setColorSelection(border?.color),setStyleSelection(border?.style),updatedBorder.color=void 0,updatedBorder.style="none"),!hasZeroWidth&&hadPreviousZeroWidth&&(void 0===updatedBorder.color&&(updatedBorder.color=colorSelection),"none"===updatedBorder.style&&(updatedBorder.style=styleSelection)),onBorderChange(updatedBorder)}),[border,hadPreviousZeroWidth,colorSelection,styleSelection,onBorderChange]),onSliderChange=(0,react.useCallback)((value=>{onWidthChange(`${value}${widthUnit}`)}),[onWidthChange,widthUnit]),cx=(0,use_cx.I)(),classes=(0,react.useMemo)((()=>cx(borderControl,className)),[className,cx]);let wrapperWidth=width;isCompact&&(wrapperWidth="__unstable-large"===size?"116px":"90px");const innerWrapperClassName=(0,react.useMemo)((()=>{const widthStyle=!!wrapperWidth&&styles_wrapperWidth,heightStyle=(size=>(0,emotion_react_browser_esm.iv)("height:","__unstable-large"===size?"40px":"30px",";","","",""))(size);return cx((0,emotion_react_browser_esm.iv)(unit_control_styles.Ke,"{flex:1 1 40%;}&& ",unit_control_styles.mY,"{min-height:0;}","","",""),widthStyle,heightStyle)}),[wrapperWidth,cx,size]),sliderClassName=(0,react.useMemo)((()=>cx((0,emotion_react_browser_esm.iv)("flex:1 1 60%;",(0,rtl.b)({marginRight:(0,space.D)(3)})(),";","","",""))),[cx]);return{...otherProps,className:classes,colors,enableAlpha,enableStyle,innerWrapperClassName,inputWidth:wrapperWidth,onBorderChange,onSliderChange,onWidthChange,previousStyleSelection:styleSelection,sliderClassName,value:border,widthUnit,widthValue,size,__experimentalIsRenderedInSidebar}}const BorderLabel=props=>{const{label,hideLabelFromVision}=props;return label?hideLabelFromVision?(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},label):(0,react.createElement)(base_control_styles.ar,{as:"legend"},label):null},border_control_component=(0,context_connect.Iq)(((props,forwardedRef)=>{const{colors,disableCustomColors,disableUnits,enableAlpha,enableStyle,hideLabelFromVision,innerWrapperClassName,inputWidth,label,onBorderChange,onSliderChange,onWidthChange,placeholder,__unstablePopoverProps,previousStyleSelection,showDropdownHeader,size,sliderClassName,value:border,widthUnit,widthValue,withSlider,__experimentalIsRenderedInSidebar,...otherProps}=useBorderControl(props);return(0,react.createElement)(view_component.Z,(0,esm_extends.Z)({as:"fieldset"},otherProps,{ref:forwardedRef}),(0,react.createElement)(BorderLabel,{label,hideLabelFromVision}),(0,react.createElement)(h_stack_component.Z,{spacing:4,className:innerWrapperClassName},(0,react.createElement)(unit_control.ZP,{prefix:(0,react.createElement)(border_control_dropdown_component,{border,colors,__unstablePopoverProps,disableCustomColors,enableAlpha,enableStyle,onChange:onBorderChange,previousStyleSelection,showDropdownHeader,__experimentalIsRenderedInSidebar,size}),label:(0,i18n_build_module.__)("Border width"),hideLabelFromVision:!0,min:0,onChange:onWidthChange,value:border?.width||"",placeholder,disableUnits,__unstableInputWidth:inputWidth,size}),withSlider&&(0,react.createElement)(range_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Border width"),hideLabelFromVision:!0,className:sliderClassName,initialPosition:0,max:100,min:0,onChange:onSliderChange,step:["px","%"].includes(widthUnit)?1:.1,value:widthValue||void 0,withInputField:!1})))}),"BorderControl");var grid_component=__webpack_require__("./packages/components/build-module/grid/component.js");function useBorderBoxControlSplitControls(props){const{className,colors=[],enableAlpha=!1,enableStyle=!0,size="default",__experimentalIsRenderedInSidebar=!1,...otherProps}=(0,use_context_system.y)(props,"BorderBoxControlSplitControls"),cx=(0,use_cx.I)(),classes=(0,react.useMemo)((()=>cx((size=>(0,emotion_react_browser_esm.iv)("position:relative;flex:1;width:","__unstable-large"===size?void 0:"80%",";","","",""))(size),className)),[cx,className,size]);return{...otherProps,centeredClassName:(0,react.useMemo)((()=>cx(centeredBorderControl,className)),[cx,className]),className:classes,colors,enableAlpha,enableStyle,rightAlignedClassName:(0,react.useMemo)((()=>cx((0,emotion_react_browser_esm.iv)((0,rtl.b)({marginLeft:"auto"})(),";","","",""),className)),[cx,className]),size,__experimentalIsRenderedInSidebar}}const ConnectedBorderBoxControlSplitControls=(0,context_connect.Iq)(((props,forwardedRef)=>{const{centeredClassName,colors,disableCustomColors,enableAlpha,enableStyle,onChange,popoverPlacement,popoverOffset,rightAlignedClassName,size="default",value,__experimentalIsRenderedInSidebar,...otherProps}=useBorderBoxControlSplitControls(props),[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null),popoverProps=(0,react.useMemo)((()=>popoverPlacement?{placement:popoverPlacement,offset:popoverOffset,anchor:popoverAnchor,shift:!0}:void 0),[popoverPlacement,popoverOffset,popoverAnchor]),sharedBorderControlProps={colors,disableCustomColors,enableAlpha,enableStyle,isCompact:!0,__experimentalIsRenderedInSidebar,size},mergedRef=(0,use_merge_refs.Z)([setPopoverAnchor,forwardedRef]);return(0,react.createElement)(grid_component.Z,(0,esm_extends.Z)({},otherProps,{ref:mergedRef,gap:4}),(0,react.createElement)(border_box_control_visualizer_component,{value,size}),(0,react.createElement)(border_control_component,(0,esm_extends.Z)({className:centeredClassName,hideLabelFromVision:!0,label:(0,i18n_build_module.__)("Top border"),onChange:newBorder=>onChange(newBorder,"top"),__unstablePopoverProps:popoverProps,value:value?.top},sharedBorderControlProps)),(0,react.createElement)(border_control_component,(0,esm_extends.Z)({hideLabelFromVision:!0,label:(0,i18n_build_module.__)("Left border"),onChange:newBorder=>onChange(newBorder,"left"),__unstablePopoverProps:popoverProps,value:value?.left},sharedBorderControlProps)),(0,react.createElement)(border_control_component,(0,esm_extends.Z)({className:rightAlignedClassName,hideLabelFromVision:!0,label:(0,i18n_build_module.__)("Right border"),onChange:newBorder=>onChange(newBorder,"right"),__unstablePopoverProps:popoverProps,value:value?.right},sharedBorderControlProps)),(0,react.createElement)(border_control_component,(0,esm_extends.Z)({className:centeredClassName,hideLabelFromVision:!0,label:(0,i18n_build_module.__)("Bottom border"),onChange:newBorder=>onChange(newBorder,"bottom"),__unstablePopoverProps:popoverProps,value:value?.bottom},sharedBorderControlProps)))}),"BorderBoxControlSplitControls"),border_box_control_split_controls_component=ConnectedBorderBoxControlSplitControls;function useBorderBoxControl(props){const{className,colors=[],onChange,enableAlpha=!1,enableStyle=!0,size="default",value,__experimentalIsRenderedInSidebar=!1,...otherProps}=(0,use_context_system.y)(props,"BorderBoxControl"),mixedBorders=(0,border_box_control_utils.Le)(value),splitBorders=(0,border_box_control_utils.Al)(value),linkedValue=splitBorders?(0,border_box_control_utils.TZ)(value):value,splitValue=splitBorders?value:(0,border_box_control_utils.vw)(value),hasWidthValue=!isNaN(parseFloat(`${linkedValue?.width}`)),[isLinked,setIsLinked]=(0,react.useState)(!mixedBorders),cx=(0,use_cx.I)(),classes=(0,react.useMemo)((()=>cx(borderBoxControl,className)),[cx,className]),linkedControlClassName=(0,react.useMemo)((()=>cx((0,emotion_react_browser_esm.iv)("flex:1;",(0,rtl.b)({marginRight:"24px"})(),";","","",""))),[cx]),wrapperClassName=(0,react.useMemo)((()=>cx(wrapper)),[cx]);return{...otherProps,className:classes,colors,disableUnits:mixedBorders&&!hasWidthValue,enableAlpha,enableStyle,hasMixedBorders:mixedBorders,isLinked,linkedControlClassName,onLinkedChange:newBorder=>{if(!newBorder)return onChange(void 0);if(!mixedBorders||(0,border_box_control_utils.n7)(newBorder))return onChange((0,border_box_control_utils.TT)(newBorder)?void 0:newBorder);const changes=(0,border_box_control_utils.gH)(linkedValue,newBorder),updatedBorders={top:{...value?.top,...changes},right:{...value?.right,...changes},bottom:{...value?.bottom,...changes},left:{...value?.left,...changes}};if((0,border_box_control_utils.Le)(updatedBorders))return onChange(updatedBorders);const filteredResult=(0,border_box_control_utils.TT)(updatedBorders.top)?void 0:updatedBorders.top;onChange(filteredResult)},onSplitChange:(newBorder,side)=>{const updatedBorders={...splitValue,[side]:newBorder};(0,border_box_control_utils.Le)(updatedBorders)?onChange(updatedBorders):onChange(newBorder)},toggleLinked:()=>setIsLinked(!isLinked),linkedValue,size,splitValue,wrapperClassName,__experimentalIsRenderedInSidebar}}const component_BorderLabel=props=>{const{label,hideLabelFromVision}=props;return label?hideLabelFromVision?(0,react.createElement)(visually_hidden_component.Z,{as:"label"},label):(0,react.createElement)(base_control_styles.ar,null,label):null},BorderBoxControl=(0,context_connect.Iq)(((props,forwardedRef)=>{const{className,colors,disableCustomColors,disableUnits,enableAlpha,enableStyle,hasMixedBorders,hideLabelFromVision,isLinked,label,linkedControlClassName,linkedValue,onLinkedChange,onSplitChange,popoverPlacement,popoverOffset,size,splitValue,toggleLinked,wrapperClassName,__experimentalIsRenderedInSidebar,...otherProps}=useBorderBoxControl(props),[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null),popoverProps=(0,react.useMemo)((()=>popoverPlacement?{placement:popoverPlacement,offset:popoverOffset,anchor:popoverAnchor,shift:!0}:void 0),[popoverPlacement,popoverOffset,popoverAnchor]),mergedRef=(0,use_merge_refs.Z)([setPopoverAnchor,forwardedRef]);return(0,react.createElement)(view_component.Z,(0,esm_extends.Z)({className},otherProps,{ref:mergedRef}),(0,react.createElement)(component_BorderLabel,{label,hideLabelFromVision}),(0,react.createElement)(view_component.Z,{className:wrapperClassName},isLinked?(0,react.createElement)(border_control_component,{className:linkedControlClassName,colors,disableUnits,disableCustomColors,enableAlpha,enableStyle,onChange:onLinkedChange,placeholder:hasMixedBorders?(0,i18n_build_module.__)("Mixed"):void 0,__unstablePopoverProps:popoverProps,shouldSanitizeBorder:!1,value:linkedValue,withSlider:!0,width:"__unstable-large"===size?"116px":"110px",__experimentalIsRenderedInSidebar,size}):(0,react.createElement)(border_box_control_split_controls_component,{colors,disableCustomColors,enableAlpha,enableStyle,onChange:onSplitChange,popoverPlacement,popoverOffset,value:splitValue,__experimentalIsRenderedInSidebar,size}),(0,react.createElement)(border_box_control_linked_button_component,{onClick:toggleLinked,isLinked,size})))}),"BorderBoxControl"),border_box_control_component=BorderBoxControl;function utils_mode(inputArray){return[...inputArray].sort(((a,b)=>inputArray.filter((v=>v===b)).length-inputArray.filter((v=>v===a)).length)).shift()}function getAllUnit(selectedUnits={}){const{flat,...cornerUnits}=selectedUnits;return flat||utils_mode(Object.values(cornerUnits).filter(Boolean))||"px"}function getAllValue(values={}){if("string"==typeof values)return values;const parsedQuantitiesAndUnits=Object.values(values).map((value=>(0,utils.YX)(value))),allValues=parsedQuantitiesAndUnits.map((value=>{var _value$;return null!==(_value$=value[0])&&void 0!==_value$?_value$:""})),allUnits=parsedQuantitiesAndUnits.map((value=>value[1])),value=allValues.every((v=>v===allValues[0]))?allValues[0]:"",unit=utils_mode(allUnits);return 0===value||value?`${value}${unit}`:void 0}function hasMixedValues(values={}){const allValue=getAllValue(values);return"string"!=typeof values&&isNaN(parseFloat(allValue))}function hasDefinedValues(values){if(!values)return!1;if("string"==typeof values)return!0;return!!Object.values(values).filter((value=>!!value||0===value)).length}function AllInputControl({onChange,selectedUnits,setSelectedUnits,values,...props}){let allValue=getAllValue(values);void 0===allValue&&(allValue=getAllUnit(selectedUnits));const isMixed=hasDefinedValues(values)&&hasMixedValues(values),allPlaceholder=isMixed?(0,i18n_build_module.__)("Mixed"):null;return(0,react.createElement)(unit_control.ZP,(0,esm_extends.Z)({},props,{"aria-label":(0,i18n_build_module.__)("Border radius"),disableUnits:isMixed,isOnly:!0,value:allValue,onChange:next=>{const isNumeric=!isNaN(parseFloat(next));onChange(isNumeric?next:void 0)},onUnitChange:unit=>{setSelectedUnits({topLeft:unit,topRight:unit,bottomLeft:unit,bottomRight:unit})},placeholder:allPlaceholder,size:"__unstable-large"}))}const CORNERS={topLeft:(0,i18n_build_module.__)("Top left"),topRight:(0,i18n_build_module.__)("Top right"),bottomLeft:(0,i18n_build_module.__)("Bottom left"),bottomRight:(0,i18n_build_module.__)("Bottom right")};function BoxInputControls({onChange,selectedUnits,setSelectedUnits,values:valuesProp,...props}){const createHandleOnChange=corner=>next=>{if(!onChange)return;const nextValue=!isNaN(parseFloat(next))?next:void 0;onChange({...values,[corner]:nextValue})},values="string"!=typeof valuesProp?valuesProp:{topLeft:valuesProp,topRight:valuesProp,bottomLeft:valuesProp,bottomRight:valuesProp};return(0,react.createElement)("div",{className:"components-border-radius-control__input-controls-wrapper"},Object.entries(CORNERS).map((([corner,label])=>{const[parsedQuantity,parsedUnit]=(0,utils.YX)(values[corner]),computedUnit=values[corner]?parsedUnit:selectedUnits[corner]||selectedUnits.flat;return(0,react.createElement)(tooltip.Z,{text:label,position:"top",key:corner},(0,react.createElement)("div",{className:"components-border-radius-control__tooltip-wrapper"},(0,react.createElement)(unit_control.ZP,(0,esm_extends.Z)({},props,{"aria-label":label,value:[parsedQuantity,computedUnit].join(""),onChange:createHandleOnChange(corner),onUnitChange:(side=corner,next=>{const newUnits={...selectedUnits};newUnits[side]=next,setSelectedUnits(newUnits)}),size:"__unstable-large"}))));var side})))}function LinkedButton({isLinked,...props}){const label=isLinked?(0,i18n_build_module.__)("Unlink radii"):(0,i18n_build_module.__)("Link radii");return(0,react.createElement)(tooltip.Z,{text:label},(0,react.createElement)("span",null,(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({},props,{className:"component-border-radius-control__linked-button",isSmall:!0,icon:isLinked?library_link.Z:link_off.Z,iconSize:24,"aria-label":label}))))}const border_radius_control_DEFAULT_VALUES={topLeft:void 0,topRight:void 0,bottomLeft:void 0,bottomRight:void 0},MIN_BORDER_RADIUS_VALUE=0,MAX_BORDER_RADIUS_VALUES={px:100,em:20,rem:20};function BorderRadiusControl({onChange,values}){const[isLinked,setIsLinked]=(0,react.useState)(!hasDefinedValues(values)||!hasMixedValues(values)),[selectedUnits,setSelectedUnits]=(0,react.useState)({flat:"string"==typeof values?(0,utils.YX)(values)[1]:void 0,topLeft:(0,utils.YX)(values?.topLeft)[1],topRight:(0,utils.YX)(values?.topRight)[1],bottomLeft:(0,utils.YX)(values?.bottomLeft)[1],bottomRight:(0,utils.YX)(values?.bottomRight)[1]}),units=(0,utils.nj)({availableUnits:use_setting_useSetting("spacing.units")||["px","em","rem"]}),unit=getAllUnit(selectedUnits),unitConfig=units&&units.find((item=>item.value===unit)),step=unitConfig?.step||1,[allValue]=(0,utils.YX)(getAllValue(values));return(0,react.createElement)("fieldset",{className:"components-border-radius-control"},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},(0,i18n_build_module.__)("Radius")),(0,react.createElement)("div",{className:"components-border-radius-control__wrapper"},isLinked?(0,react.createElement)(react.Fragment,null,(0,react.createElement)(AllInputControl,{className:"components-border-radius-control__unit-control",values,min:MIN_BORDER_RADIUS_VALUE,onChange,selectedUnits,setSelectedUnits,units}),(0,react.createElement)(range_control.Z,{label:(0,i18n_build_module.__)("Border radius"),hideLabelFromVision:!0,className:"components-border-radius-control__range-control",value:null!=allValue?allValue:"",min:MIN_BORDER_RADIUS_VALUE,max:MAX_BORDER_RADIUS_VALUES[unit],initialPosition:0,withInputField:!1,onChange:next=>{onChange(void 0!==next?`${next}${unit}`:void 0)},step,__nextHasNoMarginBottom:!0})):(0,react.createElement)(BoxInputControls,{min:MIN_BORDER_RADIUS_VALUE,onChange,selectedUnits,setSelectedUnits,values:values||border_radius_control_DEFAULT_VALUES,units}),(0,react.createElement)(LinkedButton,{onClick:()=>setIsLinked(!isLinked),isLinked})))}function useHasBorderPanel(settings){return[useHasBorderColorControl(settings),useHasBorderRadiusControl(settings),useHasBorderStyleControl(settings),useHasBorderWidthControl(settings)].some(Boolean)}function useHasBorderColorControl(settings){return settings?.border?.color}function useHasBorderRadiusControl(settings){return settings?.border?.radius}function useHasBorderStyleControl(settings){return settings?.border?.style}function useHasBorderWidthControl(settings){return settings?.border?.width}function BorderToolsPanel({resetAllFilter,onChange,value,panelId,children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Border"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId},children)}const border_panel_DEFAULT_CONTROLS={radius:!0,color:!0,width:!0};function BorderPanel({as:Wrapper=BorderToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=border_panel_DEFAULT_CONTROLS}){const colors=useColorsPerOrigin(settings),encodeColorValue=colorValue=>{const colorObject=colors.flatMap((({colors:originColors})=>originColors)).find((({color})=>color===colorValue));return colorObject?"var:preset|color|"+colorObject.slug:colorValue},decodeColorValue=(0,react.useCallback)((colorValue=>{const colorObject=colors.flatMap((({colors:originColors})=>originColors)).find((({slug})=>colorValue==="var:preset|color|"+slug));return colorObject?colorObject.color:colorValue}),[colors]),border=(0,react.useMemo)((()=>{if((0,border_box_control_utils.Al)(inheritedValue?.border)){const borderValue={...inheritedValue?.border};return["top","right","bottom","left"].forEach((side=>{borderValue[side]={...borderValue[side],color:decodeColorValue(borderValue[side]?.color)}})),borderValue}return{...inheritedValue?.border,color:inheritedValue?.border?.color?decodeColorValue(inheritedValue?.border?.color):void 0}}),[inheritedValue?.border,decodeColorValue]),setBorder=newBorder=>onChange({...value,border:newBorder}),showBorderColor=useHasBorderColorControl(settings),showBorderStyle=useHasBorderStyleControl(settings),showBorderWidth=useHasBorderWidthControl(settings),showBorderRadius=useHasBorderRadiusControl(settings),borderRadiusValues=(rawValue=border?.radius,getValueFromVariable({settings},"",rawValue));var rawValue;const setBorderRadius=newBorderRadius=>setBorder({...border,radius:newBorderRadius}),hasBorderRadius=()=>{const borderValues=value?.border?.radius;return"object"==typeof borderValues?Object.entries(borderValues).some(Boolean):!!borderValues},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,border:void 0})),[]),showBorderByDefault=defaultControls?.color||defaultControls?.width;return(0,react.createElement)(Wrapper,{resetAllFilter,value,onChange,panelId},(showBorderWidth||showBorderColor)&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>(0,border_box_control_utils.lX)(value?.border),label:(0,i18n_build_module.__)("Border"),onDeselect:()=>(()=>{if(hasBorderRadius())return setBorder({radius:value?.border?.radius});setBorder(void 0)})(),isShownByDefault:showBorderByDefault,panelId},(0,react.createElement)(border_box_control_component,{colors,enableAlpha:!0,enableStyle:showBorderStyle,onChange:newBorder=>{const updatedBorder={...newBorder};(0,border_box_control_utils.Al)(updatedBorder)?["top","right","bottom","left"].forEach((side=>{updatedBorder[side]&&(updatedBorder[side]={...updatedBorder[side],color:encodeColorValue(updatedBorder[side]?.color)})})):updatedBorder&&(updatedBorder.color=encodeColorValue(updatedBorder.color)),setBorder({radius:border?.radius,...updatedBorder})},popoverOffset:40,popoverPlacement:"left-start",value:border,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large"})),showBorderRadius&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:hasBorderRadius,label:(0,i18n_build_module.__)("Radius"),onDeselect:()=>setBorderRadius(void 0),isShownByDefault:defaultControls.radius,panelId},(0,react.createElement)(BorderRadiusControl,{values:borderRadiusValues,onChange:newValue=>{setBorderRadius(newValue||void 0)}})))}const border_BORDER_SUPPORT_KEY="__experimentalBorder",getColorByProperty=(colors,property,value)=>{let matchedColor;return colors.some((origin=>origin.colors.some((color=>color[property]===value&&(matchedColor=color,!0))))),matchedColor},getMultiOriginColor=({colors,namedColor,customColor})=>{if(namedColor){const colorObject=getColorByProperty(colors,"slug",namedColor);if(colorObject)return colorObject}if(!customColor)return{color:void 0};const colorObject=getColorByProperty(colors,"color",customColor);return colorObject||{color:customColor}};function getColorSlugFromVariable(value){const namedColor=/var:preset\|color\|(.+)/.exec(value);return namedColor&&namedColor[1]?namedColor[1]:null}function styleToAttributes(style){if((0,border_box_control_utils.Al)(style?.border))return{style,borderColor:void 0};const borderColorValue=style?.border?.color,borderColorSlug=borderColorValue?.startsWith("var:preset|color|")?borderColorValue.substring(17):void 0,updatedStyle={...style};return updatedStyle.border={...updatedStyle.border,color:borderColorSlug?void 0:borderColorValue},{style:utils_cleanEmptyObject(updatedStyle),borderColor:borderColorSlug}}function attributesToStyle(attributes){return(0,border_box_control_utils.Al)(attributes.style?.border)?attributes.style:{...attributes.style,border:{...attributes.style?.border,color:attributes.borderColor?"var:preset|color|"+attributes.borderColor:attributes.style?.border?.color}}}function BordersInspectorControl({children,resetAllFilter}){const attributesResetAllFilter=(0,react.useCallback)((attributes=>{const existingStyle=attributesToStyle(attributes),updatedStyle=resetAllFilter(existingStyle);return{...attributes,...styleToAttributes(updatedStyle)}}),[resetAllFilter]);return(0,react.createElement)(inspector_controls,{group:"border",resetAllFilter:attributesResetAllFilter},children)}function border_BorderPanel(props){const{clientId,name,attributes,setAttributes}=props,settings=useBlockSettings(name),isEnabled=useHasBorderPanel(settings),value=(0,react.useMemo)((()=>attributesToStyle({style:attributes.style,borderColor:attributes.borderColor})),[attributes.style,attributes.borderColor]);if(!isEnabled)return null;const defaultControls=(0,build_module.Dx)(props.name,[border_BORDER_SUPPORT_KEY,"__experimentalDefaultControls"]);return(0,react.createElement)(BorderPanel,{as:BordersInspectorControl,panelId:clientId,settings,value,onChange:newStyle=>{setAttributes(styleToAttributes(newStyle))},defaultControls})}function border_hasBorderSupport(blockName,feature="any"){if("web"!==platform.Z.OS)return!1;const support=(0,build_module.Dx)(blockName,border_BORDER_SUPPORT_KEY);return!0===support||("any"===feature?!!(support?.color||support?.radius||support?.width||support?.style):!!support?.[feature])}function border_addSaveProps(props,blockType,attributes){if(!border_hasBorderSupport(blockType,"color")||shouldSkipSerialization(blockType,border_BORDER_SUPPORT_KEY,"color"))return props;const borderClasses=getBorderClasses(attributes),newClassName=classnames_default()(props.className,borderClasses);return props.className=newClassName||void 0,props}function getBorderClasses(attributes){const{borderColor,style}=attributes,borderColorClass=getColorClassName("border-color",borderColor);return classnames_default()({"has-border-color":borderColor||style?.border?.color,[borderColorClass]:!!borderColorClass})}const withBorderColorPaletteStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const{name,attributes}=props,{borderColor,style}=attributes,{colors}=useMultipleOriginColorsAndGradients();if(!border_hasBorderSupport(name,"color")||shouldSkipSerialization(name,border_BORDER_SUPPORT_KEY,"color"))return(0,react.createElement)(BlockListBlock,props);const{color:borderColorValue}=getMultiOriginColor({colors,namedColor:borderColor}),{color:borderTopColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style?.border?.top?.color)}),{color:borderRightColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style?.border?.right?.color)}),{color:borderBottomColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style?.border?.bottom?.color)}),{color:borderLeftColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style?.border?.left?.color)}),extraStyles={borderTopColor:borderTopColor||borderColorValue,borderRightColor:borderRightColor||borderColorValue,borderBottomColor:borderBottomColor||borderColorValue,borderLeftColor:borderLeftColor||borderColorValue};let wrapperProps=props.wrapperProps;return wrapperProps={...props.wrapperProps,style:{...props.wrapperProps?.style,...extraStyles}},(0,react.createElement)(BlockListBlock,(0,esm_extends.Z)({},props,{wrapperProps}))}),"withBorderColorPaletteStyles");function __experimentalGetGradientClass(gradientSlug){if(gradientSlug)return`has-${gradientSlug}-gradient-background`}function getGradientValueBySlug(gradients,slug){const gradient=gradients?.find((g=>g.slug===slug));return gradient&&gradient.gradient}function __experimentalUseGradient({gradientAttribute="gradient",customGradientAttribute="customGradient"}={}){const{clientId}=useBlockEditContext(),userGradientPalette=use_setting_useSetting("color.gradients.custom"),themeGradientPalette=use_setting_useSetting("color.gradients.theme"),defaultGradientPalette=use_setting_useSetting("color.gradients.default"),allGradients=(0,react.useMemo)((()=>[...userGradientPalette||[],...themeGradientPalette||[],...defaultGradientPalette||[]]),[userGradientPalette,themeGradientPalette,defaultGradientPalette]),{gradient,customGradient}=(0,use_select.Z)((select=>{const{getBlockAttributes}=select(store),attributes=getBlockAttributes(clientId)||{};return{customGradient:attributes[customGradientAttribute],gradient:attributes[gradientAttribute]}}),[clientId,gradientAttribute,customGradientAttribute]),{updateBlockAttributes}=(0,use_dispatch.Z)(store),setGradient=(0,react.useCallback)((newGradientValue=>{const slug=function getGradientSlugByValue(gradients,value){const gradient=function __experimentalGetGradientObjectByGradientValue(gradients,value){const gradient=gradients?.find((g=>g.gradient===value));return gradient}(gradients,value);return gradient&&gradient.slug}(allGradients,newGradientValue);updateBlockAttributes(clientId,slug?{[gradientAttribute]:slug,[customGradientAttribute]:void 0}:{[gradientAttribute]:void 0,[customGradientAttribute]:newGradientValue})}),[allGradients,clientId,updateBlockAttributes]),gradientClass=__experimentalGetGradientClass(gradient);let gradientValue;return gradientValue=gradient?getGradientValueBySlug(allGradients,gradient):customGradient,{gradientClass,gradientValue,setGradient}}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/border/addAttributes",(function addAttributes(settings){return border_hasBorderSupport(settings,"color")?settings.attributes.borderColor?settings:{...settings,attributes:{...settings.attributes,borderColor:{type:"string"}}}:settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/border/addSaveProps",border_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/border/addEditProps",(function addEditProps(settings){if(!border_hasBorderSupport(settings,"color")||shouldSkipSerialization(settings,border_BORDER_SUPPORT_KEY,"color"))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),border_addSaveProps(props,settings,attributes)},settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/border/with-border-color-palette-styles",withBorderColorPaletteStyles);var z_stack_component=__webpack_require__("./packages/components/build-module/z-stack/component.js"),gradient_picker=__webpack_require__("./packages/components/build-module/gradient-picker/index.js");const colorsAndGradientKeys=["colors","disableCustomColors","gradients","disableCustomGradients"],TAB_COLOR={name:"color",title:"Solid",value:"color"},TAB_GRADIENT={name:"gradient",title:"Gradient",value:"gradient"},TABS_SETTINGS=[TAB_COLOR,TAB_GRADIENT];function ColorGradientControlInner({colors,gradients,disableCustomColors,disableCustomGradients,__experimentalIsRenderedInSidebar,className,label,onColorChange,onGradientChange,colorValue,gradientValue,clearable,showTitle=!0,enableAlpha,headingLevel}){const canChooseAColor=onColorChange&&(colors&&colors.length>0||!disableCustomColors),canChooseAGradient=onGradientChange&&(gradients&&gradients.length>0||!disableCustomGradients);if(!canChooseAColor&&!canChooseAGradient)return null;const tabPanels={[TAB_COLOR.value]:(0,react.createElement)(color_palette.ZP,{value:colorValue,onChange:canChooseAGradient?newColor=>{onColorChange(newColor),onGradientChange()}:onColorChange,colors,disableCustomColors,__experimentalIsRenderedInSidebar,clearable,enableAlpha,headingLevel}),[TAB_GRADIENT.value]:(0,react.createElement)(gradient_picker.Z,{__nextHasNoMargin:!0,value:gradientValue,onChange:canChooseAColor?newGradient=>{onGradientChange(newGradient),onColorChange()}:onGradientChange,gradients,disableCustomGradients,__experimentalIsRenderedInSidebar,clearable,headingLevel})},renderPanelType=type=>(0,react.createElement)("div",{className:"block-editor-color-gradient-control__panel"},tabPanels[type]);return(0,react.createElement)(base_control.ZP,{__nextHasNoMarginBottom:!0,className:classnames_default()("block-editor-color-gradient-control",className)},(0,react.createElement)("fieldset",{className:"block-editor-color-gradient-control__fieldset"},(0,react.createElement)(v_stack_component.Z,{spacing:1},showTitle&&(0,react.createElement)("legend",null,(0,react.createElement)("div",{className:"block-editor-color-gradient-control__color-indicator"},(0,react.createElement)(base_control.ZP.VisualLabel,null,label))),canChooseAColor&&canChooseAGradient&&(0,react.createElement)(tab_panel.Z,{className:"block-editor-color-gradient-control__tabs",tabs:TABS_SETTINGS,initialTabName:gradientValue?TAB_GRADIENT.value:!!canChooseAColor&&TAB_COLOR.value},(tab=>renderPanelType(tab.value))),!canChooseAGradient&&renderPanelType(TAB_COLOR.value),!canChooseAColor&&renderPanelType(TAB_GRADIENT.value))))}function ColorGradientControlSelect(props){const colorGradientSettings={};return colorGradientSettings.colors=use_setting_useSetting("color.palette"),colorGradientSettings.gradients=use_setting_useSetting("color.gradients"),colorGradientSettings.disableCustomColors=!use_setting_useSetting("color.custom"),colorGradientSettings.disableCustomGradients=!use_setting_useSetting("color.customGradient"),(0,react.createElement)(ColorGradientControlInner,(0,esm_extends.Z)({},colorGradientSettings,props))}const control=function ColorGradientControl(props){return colorsAndGradientKeys.every((key=>props.hasOwnProperty(key)))?(0,react.createElement)(ColorGradientControlInner,props):(0,react.createElement)(ColorGradientControlSelect,props)};function useHasColorPanel(settings){const hasTextPanel=useHasTextPanel(settings),hasBackgroundPanel=useHasBackgroundPanel(settings),hasLinkPanel=useHasLinkPanel(settings),hasHeadingPanel=useHasHeadingPanel(settings),hasButtonPanel=useHasHeadingPanel(settings),hasCaptionPanel=useHasCaptionPanel(settings);return hasTextPanel||hasBackgroundPanel||hasLinkPanel||hasHeadingPanel||hasButtonPanel||hasCaptionPanel}function useHasTextPanel(settings){const colors=useColorsPerOrigin(settings);return settings?.color?.text&&(colors?.length>0||settings?.color?.custom)}function useHasLinkPanel(settings){const colors=useColorsPerOrigin(settings);return settings?.color?.link&&(colors?.length>0||settings?.color?.custom)}function useHasCaptionPanel(settings){const colors=useColorsPerOrigin(settings);return settings?.color?.caption&&(colors?.length>0||settings?.color?.custom)}function useHasHeadingPanel(settings){const colors=useColorsPerOrigin(settings),gradients=useGradientsPerOrigin(settings);return settings?.color?.heading&&(colors?.length>0||settings?.color?.custom||gradients?.length>0||settings?.color?.customGradient)}function useHasButtonPanel(settings){const colors=useColorsPerOrigin(settings),gradients=useGradientsPerOrigin(settings);return settings?.color?.button&&(colors?.length>0||settings?.color?.custom||gradients?.length>0||settings?.color?.customGradient)}function useHasBackgroundPanel(settings){const colors=useColorsPerOrigin(settings),gradients=useGradientsPerOrigin(settings);return settings?.color?.background&&(colors?.length>0||settings?.color?.custom||gradients?.length>0||settings?.color?.customGradient)}function ColorToolsPanel({resetAllFilter,onChange,value,panelId,children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Color"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId,hasInnerWrapper:!0,className:"color-block-support-panel",__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last"},(0,react.createElement)("div",{className:"color-block-support-panel__inner-wrapper"},children))}const color_panel_DEFAULT_CONTROLS={text:!0,background:!0,link:!0,heading:!0,button:!0,caption:!0},popoverProps={placement:"left-start",offset:36,shift:!0},LabeledColorIndicators=({indicators,label})=>(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(z_stack_component.Z,{isLayered:!1,offset:-8},indicators.map(((indicator,index)=>(0,react.createElement)(component.Z,{key:index,expanded:!1},(0,react.createElement)(color_indicator.Z,{colorValue:indicator}))))),(0,react.createElement)(flex_item_component.Z,{className:"block-editor-panel-color-gradient-settings__color-name",title:label},label));function ColorPanelTab({isGradient,inheritedValue,userValue,setValue,colorGradientControlSettings}){return(0,react.createElement)(control,(0,esm_extends.Z)({},colorGradientControlSettings,{showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:isGradient?void 0:inheritedValue,gradientValue:isGradient?inheritedValue:void 0,onColorChange:isGradient?void 0:setValue,onGradientChange:isGradient?setValue:void 0,clearable:inheritedValue===userValue,headingLevel:3}))}function ColorPanelDropdown({label,hasValue,resetValue,isShownByDefault,indicators,tabs,colorGradientControlSettings,panelId}){const tabConfigs=tabs.map((({key,label:tabLabel})=>({name:key,title:tabLabel})));return(0,react.createElement)(tools_panel_item_component.Z,{className:"block-editor-tools-panel-color-gradient-settings__item",hasValue,label,onDeselect:resetValue,isShownByDefault,panelId},(0,react.createElement)(dropdown.Z,{popoverProps,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle,isOpen})=>{const toggleProps={onClick:onToggle,className:classnames_default()("block-editor-panel-color-gradient-settings__dropdown",{"is-open":isOpen}),"aria-expanded":isOpen,"aria-label":(0,i18n_build_module.gB)((0,i18n_build_module.__)("Color %s styles"),label)};return(0,react.createElement)(build_module_button.ZP,toggleProps,(0,react.createElement)(LabeledColorIndicators,{indicators,label}))},renderContent:()=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"none"},(0,react.createElement)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content"},1===tabs.length&&(0,react.createElement)(ColorPanelTab,(0,esm_extends.Z)({},tabs[0],{colorGradientControlSettings})),tabs.length>1&&(0,react.createElement)(tab_panel.Z,{tabs:tabConfigs},(tab=>{const selectedTab=tabs.find((t=>t.key===tab.name));return selectedTab?(0,react.createElement)(ColorPanelTab,(0,esm_extends.Z)({},selectedTab,{colorGradientControlSettings})):null}))))}))}function ColorPanel({as:Wrapper=ColorToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=color_panel_DEFAULT_CONTROLS,children}){const colors=useColorsPerOrigin(settings),gradients=useGradientsPerOrigin(settings),areCustomSolidsEnabled=settings?.color?.custom,areCustomGradientsEnabled=settings?.color?.customGradient,hasSolidColors=colors.length>0||areCustomSolidsEnabled,hasGradientColors=gradients.length>0||areCustomGradientsEnabled,decodeValue=rawValue=>getValueFromVariable({settings},"",rawValue),encodeColorValue=colorValue=>{const colorObject=colors.flatMap((({colors:originColors})=>originColors)).find((({color})=>color===colorValue));return colorObject?"var:preset|color|"+colorObject.slug:colorValue},encodeGradientValue=gradientValue=>{const gradientObject=gradients.flatMap((({gradients:originGradients})=>originGradients)).find((({gradient})=>gradient===gradientValue));return gradientObject?"var:preset|gradient|"+gradientObject.slug:gradientValue},showTextPanel=useHasTextPanel(settings),textColor=decodeValue(inheritedValue?.color?.text),userTextColor=decodeValue(value?.color?.text),setTextColor=newColor=>{onChange(setImmutably(value,["color","text"],encodeColorValue(newColor)))},showBackgroundPanel=useHasBackgroundPanel(settings),backgroundColor=decodeValue(inheritedValue?.color?.background),userBackgroundColor=decodeValue(value?.color?.background),gradient=decodeValue(inheritedValue?.color?.gradient),userGradient=decodeValue(value?.color?.gradient),showLinkPanel=useHasLinkPanel(settings),linkColor=decodeValue(inheritedValue?.elements?.link?.color?.text),userLinkColor=decodeValue(value?.elements?.link?.color?.text),hoverLinkColor=decodeValue(inheritedValue?.elements?.link?.[":hover"]?.color?.text),userHoverLinkColor=decodeValue(value?.elements?.link?.[":hover"]?.color?.text),elements=[{name:"caption",label:(0,i18n_build_module.__)("Captions"),showPanel:useHasCaptionPanel(settings)},{name:"button",label:(0,i18n_build_module.__)("Button"),showPanel:useHasButtonPanel(settings)},{name:"heading",label:(0,i18n_build_module.__)("Heading"),showPanel:useHasHeadingPanel(settings)},{name:"h1",label:(0,i18n_build_module.__)("H1"),showPanel:useHasHeadingPanel(settings)},{name:"h2",label:(0,i18n_build_module.__)("H2"),showPanel:useHasHeadingPanel(settings)},{name:"h3",label:(0,i18n_build_module.__)("H3"),showPanel:useHasHeadingPanel(settings)},{name:"h4",label:(0,i18n_build_module.__)("H4"),showPanel:useHasHeadingPanel(settings)},{name:"h5",label:(0,i18n_build_module.__)("H5"),showPanel:useHasHeadingPanel(settings)},{name:"h6",label:(0,i18n_build_module.__)("H6"),showPanel:useHasHeadingPanel(settings)}],resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,color:void 0,elements:{...previousValue?.elements,link:{...previousValue?.elements?.link,color:void 0,":hover":{color:void 0}},...elements.reduce(((acc,element)=>({...acc,[element.name]:{...previousValue?.elements?.[element.name],color:void 0}})),{})}})),[]),items=[showTextPanel&&{key:"text",label:(0,i18n_build_module.__)("Text"),hasValue:()=>!!userTextColor,resetValue:()=>setTextColor(void 0),isShownByDefault:defaultControls.text,indicators:[textColor],tabs:[{key:"text",label:(0,i18n_build_module.__)("Text"),inheritedValue:textColor,setValue:setTextColor,userValue:userTextColor}]},showBackgroundPanel&&{key:"background",label:(0,i18n_build_module.__)("Background"),hasValue:()=>!!userBackgroundColor||!!userGradient,resetValue:()=>{const newValue=setImmutably(value,["color","background"],void 0);newValue.color.gradient=void 0,onChange(newValue)},isShownByDefault:defaultControls.background,indicators:[null!=gradient?gradient:backgroundColor],tabs:[hasSolidColors&&{key:"background",label:(0,i18n_build_module.__)("Solid"),inheritedValue:backgroundColor,setValue:newColor=>{const newValue=setImmutably(value,["color","background"],encodeColorValue(newColor));newValue.color.gradient=void 0,onChange(newValue)},userValue:userBackgroundColor},hasGradientColors&&{key:"gradient",label:(0,i18n_build_module.__)("Gradient"),inheritedValue:gradient,setValue:newGradient=>{const newValue=setImmutably(value,["color","gradient"],encodeGradientValue(newGradient));newValue.color.background=void 0,onChange(newValue)},userValue:userGradient,isGradient:!0}].filter(Boolean)},showLinkPanel&&{key:"link",label:(0,i18n_build_module.__)("Link"),hasValue:()=>!!userLinkColor||!!userHoverLinkColor,resetValue:()=>{let newValue=setImmutably(value,["elements","link",":hover","color","text"],void 0);newValue=setImmutably(newValue,["elements","link","color","text"],void 0),onChange(newValue)},isShownByDefault:defaultControls.link,indicators:[linkColor,hoverLinkColor],tabs:[{key:"link",label:(0,i18n_build_module.__)("Default"),inheritedValue:linkColor,setValue:newColor=>{onChange(setImmutably(value,["elements","link","color","text"],encodeColorValue(newColor)))},userValue:userLinkColor},{key:"hover",label:(0,i18n_build_module.__)("Hover"),inheritedValue:hoverLinkColor,setValue:newColor=>{onChange(setImmutably(value,["elements","link",":hover","color","text"],encodeColorValue(newColor)))},userValue:userHoverLinkColor}]}].filter(Boolean);return elements.forEach((({name,label,showPanel})=>{if(!showPanel)return;const elementBackgroundColor=decodeValue(inheritedValue?.elements?.[name]?.color?.background),elementGradient=decodeValue(inheritedValue?.elements?.[name]?.color?.gradient),elementTextColor=decodeValue(inheritedValue?.elements?.[name]?.color?.text),elementBackgroundUserColor=decodeValue(value?.elements?.[name]?.color?.background),elementGradientUserColor=decodeValue(value?.elements?.[name]?.color?.gradient),elementTextUserColor=decodeValue(value?.elements?.[name]?.color?.text),supportsBackground="caption"!==name;items.push({key:name,label,hasValue:()=>!!(elementTextUserColor||elementBackgroundUserColor||elementGradientUserColor),resetValue:()=>{const newValue=setImmutably(value,["elements",name,"color","background"],void 0);newValue.elements[name].color.gradient=void 0,newValue.elements[name].color.text=void 0,onChange(newValue)},isShownByDefault:defaultControls[name],indicators:supportsBackground?[elementTextColor,null!=elementGradient?elementGradient:elementBackgroundColor]:[elementTextColor],tabs:[hasSolidColors&&{key:"text",label:(0,i18n_build_module.__)("Text"),inheritedValue:elementTextColor,setValue:newTextColor=>{onChange(setImmutably(value,["elements",name,"color","text"],encodeColorValue(newTextColor)))},userValue:elementTextUserColor},hasSolidColors&&supportsBackground&&{key:"background",label:(0,i18n_build_module.__)("Background"),inheritedValue:elementBackgroundColor,setValue:newBackgroundColor=>{const newValue=setImmutably(value,["elements",name,"color","background"],encodeColorValue(newBackgroundColor));newValue.elements[name].color.gradient=void 0,onChange(newValue)},userValue:elementBackgroundUserColor},hasGradientColors&&supportsBackground&&{key:"gradient",label:(0,i18n_build_module.__)("Gradient"),inheritedValue:elementGradient,setValue:newGradient=>{const newValue=setImmutably(value,["elements",name,"color","gradient"],encodeGradientValue(newGradient));newValue.elements[name].color.background=void 0,onChange(newValue)},userValue:elementGradientUserColor,isGradient:!0}].filter(Boolean)})})),(0,react.createElement)(Wrapper,{resetAllFilter,value,onChange,panelId},items.map((item=>(0,react.createElement)(ColorPanelDropdown,(0,esm_extends.Z)({key:item.key},item,{colorGradientControlSettings:{colors,disableCustomColors:!areCustomSolidsEnabled,gradients,disableCustomGradients:!areCustomGradientsEnabled},panelId})))),children)}var notice=__webpack_require__("./packages/components/build-module/notice/index.js");(0,colord.l7)([names.Z,a11y.Z]);const contrast_checker=function ContrastChecker({backgroundColor,fallbackBackgroundColor,fallbackTextColor,fallbackLinkColor,fontSize,isLargeText,textColor,linkColor,enableAlphaChecker=!1}){const currentBackgroundColor=backgroundColor||fallbackBackgroundColor;if(!currentBackgroundColor)return null;const currentTextColor=textColor||fallbackTextColor,currentLinkColor=linkColor||fallbackLinkColor;if(!currentTextColor&&!currentLinkColor)return null;const textColors=[{color:currentTextColor,description:(0,i18n_build_module.__)("text color")},{color:currentLinkColor,description:(0,i18n_build_module.__)("link color")}],colordBackgroundColor=(0,colord.Vi)(currentBackgroundColor),backgroundColorHasTransparency=colordBackgroundColor.alpha()<1,backgroundColorBrightness=colordBackgroundColor.brightness(),isReadableOptions={level:"AA",size:isLargeText||!1!==isLargeText&&fontSize>=24?"large":"small"};let message="",speakMessage="";for(const item of textColors){if(!item.color)continue;const colordTextColor=(0,colord.Vi)(item.color),isColordTextReadable=colordTextColor.isReadable(colordBackgroundColor,isReadableOptions),textHasTransparency=colordTextColor.alpha()<1;if(!isColordTextReadable){if(backgroundColorHasTransparency||textHasTransparency)continue;message=backgroundColorBrightness<colordTextColor.brightness()?(0,i18n_build_module.gB)((0,i18n_build_module.__)("This color combination may be hard for people to read. Try using a darker background color and/or a brighter %s."),item.description):(0,i18n_build_module.gB)((0,i18n_build_module.__)("This color combination may be hard for people to read. Try using a brighter background color and/or a darker %s."),item.description),speakMessage=(0,i18n_build_module.__)("This color combination may be hard for people to read.");break}textHasTransparency&&enableAlphaChecker&&(message=(0,i18n_build_module.__)("Transparent text may be hard for people to read."),speakMessage=(0,i18n_build_module.__)("Transparent text may be hard for people to read."))}return message?((0,a11y_build_module.D)(speakMessage),(0,react.createElement)("div",{className:"block-editor-contrast-checker"},(0,react.createElement)(notice.Z,{spokenMessage:null,status:"warning",isDismissible:!1},message))):null};function getComputedStyle(node){return node.ownerDocument.defaultView.getComputedStyle(node)}function BlockColorContrastChecker({clientId}){const[detectedBackgroundColor,setDetectedBackgroundColor]=(0,react.useState)(),[detectedColor,setDetectedColor]=(0,react.useState)(),[detectedLinkColor,setDetectedLinkColor]=(0,react.useState)(),ref=useBlockRef(clientId);return(0,react.useEffect)((()=>{if(!ref.current)return;setDetectedColor(getComputedStyle(ref.current).color);const firstLinkElement=ref.current?.querySelector("a");firstLinkElement&&firstLinkElement.innerText&&setDetectedLinkColor(getComputedStyle(firstLinkElement).color);let backgroundColorNode=ref.current,backgroundColor=getComputedStyle(backgroundColorNode).backgroundColor;for(;"rgba(0, 0, 0, 0)"===backgroundColor&&backgroundColorNode.parentNode&&backgroundColorNode.parentNode.nodeType===backgroundColorNode.parentNode.ELEMENT_NODE;)backgroundColorNode=backgroundColorNode.parentNode,backgroundColor=getComputedStyle(backgroundColorNode).backgroundColor;setDetectedBackgroundColor(backgroundColor)})),(0,react.createElement)(contrast_checker,{backgroundColor:detectedBackgroundColor,textColor:detectedColor,enableAlphaChecker:!0,linkColor:detectedLinkColor})}const color_COLOR_SUPPORT_KEY="color",color_hasColorSupport=blockType=>{const colorSupport=(0,build_module.Dx)(blockType,color_COLOR_SUPPORT_KEY);return colorSupport&&(!0===colorSupport.link||!0===colorSupport.gradient||!1!==colorSupport.background||!1!==colorSupport.text)},color_hasLinkColorSupport=blockType=>{if("web"!==platform.Z.OS)return!1;const colorSupport=(0,build_module.Dx)(blockType,color_COLOR_SUPPORT_KEY);return null!==colorSupport&&"object"==typeof colorSupport&&!!colorSupport.link},color_hasGradientSupport=blockType=>{const colorSupport=(0,build_module.Dx)(blockType,color_COLOR_SUPPORT_KEY);return null!==colorSupport&&"object"==typeof colorSupport&&!!colorSupport.gradients},color_hasBackgroundColorSupport=blockType=>{const colorSupport=(0,build_module.Dx)(blockType,color_COLOR_SUPPORT_KEY);return colorSupport&&!1!==colorSupport.background},color_hasTextColorSupport=blockType=>{const colorSupport=(0,build_module.Dx)(blockType,color_COLOR_SUPPORT_KEY);return colorSupport&&!1!==colorSupport.text};function color_addSaveProps(props,blockType,attributes){if(!color_hasColorSupport(blockType)||shouldSkipSerialization(blockType,color_COLOR_SUPPORT_KEY))return props;const hasGradient=color_hasGradientSupport(blockType),{backgroundColor,textColor,gradient,style}=attributes,shouldSerialize=feature=>!shouldSkipSerialization(blockType,color_COLOR_SUPPORT_KEY,feature),textClass=shouldSerialize("text")?getColorClassName("color",textColor):void 0,gradientClass=shouldSerialize("gradients")?__experimentalGetGradientClass(gradient):void 0,backgroundClass=shouldSerialize("background")?getColorClassName("background-color",backgroundColor):void 0,serializeHasBackground=shouldSerialize("background")||shouldSerialize("gradients"),hasBackground=backgroundColor||style?.color?.background||hasGradient&&(gradient||style?.color?.gradient),newClassName=classnames_default()(props.className,textClass,gradientClass,{[backgroundClass]:!(hasGradient&&style?.color?.gradient||!backgroundClass),"has-text-color":shouldSerialize("text")&&(textColor||style?.color?.text),"has-background":serializeHasBackground&&hasBackground,"has-link-color":shouldSerialize("link")&&style?.elements?.link?.color});return props.className=newClassName||void 0,props}function color_styleToAttributes(style){const textColorValue=style?.color?.text,textColorSlug=textColorValue?.startsWith("var:preset|color|")?textColorValue.substring(17):void 0,backgroundColorValue=style?.color?.background,backgroundColorSlug=backgroundColorValue?.startsWith("var:preset|color|")?backgroundColorValue.substring(17):void 0,gradientValue=style?.color?.gradient,gradientSlug=gradientValue?.startsWith("var:preset|gradient|")?gradientValue.substring(20):void 0,updatedStyle={...style};return updatedStyle.color={...updatedStyle.color,text:textColorSlug?void 0:textColorValue,background:backgroundColorSlug?void 0:backgroundColorValue,gradient:gradientSlug?void 0:gradientValue},{style:utils_cleanEmptyObject(updatedStyle),textColor:textColorSlug,backgroundColor:backgroundColorSlug,gradient:gradientSlug}}function color_attributesToStyle(attributes){return{...attributes.style,color:{...attributes.style?.color,text:attributes.textColor?"var:preset|color|"+attributes.textColor:attributes.style?.color?.text,background:attributes.backgroundColor?"var:preset|color|"+attributes.backgroundColor:attributes.style?.color?.background,gradient:attributes.gradient?"var:preset|gradient|"+attributes.gradient:attributes.style?.color?.gradient}}}function ColorInspectorControl({children,resetAllFilter}){const attributesResetAllFilter=(0,react.useCallback)((attributes=>{const existingStyle=color_attributesToStyle(attributes),updatedStyle=resetAllFilter(existingStyle);return{...attributes,...color_styleToAttributes(updatedStyle)}}),[resetAllFilter]);return(0,react.createElement)(inspector_controls,{group:"color",resetAllFilter:attributesResetAllFilter},children)}function ColorEdit(props){const{clientId,name,attributes,setAttributes}=props,settings=useBlockSettings(name),isEnabled=useHasColorPanel(settings),value=(0,react.useMemo)((()=>color_attributesToStyle({style:attributes.style,textColor:attributes.textColor,backgroundColor:attributes.backgroundColor,gradient:attributes.gradient})),[attributes.style,attributes.textColor,attributes.backgroundColor,attributes.gradient]);if(!isEnabled)return null;const defaultControls=(0,build_module.Dx)(props.name,[color_COLOR_SUPPORT_KEY,"__experimentalDefaultControls"]),enableContrastChecking="web"===platform.Z.OS&&!value?.color?.gradient&&(settings?.color?.text||settings?.color?.link)&&!1!==(0,build_module.Dx)(props.name,[color_COLOR_SUPPORT_KEY,"enableContrastChecker"]);return(0,react.createElement)(ColorPanel,{as:ColorInspectorControl,panelId:clientId,settings,value,onChange:newStyle=>{setAttributes(color_styleToAttributes(newStyle))},defaultControls,enableContrastChecker:!1!==(0,build_module.Dx)(props.name,[color_COLOR_SUPPORT_KEY,"enableContrastChecker"])},enableContrastChecking&&(0,react.createElement)(BlockColorContrastChecker,{clientId}))}const withColorPaletteStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const{name,attributes}=props,{backgroundColor,textColor}=attributes,userPalette=use_setting_useSetting("color.palette.custom"),themePalette=use_setting_useSetting("color.palette.theme"),defaultPalette=use_setting_useSetting("color.palette.default"),colors=(0,react.useMemo)((()=>[...userPalette||[],...themePalette||[],...defaultPalette||[]]),[userPalette,themePalette,defaultPalette]);if(!color_hasColorSupport(name)||shouldSkipSerialization(name,color_COLOR_SUPPORT_KEY))return(0,react.createElement)(BlockListBlock,props);const extraStyles={};textColor&&!shouldSkipSerialization(name,color_COLOR_SUPPORT_KEY,"text")&&(extraStyles.color=getColorObjectByAttributeValues(colors,textColor)?.color),backgroundColor&&!shouldSkipSerialization(name,color_COLOR_SUPPORT_KEY,"background")&&(extraStyles.backgroundColor=getColorObjectByAttributeValues(colors,backgroundColor)?.color);let wrapperProps=props.wrapperProps;return wrapperProps={...props.wrapperProps,style:{...extraStyles,...props.wrapperProps?.style}},(0,react.createElement)(BlockListBlock,(0,esm_extends.Z)({},props,{wrapperProps}))}),"withColorPaletteStyles"),MIGRATION_PATHS={linkColor:[["style","elements","link","color","text"]],textColor:[["textColor"],["style","color","text"]],backgroundColor:[["backgroundColor"],["style","color","background"]],gradient:[["gradient"],["style","color","gradient"]]};(0,hooks_build_module.KJ)("blocks.registerBlockType","core/color/addAttribute",(function color_addAttributes(settings){return color_hasColorSupport(settings)?(settings.attributes.backgroundColor||Object.assign(settings.attributes,{backgroundColor:{type:"string"}}),settings.attributes.textColor||Object.assign(settings.attributes,{textColor:{type:"string"}}),color_hasGradientSupport(settings)&&!settings.attributes.gradient&&Object.assign(settings.attributes,{gradient:{type:"string"}}),settings):settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/color/addSaveProps",color_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/color/addEditProps",(function color_addEditProps(settings){if(!color_hasColorSupport(settings)||shouldSkipSerialization(settings,color_COLOR_SUPPORT_KEY))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),color_addSaveProps(props,settings,attributes)},settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/color/with-color-palette-styles",withColorPaletteStyles),(0,hooks_build_module.KJ)("blocks.switchToBlockType.transformedBlock","core/color/addTransforms",(function color_addTransforms(result,source,index,results){const destinationBlockType=result.name;return transformStyles({linkColor:color_hasLinkColorSupport(destinationBlockType),textColor:color_hasTextColorSupport(destinationBlockType),backgroundColor:color_hasBackgroundColorSupport(destinationBlockType),gradient:color_hasGradientSupport(destinationBlockType)},MIGRATION_PATHS,result,source,index,results)}));var library_settings=__webpack_require__("./packages/icons/build-module/library/settings.js");function getCommonSizeUnit(fontSizes){const[firstFontSize,...otherFontSizes]=fontSizes;if(!firstFontSize)return null;const[,firstUnit]=(0,utils.YX)(firstFontSize.size);return otherFontSizes.every((fontSize=>{const[,unit]=(0,utils.YX)(fontSize.size);return unit===firstUnit}))?firstUnit:null}var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const Container=(0,emotion_styled_base_browser_esm.Z)("fieldset",{target:"e8tqeku6"})({name:"1t1ytme",styles:"border:0;margin:0;padding:0"}),Header=(0,emotion_styled_base_browser_esm.Z)(h_stack_component.Z,{target:"e8tqeku5"})("height:",(0,space.D)(4),";"),HeaderToggle=(0,emotion_styled_base_browser_esm.Z)(build_module_button.ZP,{target:"e8tqeku4"})("margin-top:",(0,space.D)(-1),";"),HeaderLabel=(0,emotion_styled_base_browser_esm.Z)(base_control.ZP.VisualLabel,{target:"e8tqeku3"})("display:flex;gap:",(0,space.D)(1),";justify-content:flex-start;margin-bottom:0;"),HeaderHint=(0,emotion_styled_base_browser_esm.Z)("span",{target:"e8tqeku2"})("color:",colors_values.D.gray[700],";"),Controls=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e8tqeku1"})((props=>!props.__nextHasNoMarginBottom&&`margin-bottom: ${(0,space.D)(6)};`),";"),ResetButton=(0,emotion_styled_base_browser_esm.Z)(build_module_button.ZP,{target:"e8tqeku0"})("&&&{height:",(props=>"__unstable-large"===props.size?"40px":"30px"),";}");var custom_select_control=__webpack_require__("./packages/components/build-module/custom-select-control/index.js");const font_size_picker_select_DEFAULT_OPTION={key:"default",name:(0,i18n_build_module.__)("Default"),value:void 0},CUSTOM_OPTION={key:"custom",name:(0,i18n_build_module.__)("Custom")},font_size_picker_select=props=>{var _options$find;const{fontSizes,value,disableCustomFontSizes,size,onChange,onSelectCustom}=props,areAllSizesSameUnit=!!getCommonSizeUnit(fontSizes),options=[font_size_picker_select_DEFAULT_OPTION,...fontSizes.map((fontSize=>{let hint;if(areAllSizesSameUnit){const[quantity]=(0,utils.YX)(fontSize.size);void 0!==quantity&&(hint=String(quantity))}else(function isSimpleCssValue(value){return/^[\d\.]+(px|em|rem|vw|vh|%)?$/i.test(String(value))})(fontSize.size)&&(hint=String(fontSize.size));return{key:fontSize.slug,name:fontSize.name||fontSize.slug,value:fontSize.size,__experimentalHint:hint}})),...disableCustomFontSizes?[]:[CUSTOM_OPTION]],selectedOption=value?null!==(_options$find=options.find((option=>option.value===value)))&&void 0!==_options$find?_options$find:CUSTOM_OPTION:font_size_picker_select_DEFAULT_OPTION;return(0,react.createElement)(custom_select_control.Z,{__nextUnconstrainedWidth:!0,className:"components-font-size-picker__select",label:(0,i18n_build_module.__)("Font size"),hideLabelFromVision:!0,describedBy:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected font size: %s"),selectedOption.name),options,value:selectedOption,__experimentalShowSelectedHint:!0,onChange:({selectedItem})=>{selectedItem===CUSTOM_OPTION?onSelectCustom():onChange(selectedItem.value)},size})};var toggle_group_control_option_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option/component.js");const T_SHIRT_ABBREVIATIONS=[(0,i18n_build_module.__)("S"),(0,i18n_build_module.__)("M"),(0,i18n_build_module.__)("L"),(0,i18n_build_module.__)("XL"),(0,i18n_build_module.__)("XXL")],T_SHIRT_NAMES=[(0,i18n_build_module.__)("Small"),(0,i18n_build_module.__)("Medium"),(0,i18n_build_module.__)("Large"),(0,i18n_build_module.__)("Extra Large"),(0,i18n_build_module.__)("Extra Extra Large")],font_size_picker_toggle_group=props=>{const{fontSizes,value,__nextHasNoMarginBottom,size,onChange}=props;return(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom,label:(0,i18n_build_module.__)("Font size"),hideLabelFromVision:!0,value,onChange,isBlock:!0,size},fontSizes.map(((fontSize,index)=>(0,react.createElement)(toggle_group_control_option_component.Z,{key:fontSize.slug,value:fontSize.size,label:T_SHIRT_ABBREVIATIONS[index],"aria-label":fontSize.name||T_SHIRT_NAMES[index],showTooltip:!0}))))},font_size_picker=(0,react.forwardRef)(((props,ref)=>{const{__nextHasNoMarginBottom=!1,fallbackFontSize,fontSizes=[],disableCustomFontSizes=!1,onChange,size="default",units:unitsProp,value,withSlider=!1,withReset=!0}=props;__nextHasNoMarginBottom||(0,deprecated_build_module.Z)("Bottom margin styles for wp.components.FontSizePicker",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version."});const units=(0,utils.nj)({availableUnits:unitsProp||["px","em","rem"]}),shouldUseSelectControl=fontSizes.length>5,selectedFontSize=fontSizes.find((fontSize=>fontSize.size===value)),isCustomValue=!!value&&!selectedFontSize,[showCustomValueControl,setShowCustomValueControl]=(0,react.useState)(!disableCustomFontSizes&&isCustomValue),headerHint=(0,react.useMemo)((()=>{if(showCustomValueControl)return(0,i18n_build_module.__)("Custom");if(!shouldUseSelectControl)return selectedFontSize?selectedFontSize.name||T_SHIRT_NAMES[fontSizes.indexOf(selectedFontSize)]:"";const commonUnit=getCommonSizeUnit(fontSizes);return commonUnit?`(${commonUnit})`:""}),[showCustomValueControl,shouldUseSelectControl,selectedFontSize,fontSizes]);if(0===fontSizes.length&&disableCustomFontSizes)return null;const hasUnits="string"==typeof value||"string"==typeof fontSizes[0]?.size,[valueQuantity,valueUnit]=(0,utils.YX)(value,units),isValueUnitRelative=!!valueUnit&&["em","rem"].includes(valueUnit);return(0,react.createElement)(Container,{ref,className:"components-font-size-picker"},(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},(0,i18n_build_module.__)("Font size")),(0,react.createElement)(spacer_component.Z,null,(0,react.createElement)(Header,{className:"components-font-size-picker__header"},(0,react.createElement)(HeaderLabel,{"aria-label":`${(0,i18n_build_module.__)("Size")} ${headerHint||""}`},(0,i18n_build_module.__)("Size"),headerHint&&(0,react.createElement)(HeaderHint,{className:"components-font-size-picker__header__hint"},headerHint)),!disableCustomFontSizes&&(0,react.createElement)(HeaderToggle,{label:showCustomValueControl?(0,i18n_build_module.__)("Use size preset"):(0,i18n_build_module.__)("Set custom size"),icon:library_settings.Z,onClick:()=>{setShowCustomValueControl(!showCustomValueControl)},isPressed:showCustomValueControl,isSmall:!0}))),(0,react.createElement)(Controls,{className:"components-font-size-picker__controls",__nextHasNoMarginBottom},!!fontSizes.length&&shouldUseSelectControl&&!showCustomValueControl&&(0,react.createElement)(font_size_picker_select,{fontSizes,value,disableCustomFontSizes,size,onChange:newValue=>{void 0===newValue?onChange?.(void 0):onChange?.(hasUnits?newValue:Number(newValue),fontSizes.find((fontSize=>fontSize.size===newValue)))},onSelectCustom:()=>setShowCustomValueControl(!0)}),!shouldUseSelectControl&&!showCustomValueControl&&(0,react.createElement)(font_size_picker_toggle_group,{fontSizes,value,__nextHasNoMarginBottom,size,onChange:newValue=>{void 0===newValue?onChange?.(void 0):onChange?.(hasUnits?newValue:Number(newValue),fontSizes.find((fontSize=>fontSize.size===newValue)))}}),!disableCustomFontSizes&&showCustomValueControl&&(0,react.createElement)(component.Z,{className:"components-font-size-picker__custom-size-control"},(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Custom"),labelPosition:"top",hideLabelFromVision:!0,value,onChange:newValue=>{onChange?.(void 0===newValue?void 0:hasUnits?newValue:parseInt(newValue,10))},size,units:hasUnits?units:[],min:0})),withSlider&&(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(spacer_component.Z,{marginX:2,marginBottom:0},(0,react.createElement)(range_control.Z,{__nextHasNoMarginBottom,className:"components-font-size-picker__custom-input",label:(0,i18n_build_module.__)("Custom Size"),hideLabelFromVision:!0,value:valueQuantity,initialPosition:fallbackFontSize,withInputField:!1,onChange:newValue=>{onChange?.(void 0===newValue?void 0:hasUnits?newValue+(null!=valueUnit?valueUnit:"px"):newValue)},min:0,max:isValueUnitRelative?10:100,step:isValueUnitRelative?.1:1}))),withReset&&(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(ResetButton,{disabled:void 0===value,onClick:()=>{onChange?.(void 0)},isSmall:!0,variant:"secondary",size},(0,i18n_build_module.__)("Reset"))))))}));var number_control=__webpack_require__("./packages/components/build-module/number-control/index.js"),select_control=__webpack_require__("./packages/components/build-module/select-control/index.js");function FontFamilyControl({value="",onChange,fontFamilies,...props}){const blockLevelFontFamilies=use_setting_useSetting("typography.fontFamilies");if(fontFamilies||(fontFamilies=blockLevelFontFamilies),!fontFamilies||0===fontFamilies.length)return null;const options=[{value:"",label:(0,i18n_build_module.__)("Default")},...fontFamilies.map((({fontFamily,name})=>({value:fontFamily,label:name||fontFamily})))];return(0,react.createElement)(select_control.Z,(0,esm_extends.Z)({label:(0,i18n_build_module.__)("Font"),options,value,onChange,labelPosition:"top"},props))}const FONT_STYLES=[{name:(0,i18n_build_module._x)("Regular","font style"),value:"normal"},{name:(0,i18n_build_module._x)("Italic","font style"),value:"italic"}],FONT_WEIGHTS=[{name:(0,i18n_build_module._x)("Thin","font weight"),value:"100"},{name:(0,i18n_build_module._x)("Extra Light","font weight"),value:"200"},{name:(0,i18n_build_module._x)("Light","font weight"),value:"300"},{name:(0,i18n_build_module._x)("Regular","font weight"),value:"400"},{name:(0,i18n_build_module._x)("Medium","font weight"),value:"500"},{name:(0,i18n_build_module._x)("Semi Bold","font weight"),value:"600"},{name:(0,i18n_build_module._x)("Bold","font weight"),value:"700"},{name:(0,i18n_build_module._x)("Extra Bold","font weight"),value:"800"},{name:(0,i18n_build_module._x)("Black","font weight"),value:"900"}],getFontAppearanceLabel=(hasFontStyles,hasFontWeights)=>hasFontStyles?hasFontWeights?(0,i18n_build_module.__)("Appearance"):(0,i18n_build_module.__)("Font style"):(0,i18n_build_module.__)("Font weight");function FontAppearanceControl(props){const{onChange,hasFontStyles=!0,hasFontWeights=!0,value:{fontStyle,fontWeight},...otherProps}=props,hasStylesOrWeights=hasFontStyles||hasFontWeights,label=getFontAppearanceLabel(hasFontStyles,hasFontWeights),defaultOption={key:"default",name:(0,i18n_build_module.__)("Default"),style:{fontStyle:void 0,fontWeight:void 0}},selectOptions=(0,react.useMemo)((()=>hasFontStyles&&hasFontWeights?(()=>{const combinedOptions=[defaultOption];return FONT_STYLES.forEach((({name:styleName,value:styleValue})=>{FONT_WEIGHTS.forEach((({name:weightName,value:weightValue})=>{const optionName="normal"===styleValue?weightName:(0,i18n_build_module.gB)((0,i18n_build_module.__)("%1$s %2$s"),weightName,styleName);combinedOptions.push({key:`${styleValue}-${weightValue}`,name:optionName,style:{fontStyle:styleValue,fontWeight:weightValue}})}))})),combinedOptions})():hasFontStyles?(()=>{const combinedOptions=[defaultOption];return FONT_STYLES.forEach((({name,value})=>{combinedOptions.push({key:value,name,style:{fontStyle:value,fontWeight:void 0}})})),combinedOptions})():(()=>{const combinedOptions=[defaultOption];return FONT_WEIGHTS.forEach((({name,value})=>{combinedOptions.push({key:value,name,style:{fontStyle:void 0,fontWeight:value}})})),combinedOptions})()),[props.options]),currentSelection=selectOptions.find((option=>option.style.fontStyle===fontStyle&&option.style.fontWeight===fontWeight))||selectOptions[0];return hasStylesOrWeights&&(0,react.createElement)(custom_select_control.q,(0,esm_extends.Z)({},otherProps,{className:"components-font-appearance-control",label,describedBy:currentSelection?hasFontStyles?hasFontWeights?(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected font appearance: %s"),currentSelection.name):(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected font style: %s"),currentSelection.name):(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected font weight: %s"),currentSelection.name):(0,i18n_build_module.__)("No selected font appearance"),options:selectOptions,value:currentSelection,onChange:({selectedItem})=>onChange(selectedItem.style),__nextUnconstrainedWidth:!0}))}const line_height_control=({value:lineHeight,onChange,__nextHasNoMarginBottom=!1,__unstableInputWidth="60px",...otherProps})=>{const isDefined=function isLineHeightDefined(lineHeight){return void 0!==lineHeight&&""!==lineHeight}(lineHeight),adjustNextValue=(nextValue,wasTypedOrPasted)=>{if(isDefined)return nextValue;switch(`${nextValue}`){case"0.1":return 1.6;case"0":return wasTypedOrPasted?nextValue:1.4;case"":return 1.5;default:return nextValue}},value=isDefined?lineHeight:"";__nextHasNoMarginBottom||(0,deprecated_build_module.Z)("Bottom margin styles for wp.blockEditor.LineHeightControl",{since:"6.0",version:"6.4",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version"});const deprecatedStyles=__nextHasNoMarginBottom?void 0:{marginBottom:24};return(0,react.createElement)("div",{className:"block-editor-line-height-control",style:deprecatedStyles},(0,react.createElement)(number_control.Z,(0,esm_extends.Z)({},otherProps,{__unstableInputWidth,__unstableStateReducer:(state,action)=>{const wasTypedOrPasted=["insertText","insertFromPaste"].includes(action.payload.event.nativeEvent?.inputType),value=adjustNextValue(state.value,wasTypedOrPasted);return{...state,value}},onChange:(nextValue,{event})=>{""!==nextValue?"click"!==event.type?onChange(`${nextValue}`):onChange(adjustNextValue(`${nextValue}`,!1)):onChange()},label:(0,i18n_build_module.__)("Line height"),placeholder:1.5,step:.1,value,min:0,spinControls:"custom"})))};function LetterSpacingControl({value,onChange,__unstableInputWidth="60px",...otherProps}){const units=(0,utils.nj)({availableUnits:use_setting_useSetting("spacing.units")||["px","em","rem"],defaultValues:{px:2,em:.2,rem:.2}});return(0,react.createElement)(unit_control.ZP,(0,esm_extends.Z)({},otherProps,{label:(0,i18n_build_module.__)("Letter spacing"),value,__unstableInputWidth,units,onChange}))}var library_reset=__webpack_require__("./packages/icons/build-module/library/reset.js"),format_uppercase=__webpack_require__("./packages/icons/build-module/library/format-uppercase.js"),format_lowercase=__webpack_require__("./packages/icons/build-module/library/format-lowercase.js"),format_capitalize=__webpack_require__("./packages/icons/build-module/library/format-capitalize.js");const TEXT_TRANSFORMS=[{name:(0,i18n_build_module.__)("None"),value:"none",icon:library_reset.Z},{name:(0,i18n_build_module.__)("Uppercase"),value:"uppercase",icon:format_uppercase.Z},{name:(0,i18n_build_module.__)("Lowercase"),value:"lowercase",icon:format_lowercase.Z},{name:(0,i18n_build_module.__)("Capitalize"),value:"capitalize",icon:format_capitalize.Z}];function TextTransformControl({className,value,onChange}){return(0,react.createElement)("fieldset",{className:classnames_default()("block-editor-text-transform-control",className)},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},(0,i18n_build_module.__)("Letter case")),(0,react.createElement)("div",{className:"block-editor-text-transform-control__buttons"},TEXT_TRANSFORMS.map((textTransform=>(0,react.createElement)(build_module_button.ZP,{key:textTransform.value,icon:textTransform.icon,label:textTransform.name,isPressed:textTransform.value===value,onClick:()=>{onChange(textTransform.value===value?void 0:textTransform.value)}})))))}var format_underline=__webpack_require__("./packages/icons/build-module/library/format-underline.js"),format_strikethrough=__webpack_require__("./packages/icons/build-module/library/format-strikethrough.js");const TEXT_DECORATIONS=[{name:(0,i18n_build_module.__)("None"),value:"none",icon:library_reset.Z},{name:(0,i18n_build_module.__)("Underline"),value:"underline",icon:format_underline.Z},{name:(0,i18n_build_module.__)("Strikethrough"),value:"line-through",icon:format_strikethrough.Z}];function TextDecorationControl({value,onChange,className}){return(0,react.createElement)("fieldset",{className:classnames_default()("block-editor-text-decoration-control",className)},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},(0,i18n_build_module.__)("Decoration")),(0,react.createElement)("div",{className:"block-editor-text-decoration-control__buttons"},TEXT_DECORATIONS.map((textDecoration=>(0,react.createElement)(build_module_button.ZP,{key:textDecoration.value,icon:textDecoration.icon,label:textDecoration.name,isPressed:textDecoration.value===value,onClick:()=>{onChange(textDecoration.value===value?void 0:textDecoration.value)}})))))}const MIN_TEXT_COLUMNS=1,MAX_TEXT_COLUMNS=6;function useHasTypographyPanel(settings){const hasFontFamily=useHasFontFamilyControl(settings),hasLineHeight=useHasLineHeightControl(settings),hasFontAppearance=useHasAppearanceControl(settings),hasLetterSpacing=useHasLetterSpacingControl(settings),hasTextTransform=useHasTextTransformControl(settings),hasTextDecoration=useHasTextDecorationControl(settings),hasTextColumns=useHasTextColumnsControl(settings),hasFontSize=useHasFontSizeControl(settings);return hasFontFamily||hasLineHeight||hasFontAppearance||hasLetterSpacing||hasTextTransform||hasFontSize||hasTextDecoration||hasTextColumns}function useHasFontSizeControl(settings){var _settings$typography$,_ref,_fontSizesPerOrigin$c;const disableCustomFontSizes=!settings?.typography?.customFontSize,fontSizesPerOrigin=null!==(_settings$typography$=settings?.typography?.fontSizes)&&void 0!==_settings$typography$?_settings$typography$:{},fontSizes=null!==(_ref=null!==(_fontSizesPerOrigin$c=fontSizesPerOrigin?.custom)&&void 0!==_fontSizesPerOrigin$c?_fontSizesPerOrigin$c:fontSizesPerOrigin?.theme)&&void 0!==_ref?_ref:fontSizesPerOrigin.default;return!!fontSizes?.length||!disableCustomFontSizes}function useHasFontFamilyControl(settings){var _ref2,_fontFamiliesPerOrigi;const fontFamiliesPerOrigin=settings?.typography?.fontFamilies,fontFamilies=null!==(_ref2=null!==(_fontFamiliesPerOrigi=fontFamiliesPerOrigin?.custom)&&void 0!==_fontFamiliesPerOrigi?_fontFamiliesPerOrigi:fontFamiliesPerOrigin?.theme)&&void 0!==_ref2?_ref2:fontFamiliesPerOrigin?.default;return!!fontFamilies?.length}function useHasLineHeightControl(settings){return settings?.typography?.lineHeight}function useHasAppearanceControl(settings){const hasFontStyles=settings?.typography?.fontStyle,hasFontWeights=settings?.typography?.fontWeight;return hasFontStyles||hasFontWeights}function useHasLetterSpacingControl(settings){return settings?.typography?.letterSpacing}function useHasTextTransformControl(settings){return settings?.typography?.textTransform}function useHasTextDecorationControl(settings){return settings?.typography?.textDecoration}function useHasTextColumnsControl(settings){return settings?.typography?.textColumns}function TypographyToolsPanel({resetAllFilter,onChange,value,panelId,children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Typography"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId},children)}const typography_panel_DEFAULT_CONTROLS={fontFamily:!0,fontSize:!0,fontAppearance:!0,lineHeight:!0,letterSpacing:!0,textTransform:!0,textDecoration:!0,textColumns:!0};function TypographyPanel({as:Wrapper=TypographyToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=typography_panel_DEFAULT_CONTROLS}){var _ref3,_fontFamiliesPerOrigi2,_settings$typography$2,_ref4,_fontSizesPerOrigin$c2;const decodeValue=rawValue=>getValueFromVariable({settings},"",rawValue),hasFontFamilyEnabled=useHasFontFamilyControl(settings),fontFamiliesPerOrigin=settings?.typography?.fontFamilies,fontFamilies=null!==(_ref3=null!==(_fontFamiliesPerOrigi2=fontFamiliesPerOrigin?.custom)&&void 0!==_fontFamiliesPerOrigi2?_fontFamiliesPerOrigi2:fontFamiliesPerOrigin?.theme)&&void 0!==_ref3?_ref3:fontFamiliesPerOrigin?.default,fontFamily=decodeValue(inheritedValue?.typography?.fontFamily),setFontFamily=newValue=>{const slug=fontFamilies?.find((({fontFamily:f})=>f===newValue))?.slug;onChange(setImmutably(value,["typography","fontFamily"],slug?`var:preset|font-family|${slug}`:newValue||void 0))},hasFontSizeEnabled=useHasFontSizeControl(settings),disableCustomFontSizes=!settings?.typography?.customFontSize,fontSizesPerOrigin=null!==(_settings$typography$2=settings?.typography?.fontSizes)&&void 0!==_settings$typography$2?_settings$typography$2:{},fontSizes=null!==(_ref4=null!==(_fontSizesPerOrigin$c2=fontSizesPerOrigin?.custom)&&void 0!==_fontSizesPerOrigin$c2?_fontSizesPerOrigin$c2:fontSizesPerOrigin?.theme)&&void 0!==_ref4?_ref4:fontSizesPerOrigin.default,fontSize=decodeValue(inheritedValue?.typography?.fontSize),setFontSize=(newValue,metadata)=>{onChange(setImmutably(value,["typography","fontSize"],(metadata?.slug?`var:preset|font-size|${metadata?.slug}`:newValue)||void 0))},hasAppearanceControl=useHasAppearanceControl(settings),appearanceControlLabel=function useAppearanceControlLabel(settings){const hasFontStyles=settings?.typography?.fontStyle,hasFontWeights=settings?.typography?.fontWeight;return hasFontStyles?hasFontWeights?(0,i18n_build_module.__)("Appearance"):(0,i18n_build_module.__)("Font style"):(0,i18n_build_module.__)("Font weight")}(settings),hasFontStyles=settings?.typography?.fontStyle,hasFontWeights=settings?.typography?.fontWeight,fontStyle=decodeValue(inheritedValue?.typography?.fontStyle),fontWeight=decodeValue(inheritedValue?.typography?.fontWeight),setFontAppearance=({fontStyle:newFontStyle,fontWeight:newFontWeight})=>{onChange({...value,typography:{...value?.typography,fontStyle:newFontStyle||void 0,fontWeight:newFontWeight||void 0}})},hasLineHeightEnabled=useHasLineHeightControl(settings),lineHeight=decodeValue(inheritedValue?.typography?.lineHeight),setLineHeight=newValue=>{onChange(setImmutably(value,["typography","lineHeight"],newValue||void 0))},hasLetterSpacingControl=useHasLetterSpacingControl(settings),letterSpacing=decodeValue(inheritedValue?.typography?.letterSpacing),setLetterSpacing=newValue=>{onChange(setImmutably(value,["typography","letterSpacing"],newValue||void 0))},hasTextColumnsControl=useHasTextColumnsControl(settings),textColumns=decodeValue(inheritedValue?.typography?.textColumns),setTextColumns=newValue=>{onChange(setImmutably(value,["typography","textColumns"],newValue||void 0))},hasTextTransformControl=useHasTextTransformControl(settings),textTransform=decodeValue(inheritedValue?.typography?.textTransform),setTextTransform=newValue=>{onChange(setImmutably(value,["typography","textTransform"],newValue||void 0))},hasTextDecorationControl=useHasTextDecorationControl(settings),textDecoration=decodeValue(inheritedValue?.typography?.textDecoration),setTextDecoration=newValue=>{onChange(setImmutably(value,["typography","textDecoration"],newValue||void 0))},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,typography:{}})),[]);return(0,react.createElement)(Wrapper,{resetAllFilter,value,onChange,panelId},hasFontFamilyEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Font family"),hasValue:()=>!!value?.typography?.fontFamily,onDeselect:()=>setFontFamily(void 0),isShownByDefault:defaultControls.fontFamily,panelId},(0,react.createElement)(FontFamilyControl,{fontFamilies,value:fontFamily,onChange:setFontFamily,size:"__unstable-large",__nextHasNoMarginBottom:!0})),hasFontSizeEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Font size"),hasValue:()=>!!value?.typography?.fontSize,onDeselect:()=>setFontSize(void 0),isShownByDefault:defaultControls.fontSize,panelId},(0,react.createElement)(font_size_picker,{value:fontSize,onChange:setFontSize,fontSizes,disableCustomFontSizes,withReset:!1,withSlider:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})),hasAppearanceControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:appearanceControlLabel,hasValue:()=>!!value?.typography?.fontStyle||!!value?.typography?.fontWeight,onDeselect:()=>{setFontAppearance({})},isShownByDefault:defaultControls.fontAppearance,panelId},(0,react.createElement)(FontAppearanceControl,{value:{fontStyle,fontWeight},onChange:setFontAppearance,hasFontStyles,hasFontWeights,size:"__unstable-large",__nextHasNoMarginBottom:!0})),hasLineHeightEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Line height"),hasValue:()=>void 0!==value?.typography?.lineHeight,onDeselect:()=>setLineHeight(void 0),isShownByDefault:defaultControls.lineHeight,panelId},(0,react.createElement)(line_height_control,{__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto",value:lineHeight,onChange:setLineHeight,size:"__unstable-large"})),hasLetterSpacingControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Letter spacing"),hasValue:()=>!!value?.typography?.letterSpacing,onDeselect:()=>setLetterSpacing(void 0),isShownByDefault:defaultControls.letterSpacing,panelId},(0,react.createElement)(LetterSpacingControl,{value:letterSpacing,onChange:setLetterSpacing,size:"__unstable-large",__unstableInputWidth:"auto"})),hasTextColumnsControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Text columns"),hasValue:()=>!!value?.typography?.textColumns,onDeselect:()=>setTextColumns(void 0),isShownByDefault:defaultControls.textColumns,panelId},(0,react.createElement)(number_control.Z,{label:(0,i18n_build_module.__)("Text columns"),max:MAX_TEXT_COLUMNS,min:MIN_TEXT_COLUMNS,onChange:setTextColumns,size:"__unstable-large",spinControls:"custom",value:textColumns,initialPosition:1})),hasTextDecorationControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Text decoration"),hasValue:()=>!!value?.typography?.textDecoration,onDeselect:()=>setTextDecoration(void 0),isShownByDefault:defaultControls.textDecoration,panelId},(0,react.createElement)(TextDecorationControl,{value:textDecoration,onChange:setTextDecoration,size:"__unstable-large",__unstableInputWidth:"auto"})),hasTextTransformControl&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Letter case"),hasValue:()=>!!value?.typography?.textTransform,onDeselect:()=>setTextTransform(void 0),isShownByDefault:defaultControls.textTransform,panelId},(0,react.createElement)(TextTransformControl,{value:textTransform,onChange:setTextTransform,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})))}const font_family_FONT_FAMILY_SUPPORT_KEY="typography.__experimentalFontFamily";function font_family_addSaveProps(props,blockType,attributes){if(!(0,build_module.zb)(blockType,font_family_FONT_FAMILY_SUPPORT_KEY))return props;if(shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,"fontFamily"))return props;if(!attributes?.fontFamily)return props;const classes=new token_list_build_module.Z(props.className);classes.add(`has-${(0,lodash.kebabCase)(attributes?.fontFamily)}-font-family`);const newClassName=classes.value;return props.className=newClassName||void 0,props}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/fontFamily/addAttribute",(function font_family_addAttributes(settings){return(0,build_module.zb)(settings,font_family_FONT_FAMILY_SUPPORT_KEY)?(settings.attributes.fontFamily||Object.assign(settings.attributes,{fontFamily:{type:"string"}}),settings):settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/fontFamily/addSaveProps",font_family_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/fontFamily/addEditProps",(function font_family_addEditProps(settings){if(!(0,build_module.zb)(settings,font_family_FONT_FAMILY_SUPPORT_KEY))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),font_family_addSaveProps(props,settings,attributes)},settings}));function getFontSizeClass(fontSizeSlug){if(fontSizeSlug)return`has-${(0,lodash.kebabCase)(fontSizeSlug)}-font-size`}const font_size_FONT_SIZE_SUPPORT_KEY="typography.fontSize";function font_size_addSaveProps(props,blockType,attributes){if(!(0,build_module.zb)(blockType,font_size_FONT_SIZE_SUPPORT_KEY))return props;if(shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,"fontSize"))return props;const classes=new token_list_build_module.Z(props.className);classes.add(getFontSizeClass(attributes.fontSize));const newClassName=classes.value;return props.className=newClassName||void 0,props}const withFontSizeInlineStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const fontSizes=use_setting_useSetting("typography.fontSizes"),{name:blockName,attributes:{fontSize,style},wrapperProps}=props;if(!(0,build_module.zb)(blockName,font_size_FONT_SIZE_SUPPORT_KEY)||shouldSkipSerialization(blockName,TYPOGRAPHY_SUPPORT_KEY,"fontSize")||!fontSize||style?.typography?.fontSize)return(0,react.createElement)(BlockListBlock,props);const fontSizeValue=((fontSizes,fontSizeAttribute,customFontSizeAttribute)=>{if(fontSizeAttribute){const fontSizeObject=fontSizes?.find((({slug})=>slug===fontSizeAttribute));if(fontSizeObject)return fontSizeObject}return{size:customFontSizeAttribute}})(fontSizes,fontSize,style?.typography?.fontSize).size,newProps={...props,wrapperProps:{...wrapperProps,style:{fontSize:fontSizeValue,...wrapperProps?.style}}};return(0,react.createElement)(BlockListBlock,newProps)}),"withFontSizeInlineStyles"),font_size_MIGRATION_PATHS={fontSize:[["fontSize"],["style","typography","fontSize"]]};function omit(object,keys){return Object.fromEntries(Object.entries(object).filter((([key])=>!keys.includes(key))))}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/font/addAttribute",(function font_size_addAttributes(settings){return(0,build_module.zb)(settings,font_size_FONT_SIZE_SUPPORT_KEY)?(settings.attributes.fontSize||Object.assign(settings.attributes,{fontSize:{type:"string"}}),settings):settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/font/addSaveProps",font_size_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/font/addEditProps",(function font_size_addEditProps(settings){if(!(0,build_module.zb)(settings,font_size_FONT_SIZE_SUPPORT_KEY))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),font_size_addSaveProps(props,settings,attributes)},settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/font-size/with-font-size-inline-styles",withFontSizeInlineStyles),(0,hooks_build_module.KJ)("blocks.switchToBlockType.transformedBlock","core/font-size/addTransforms",(function font_size_addTransforms(result,source,index,results){const destinationBlockType=result.name;return transformStyles({fontSize:(0,build_module.zb)(destinationBlockType,font_size_FONT_SIZE_SUPPORT_KEY)},font_size_MIGRATION_PATHS,result,source,index,results)})),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/font-size/addEditPropsForFluidCustomFontSizes",(function addEditPropsForFluidCustomFontSizes(blockType){if(!(0,build_module.zb)(blockType,font_size_FONT_SIZE_SUPPORT_KEY)||shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,"fontSize"))return blockType;const existingGetEditWrapperProps=blockType.getEditWrapperProps;return blockType.getEditWrapperProps=attributes=>{const wrapperProps=existingGetEditWrapperProps?existingGetEditWrapperProps(attributes):{},fontSize=wrapperProps?.style?.fontSize,fluidTypographySettings=getFluidTypographyOptionsFromSettings((0,build_module_select.Y)(store).getSettings().__experimentalFeatures),newFontSize=fontSize?getTypographyFontSizeValue({size:fontSize},fluidTypographySettings):null;return null===newFontSize?wrapperProps:{...wrapperProps,style:{...wrapperProps?.style,fontSize:newFontSize}}},blockType}),11);const TYPOGRAPHY_SUPPORT_KEY="typography",typography_TYPOGRAPHY_SUPPORT_KEYS=["typography.lineHeight",font_size_FONT_SIZE_SUPPORT_KEY,"typography.__experimentalFontStyle","typography.__experimentalFontWeight",font_family_FONT_FAMILY_SUPPORT_KEY,"typography.textColumns","typography.__experimentalTextDecoration","typography.__experimentalTextTransform","typography.__experimentalLetterSpacing"];function typography_styleToAttributes(style){const updatedStyle={...omit(style,["fontFamily"])},fontSizeValue=style?.typography?.fontSize,fontFamilyValue=style?.typography?.fontFamily,fontSizeSlug=fontSizeValue?.startsWith("var:preset|font-size|")?fontSizeValue.substring(21):void 0,fontFamilySlug=fontFamilyValue?.startsWith("var:preset|font-family|")?fontFamilyValue.substring(23):void 0;return updatedStyle.typography={...omit(updatedStyle.typography,["fontFamily"]),fontSize:fontSizeSlug?void 0:fontSizeValue},{style:utils_cleanEmptyObject(updatedStyle),fontFamily:fontFamilySlug,fontSize:fontSizeSlug}}function typography_attributesToStyle(attributes){return{...attributes.style,typography:{...attributes.style?.typography,fontFamily:attributes.fontFamily?"var:preset|font-family|"+attributes.fontFamily:void 0,fontSize:attributes.fontSize?"var:preset|font-size|"+attributes.fontSize:attributes.style?.typography?.fontSize}}}function TypographyInspectorControl({children,resetAllFilter}){const attributesResetAllFilter=(0,react.useCallback)((attributes=>{const existingStyle=typography_attributesToStyle(attributes),updatedStyle=resetAllFilter(existingStyle);return{...attributes,...typography_styleToAttributes(updatedStyle)}}),[resetAllFilter]);return(0,react.createElement)(inspector_controls,{group:"typography",resetAllFilter:attributesResetAllFilter},children)}function typography_TypographyPanel({clientId,name,attributes,setAttributes,__unstableParentLayout}){const settings=useBlockSettings(name,__unstableParentLayout),isEnabled=useHasTypographyPanel(settings),value=(0,react.useMemo)((()=>typography_attributesToStyle({style:attributes.style,fontFamily:attributes.fontFamily,fontSize:attributes.fontSize})),[attributes.style,attributes.fontSize,attributes.fontFamily]);if(!isEnabled)return null;const defaultControls=(0,build_module.Dx)(name,[TYPOGRAPHY_SUPPORT_KEY,"__experimentalDefaultControls"]);return(0,react.createElement)(TypographyPanel,{as:TypographyInspectorControl,panelId:clientId,settings,value,onChange:newStyle=>{setAttributes(typography_styleToAttributes(newStyle))},defaultControls})}var use_gesture_react_esm=__webpack_require__("./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");const box_control_styles_Root=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1jovhle6"})({name:"14bvcyk",styles:"box-sizing:border-box;max-width:235px;padding-bottom:12px;width:100%"}),box_control_styles_Header=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1jovhle5"})({name:"5bhc30",styles:"margin-bottom:8px"}),HeaderControlWrapper=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1jovhle4"})({name:"aujtid",styles:"min-height:30px;gap:0"}),UnitControlWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1jovhle3"})({name:"112jwab",styles:"box-sizing:border-box;max-width:80px"}),LayoutContainer=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1jovhle2"})({name:"xy18ro",styles:"justify-content:center;padding-top:8px"}),box_control_styles_Layout=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1jovhle1"})({name:"3tw5wk",styles:"position:relative;height:100%;width:100%;justify-content:flex-start"});var _ref={name:"1ch9yvl",styles:"border-radius:0"},_ref2={name:"tg3mx0",styles:"border-radius:2px"};const unitControlBorderRadiusStyles=({isFirst,isLast,isOnly})=>isFirst?(0,rtl.b)({borderTopRightRadius:0,borderBottomRightRadius:0})():isLast?(0,rtl.b)({borderTopLeftRadius:0,borderBottomLeftRadius:0})():isOnly?_ref2:_ref,unitControlMarginStyles=({isFirst,isOnly})=>{const marginLeft=isFirst||isOnly?0:-1;return(0,rtl.b)({marginLeft})()},UnitControl=(0,emotion_styled_base_browser_esm.Z)(unit_control.ZP,{target:"e1jovhle0"})("max-width:60px;",unitControlBorderRadiusStyles,";",unitControlMarginStyles,";"),unit_control_noop=()=>{};function BoxUnitControl({isFirst,isLast,isOnly,onHoverOn=unit_control_noop,onHoverOff=unit_control_noop,label,value,...props}){const bindHoverGesture=(0,use_gesture_react_esm.XI)((({event,...state})=>{state.hovering?onHoverOn(event,state):onHoverOff(event,state)}));return(0,react.createElement)(UnitControlWrapper,bindHoverGesture(),(0,react.createElement)(Tooltip,{text:label},(0,react.createElement)(UnitControl,(0,esm_extends.Z)({"aria-label":label,className:"component-box-control__unit-control",isFirst,isLast,isOnly,isPressEnterToChange:!0,isResetValueOnUnitChange:!1,value},props))))}function Tooltip({children,text}){return text?(0,react.createElement)(tooltip.Z,{text,position:"top"},(0,react.createElement)("div",null,children)):children}const utils_LABELS={all:(0,i18n_build_module.__)("All"),top:(0,i18n_build_module.__)("Top"),bottom:(0,i18n_build_module.__)("Bottom"),left:(0,i18n_build_module.__)("Left"),right:(0,i18n_build_module.__)("Right"),mixed:(0,i18n_build_module.__)("Mixed"),vertical:(0,i18n_build_module.__)("Vertical"),horizontal:(0,i18n_build_module.__)("Horizontal")},utils_DEFAULT_VALUES={top:void 0,right:void 0,bottom:void 0,left:void 0},utils_ALL_SIDES=["top","right","bottom","left"];function box_control_utils_mode(arr){return arr.sort(((a,b)=>arr.filter((v=>v===a)).length-arr.filter((v=>v===b)).length)).pop()}function utils_getAllValue(values={},selectedUnits,availableSides=utils_ALL_SIDES){const parsedQuantitiesAndUnits=function normalizeSides(sides){const filteredSides=[];if(!sides?.length)return utils_ALL_SIDES;if(sides.includes("vertical"))filteredSides.push("top","bottom");else if(sides.includes("horizontal"))filteredSides.push("left","right");else{const newSides=utils_ALL_SIDES.filter((side=>sides.includes(side)));filteredSides.push(...newSides)}return filteredSides}(availableSides).map((side=>(0,utils.YX)(values[side]))),allParsedQuantities=parsedQuantitiesAndUnits.map((value=>{var _value$;return null!==(_value$=value[0])&&void 0!==_value$?_value$:""})),allParsedUnits=parsedQuantitiesAndUnits.map((value=>value[1])),commonQuantity=allParsedQuantities.every((v=>v===allParsedQuantities[0]))?allParsedQuantities[0]:"";let commonUnit;var _getAllUnitFallback;"number"==typeof commonQuantity?commonUnit=box_control_utils_mode(allParsedUnits):commonUnit=null!==(_getAllUnitFallback=function getAllUnitFallback(selectedUnits){if(!selectedUnits||"object"!=typeof selectedUnits)return;const filteredUnits=Object.values(selectedUnits).filter(Boolean);return box_control_utils_mode(filteredUnits)}(selectedUnits))&&void 0!==_getAllUnitFallback?_getAllUnitFallback:box_control_utils_mode(allParsedUnits);return[commonQuantity,commonUnit].join("")}function utils_isValuesMixed(values={},selectedUnits,sides=utils_ALL_SIDES){const allValue=utils_getAllValue(values,selectedUnits,sides);return isNaN(parseFloat(allValue))}function utils_isValuesDefined(values){return void 0!==values&&Object.values(values).filter((value=>!!value&&/\d/.test(value))).length>0}function getInitialSide(isLinked,splitOnAxis){let initialSide="all";return isLinked||(initialSide=splitOnAxis?"vertical":"top"),initialSide}function applyValueToSides(currentValues,newValue,sides){const newValues={...currentValues};return sides?.length?sides.forEach((side=>{"vertical"===side?(newValues.top=newValue,newValues.bottom=newValue):"horizontal"===side?(newValues.left=newValue,newValues.right=newValue):newValues[side]=newValue})):utils_ALL_SIDES.forEach((side=>newValues[side]=newValue)),newValues}const all_input_control_noop=()=>{};function all_input_control_AllInputControl({onChange=all_input_control_noop,onFocus=all_input_control_noop,onHoverOn=all_input_control_noop,onHoverOff=all_input_control_noop,values,sides,selectedUnits,setSelectedUnits,...props}){const allValue=utils_getAllValue(values,selectedUnits,sides),isMixed=utils_isValuesDefined(values)&&utils_isValuesMixed(values,selectedUnits,sides),allPlaceholder=isMixed?utils_LABELS.mixed:void 0;return(0,react.createElement)(BoxUnitControl,(0,esm_extends.Z)({},props,{disableUnits:isMixed,isOnly:!0,value:allValue,onChange:next=>{const isNumeric=void 0!==next&&!isNaN(parseFloat(next)),nextValues=applyValueToSides(values,isNumeric?next:void 0,sides);onChange(nextValues)},onUnitChange:unit=>{const newUnits=applyValueToSides(selectedUnits,unit,sides);setSelectedUnits(newUnits)},onFocus:event=>{onFocus(event,{side:"all"})},onHoverOn:()=>{onHoverOn({top:!0,bottom:!0,left:!0,right:!0})},onHoverOff:()=>{onHoverOff({top:!1,bottom:!1,left:!1,right:!1})},placeholder:allPlaceholder}))}const input_controls_noop=()=>{};function input_controls_BoxInputControls({onChange=input_controls_noop,onFocus=input_controls_noop,onHoverOn=input_controls_noop,onHoverOff=input_controls_noop,values,selectedUnits,setSelectedUnits,sides,...props}){const createHandleOnFocus=side=>event=>{onFocus(event,{side})},createHandleOnHoverOn=side=>()=>{onHoverOn({[side]:!0})},createHandleOnHoverOff=side=>()=>{onHoverOff({[side]:!1})},createHandleOnChange=side=>(next,{event})=>{const nextValues={...values},nextValue=void 0!==next&&!isNaN(parseFloat(next))?next:void 0;if(nextValues[side]=nextValue,event.altKey)switch(side){case"top":nextValues.bottom=nextValue;break;case"bottom":nextValues.top=nextValue;break;case"left":nextValues.right=nextValue;break;case"right":nextValues.left=nextValue}(nextValues=>{onChange(nextValues)})(nextValues)},createHandleOnUnitChange=side=>next=>{const newUnits={...selectedUnits};newUnits[side]=next,setSelectedUnits(newUnits)},filteredSides=sides?.length?utils_ALL_SIDES.filter((side=>sides.includes(side))):utils_ALL_SIDES,first=filteredSides[0],last=filteredSides[filteredSides.length-1],only=first===last&&first;return(0,react.createElement)(LayoutContainer,{className:"component-box-control__input-controls-wrapper"},(0,react.createElement)(box_control_styles_Layout,{gap:0,align:"top",className:"component-box-control__input-controls"},filteredSides.map((side=>{const[parsedQuantity,parsedUnit]=(0,utils.YX)(values[side]),computedUnit=values[side]?parsedUnit:selectedUnits[side];return(0,react.createElement)(BoxUnitControl,(0,esm_extends.Z)({},props,{isFirst:first===side,isLast:last===side,isOnly:only===side,value:[parsedQuantity,computedUnit].join(""),onChange:createHandleOnChange(side),onUnitChange:createHandleOnUnitChange(side),onFocus:createHandleOnFocus(side),onHoverOn:createHandleOnHoverOn(side),onHoverOff:createHandleOnHoverOff(side),label:utils_LABELS[side],key:`box-control-${side}`}))}))))}const groupedSides=["vertical","horizontal"];function AxialInputControls({onChange,onFocus,onHoverOn,onHoverOff,values,selectedUnits,setSelectedUnits,sides,...props}){const createHandleOnFocus=side=>event=>{onFocus&&onFocus(event,{side})},createHandleOnHoverOn=side=>()=>{onHoverOn&&("vertical"===side&&onHoverOn({top:!0,bottom:!0}),"horizontal"===side&&onHoverOn({left:!0,right:!0}))},createHandleOnHoverOff=side=>()=>{onHoverOff&&("vertical"===side&&onHoverOff({top:!1,bottom:!1}),"horizontal"===side&&onHoverOff({left:!1,right:!1}))},createHandleOnChange=side=>next=>{if(!onChange)return;const nextValues={...values},nextValue=void 0!==next&&!isNaN(parseFloat(next))?next:void 0;"vertical"===side&&(nextValues.top=nextValue,nextValues.bottom=nextValue),"horizontal"===side&&(nextValues.left=nextValue,nextValues.right=nextValue),onChange(nextValues)},createHandleOnUnitChange=side=>next=>{const newUnits={...selectedUnits};"vertical"===side&&(newUnits.top=next,newUnits.bottom=next),"horizontal"===side&&(newUnits.left=next,newUnits.right=next),setSelectedUnits(newUnits)},filteredSides=sides?.length?groupedSides.filter((side=>sides.includes(side))):groupedSides,first=filteredSides[0],last=filteredSides[filteredSides.length-1],only=first===last&&first;return(0,react.createElement)(box_control_styles_Layout,{gap:0,align:"top",className:"component-box-control__vertical-horizontal-input-controls"},filteredSides.map((side=>{const[parsedQuantity,parsedUnit]=(0,utils.YX)("vertical"===side?values.top:values.left),selectedUnit="vertical"===side?selectedUnits.top:selectedUnits.left;return(0,react.createElement)(BoxUnitControl,(0,esm_extends.Z)({},props,{isFirst:first===side,isLast:last===side,isOnly:only===side,value:[parsedQuantity,null!=selectedUnit?selectedUnit:parsedUnit].join(""),onChange:createHandleOnChange(side),onUnitChange:createHandleOnUnitChange(side),onFocus:createHandleOnFocus(side),onHoverOn:createHandleOnHoverOn(side),onHoverOff:createHandleOnHoverOff(side),label:utils_LABELS[side],key:side}))})))}const box_control_icon_styles_Root=(0,emotion_styled_base_browser_esm.Z)("span",{target:"e1j5nr4z8"})({name:"1w884gc",styles:"box-sizing:border-box;display:block;width:24px;height:24px;position:relative;padding:4px"}),Viewbox=(0,emotion_styled_base_browser_esm.Z)("span",{target:"e1j5nr4z7"})({name:"i6vjox",styles:"box-sizing:border-box;display:block;position:relative;width:100%;height:100%"}),Stroke=(0,emotion_styled_base_browser_esm.Z)("span",{target:"e1j5nr4z6"})("box-sizing:border-box;display:block;pointer-events:none;position:absolute;",(({isFocused})=>(0,emotion_react_browser_esm.iv)({backgroundColor:"currentColor",opacity:isFocused?1:.3},"","","","")),";"),VerticalStroke=(0,emotion_styled_base_browser_esm.Z)(Stroke,{target:"e1j5nr4z5"})({name:"1k2w39q",styles:"bottom:3px;top:3px;width:2px"}),HorizontalStroke=(0,emotion_styled_base_browser_esm.Z)(Stroke,{target:"e1j5nr4z4"})({name:"1q9b07k",styles:"height:2px;left:3px;right:3px"}),TopStroke=(0,emotion_styled_base_browser_esm.Z)(HorizontalStroke,{target:"e1j5nr4z3"})({name:"abcix4",styles:"top:0"}),RightStroke=(0,emotion_styled_base_browser_esm.Z)(VerticalStroke,{target:"e1j5nr4z2"})({name:"1wf8jf",styles:"right:0"}),BottomStroke=(0,emotion_styled_base_browser_esm.Z)(HorizontalStroke,{target:"e1j5nr4z1"})({name:"8tapst",styles:"bottom:0"}),LeftStroke=(0,emotion_styled_base_browser_esm.Z)(VerticalStroke,{target:"e1j5nr4z0"})({name:"1ode3cm",styles:"left:0"}),BASE_ICON_SIZE=24;function BoxControlIcon({size=24,side="all",sides,...props}){const hasSide=value=>!(value=>sides?.length&&!sides.includes(value))(value)&&("all"===side||side===value),top=hasSide("top")||hasSide("vertical"),right=hasSide("right")||hasSide("horizontal"),bottom=hasSide("bottom")||hasSide("vertical"),left=hasSide("left")||hasSide("horizontal"),scale=size/BASE_ICON_SIZE;return(0,react.createElement)(box_control_icon_styles_Root,(0,esm_extends.Z)({style:{transform:`scale(${scale})`}},props),(0,react.createElement)(Viewbox,null,(0,react.createElement)(TopStroke,{isFocused:top}),(0,react.createElement)(RightStroke,{isFocused:right}),(0,react.createElement)(BottomStroke,{isFocused:bottom}),(0,react.createElement)(LeftStroke,{isFocused:left})))}function linked_button_LinkedButton({isLinked,...props}){const label=isLinked?(0,i18n_build_module.__)("Unlink sides"):(0,i18n_build_module.__)("Link sides");return(0,react.createElement)(tooltip.Z,{text:label},(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({},props,{className:"component-box-control__linked-button",isSmall:!0,icon:isLinked?library_link.Z:link_off.Z,iconSize:24,"aria-label":label})))}var use_controlled_state=__webpack_require__("./packages/components/build-module/utils/hooks/use-controlled-state.js");const defaultInputProps={min:0},box_control_noop=()=>{};function BoxControl({id:idProp,inputProps=defaultInputProps,onChange=box_control_noop,label=(0,i18n_build_module.__)("Box Control"),values:valuesProp,units,sides,splitOnAxis=!1,allowReset=!0,resetValues=utils_DEFAULT_VALUES,onMouseOver,onMouseOut}){const[values,setValues]=(0,use_controlled_state.Z)(valuesProp,{fallback:utils_DEFAULT_VALUES}),inputValues=values||utils_DEFAULT_VALUES,hasInitialValue=utils_isValuesDefined(valuesProp),hasOneSide=1===sides?.length,[isDirty,setIsDirty]=(0,react.useState)(hasInitialValue),[isLinked,setIsLinked]=(0,react.useState)(!hasInitialValue||!utils_isValuesMixed(inputValues)||hasOneSide),[side,setSide]=(0,react.useState)(getInitialSide(isLinked,splitOnAxis)),[selectedUnits,setSelectedUnits]=(0,react.useState)({top:(0,utils.YX)(valuesProp?.top)[1],right:(0,utils.YX)(valuesProp?.right)[1],bottom:(0,utils.YX)(valuesProp?.bottom)[1],left:(0,utils.YX)(valuesProp?.left)[1]}),id=function useUniqueId(idProp){const instanceId=(0,use_instance_id.Z)(BoxControl,"inspector-box-control");return idProp||instanceId}(idProp),headingId=`${id}-heading`,inputControlProps={...inputProps,onChange:nextValues=>{onChange(nextValues),setValues(nextValues),setIsDirty(!0)},onFocus:(_event,{side:nextSide})=>{setSide(nextSide)},isLinked,units,selectedUnits,setSelectedUnits,sides,values:inputValues,onMouseOver,onMouseOut};return(0,react.createElement)(box_control_styles_Root,{id,role:"group","aria-labelledby":headingId},(0,react.createElement)(box_control_styles_Header,{className:"component-box-control__header"},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(base_control.Xp.VisualLabel,{id:headingId},label)),allowReset&&(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{className:"component-box-control__reset-button",variant:"secondary",isSmall:!0,onClick:()=>{onChange(resetValues),setValues(resetValues),setSelectedUnits(resetValues),setIsDirty(!1)},disabled:!isDirty},(0,i18n_build_module.__)("Reset")))),(0,react.createElement)(HeaderControlWrapper,{className:"component-box-control__header-control-wrapper"},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(BoxControlIcon,{side,sides})),isLinked&&(0,react.createElement)(flex_block_component.Z,null,(0,react.createElement)(all_input_control_AllInputControl,(0,esm_extends.Z)({"aria-label":label},inputControlProps))),!isLinked&&splitOnAxis&&(0,react.createElement)(flex_block_component.Z,null,(0,react.createElement)(AxialInputControls,inputControlProps)),!hasOneSide&&(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(linked_button_LinkedButton,{onClick:()=>{setIsLinked(!isLinked),setSide(getInitialSide(!isLinked,splitOnAxis))},isLinked}))),!isLinked&&!splitOnAxis&&(0,react.createElement)(input_controls_BoxInputControls,inputControlProps))}const box_control=BoxControl;var use_previous=__webpack_require__("./packages/compose/build-module/hooks/use-previous/index.js");const CUSTOM_VALUE_SETTINGS={px:{max:300,steps:1},"%":{max:100,steps:1},vw:{max:100,steps:1},vh:{max:100,steps:1},em:{max:10,steps:.1},rm:{max:10,steps:.1}};function SpacingInputControl({icon,isMixed=!1,minimumCustomValue,onChange,onMouseOut,onMouseOver,showSideInLabel=!0,side,spacingSizes,type,value}){var _CUSTOM_VALUE_SETTING,_CUSTOM_VALUE_SETTING2;value=function getPresetValueFromCustomValue(value,spacingSizes){if(isValueSpacingPreset(value))return value;const spacingMatch=spacingSizes.find((size=>String(size.size)===String(value)));return spacingMatch?.slug?`var:preset|spacing|${spacingMatch.slug}`:value}(value,spacingSizes);let selectListSizes=spacingSizes;const showRangeControl=spacingSizes.length<=8,disableCustomSpacingSizes=(0,use_select.Z)((select=>{const editorSettings=select(store).getSettings();return editorSettings?.disableCustomSpacingSizes})),[showCustomValueControl,setShowCustomValueControl]=(0,react.useState)(!disableCustomSpacingSizes&&void 0!==value&&!isValueSpacingPreset(value)),previousValue=(0,use_previous.Z)(value);value&&previousValue!==value&&!isValueSpacingPreset(value)&&!0!==showCustomValueControl&&setShowCustomValueControl(!0);const units=(0,utils.nj)({availableUnits:use_setting_useSetting("spacing.units")||["px","em","rem"]});let currentValue=null;!showRangeControl&&!showCustomValueControl&&void 0!==value&&(!isValueSpacingPreset(value)||isValueSpacingPreset(value)&&isMixed)?(selectListSizes=[...spacingSizes,{name:isMixed?(0,i18n_build_module.__)("Mixed"):(0,i18n_build_module.gB)((0,i18n_build_module.__)("Custom (%s)"),value),slug:"custom",size:value}],currentValue=selectListSizes.length-1):isMixed||(currentValue=showCustomValueControl?getCustomValueFromPreset(value,spacingSizes):function getSliderValueFromPreset(presetValue,spacingSizes){if(void 0===presetValue)return 0;const slug=0===parseFloat(presetValue,10)?"0":getSpacingPresetSlug(presetValue),sliderValue=spacingSizes.findIndex((spacingSize=>String(spacingSize.slug)===slug));return-1!==sliderValue?sliderValue:NaN}(value,spacingSizes));const selectedUnit=(0,react.useMemo)((()=>(0,utils.YX)(currentValue)),[currentValue])[1]||units[0].value,customRangeValue=parseFloat(currentValue,10),getNewPresetValue=(newSize,controlType)=>{const size=parseInt(newSize,10);if("selectList"===controlType){if(0===size)return;if(1===size)return"0"}else if(0===size)return"0";return`var:preset|spacing|${spacingSizes[newSize]?.slug}`},allPlaceholder=isMixed?(0,i18n_build_module.__)("Mixed"):null,options=selectListSizes.map(((size,index)=>({key:index,name:size.name}))),marks=spacingSizes.map(((_newValue,index)=>({value:index,label:void 0}))),sideLabel=ALL_SIDES.includes(side)&&showSideInLabel?LABELS[side]:"",typeLabel=showSideInLabel?type?.toLowerCase():type,ariaLabel=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%1$s %2$s"),sideLabel,typeLabel).trim();return(0,react.createElement)(h_stack_component.Z,{className:"spacing-sizes-control__wrapper"},icon&&(0,react.createElement)(components_build_module_icon.Z,{className:"spacing-sizes-control__icon",icon,size:24}),showCustomValueControl&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(unit_control.ZP,{onMouseOver,onMouseOut,onFocus:onMouseOver,onBlur:onMouseOut,onChange:newSize=>onChange((newSize=>isNaN(parseFloat(newSize))?void 0:newSize)(newSize)),value:currentValue,units,min:minimumCustomValue,placeholder:allPlaceholder,disableUnits:isMixed,label:ariaLabel,hideLabelFromVision:!0,className:"spacing-sizes-control__custom-value-input",size:"__unstable-large"}),(0,react.createElement)(range_control.Z,{onMouseOver,onMouseOut,onFocus:onMouseOver,onBlur:onMouseOut,value:customRangeValue,min:0,max:null!==(_CUSTOM_VALUE_SETTING=CUSTOM_VALUE_SETTINGS[selectedUnit]?.max)&&void 0!==_CUSTOM_VALUE_SETTING?_CUSTOM_VALUE_SETTING:10,step:null!==(_CUSTOM_VALUE_SETTING2=CUSTOM_VALUE_SETTINGS[selectedUnit]?.steps)&&void 0!==_CUSTOM_VALUE_SETTING2?_CUSTOM_VALUE_SETTING2:.1,withInputField:!1,onChange:next=>{onChange([next,selectedUnit].join(""))},className:"spacing-sizes-control__custom-value-range",__nextHasNoMarginBottom:!0})),showRangeControl&&!showCustomValueControl&&(0,react.createElement)(range_control.Z,{onMouseOver,onMouseOut,className:"spacing-sizes-control__range-control",value:currentValue,onChange:newSize=>onChange(getNewPresetValue(newSize)),onMouseDown:event=>{event?.nativeEvent?.offsetX<35&&void 0===value&&onChange("0")},withInputField:!1,"aria-valuenow":currentValue,"aria-valuetext":spacingSizes[currentValue]?.name,renderTooltipContent:newValue=>void 0===value?void 0:spacingSizes[newValue]?.name,min:0,max:spacingSizes.length-1,marks,label:ariaLabel,hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,onFocus:onMouseOver,onBlur:onMouseOut}),!showRangeControl&&!showCustomValueControl&&(0,react.createElement)(custom_select_control.q,{className:"spacing-sizes-control__custom-select-control",value:options.find((option=>option.key===currentValue))||"",onChange:selection=>{onChange(getNewPresetValue(selection.selectedItem.key,"selectList"))},options,label:ariaLabel,hideLabelFromVision:!0,__nextUnconstrainedWidth:!0,size:"__unstable-large",onMouseOver,onMouseOut,onFocus:onMouseOver,onBlur:onMouseOut}),!disableCustomSpacingSizes&&(0,react.createElement)(build_module_button.ZP,{label:showCustomValueControl?(0,i18n_build_module.__)("Use size preset"):(0,i18n_build_module.__)("Set custom size"),icon:library_settings.Z,onClick:()=>{setShowCustomValueControl(!showCustomValueControl)},isPressed:showCustomValueControl,isSmall:!0,className:"spacing-sizes-control__custom-toggle",iconSize:24}))}const axial_groupedSides=["vertical","horizontal"];function axial_AxialInputControls({minimumCustomValue,onChange,onMouseOut,onMouseOver,sides,spacingSizes,type,values}){const createHandleOnChange=side=>next=>{if(!onChange)return;const nextValues={...values};"vertical"===side&&(nextValues.top=next,nextValues.bottom=next),"horizontal"===side&&(nextValues.left=next,nextValues.right=next),onChange(nextValues)},filteredSides=sides?.length?axial_groupedSides.filter((side=>hasAxisSupport(sides,side))):axial_groupedSides;return(0,react.createElement)(react.Fragment,null,filteredSides.map((side=>{const axisValue="vertical"===side?values.top:values.left;return(0,react.createElement)(SpacingInputControl,{key:`spacing-sizes-control-${side}`,icon:ICONS[side],label:LABELS[side],minimumCustomValue,onChange:createHandleOnChange(side),onMouseOut,onMouseOver,side,spacingSizes,type,value:axisValue,withInputField:!1})})))}function SeparatedInputControls({minimumCustomValue,onChange,onMouseOut,onMouseOver,sides,spacingSizes,type,values}){const filteredSides=sides?.length?ALL_SIDES.filter((side=>sides.includes(side))):ALL_SIDES,createHandleOnChange=side=>next=>{const nextValues={...values};nextValues[side]=next,onChange(nextValues)};return(0,react.createElement)(react.Fragment,null,filteredSides.map((side=>(0,react.createElement)(SpacingInputControl,{key:`spacing-sizes-control-${side}`,icon:ICONS[side],label:LABELS[side],minimumCustomValue,onChange:createHandleOnChange(side),onMouseOut,onMouseOver,side,spacingSizes,type,value:values[side],withInputField:!1}))))}function SingleInputControl({minimumCustomValue,onChange,onMouseOut,onMouseOver,showSideInLabel,side,spacingSizes,type,values}){return(0,react.createElement)(SpacingInputControl,{label:LABELS[side],minimumCustomValue,onChange:(currentSide=side,next=>{const nextValues={...values};nextValues[currentSide]=next,onChange(nextValues)}),onMouseOut,onMouseOver,showSideInLabel,side,spacingSizes,type,value:values[side],withInputField:!1});var currentSide}const checkIcon=(0,react.createElement)(components_build_module_icon.Z,{icon:library_check.Z,size:24});function SidesDropdown({label:labelProp,onChange,sides,value}){if(!sides||!sides.length)return;const supportedItems=function getSupportedMenuItems(sides){if(!sides||!sides.length)return{};const menuItems={},hasHorizontalSupport=hasAxisSupport(sides,"horizontal"),hasVerticalSupport=hasAxisSupport(sides,"vertical");hasHorizontalSupport&&hasVerticalSupport?menuItems.axial={label:LABELS.axial,icon:ICONS.axial}:hasHorizontalSupport?menuItems.axial={label:LABELS.horizontal,icon:ICONS.horizontal}:hasVerticalSupport&&(menuItems.axial={label:LABELS.vertical,icon:ICONS.vertical});let numberOfIndividualSides=0;return ALL_SIDES.forEach((side=>{sides.includes(side)&&(numberOfIndividualSides+=1,menuItems[side]={label:LABELS[side],icon:ICONS[side]})})),numberOfIndividualSides>1&&(menuItems.custom={label:LABELS.custom,icon:ICONS.custom}),menuItems}(sides),sideIcon=supportedItems[value].icon,{custom:customItem,...menuItems}=supportedItems;return(0,react.createElement)(dropdown_menu.Z,{icon:sideIcon,label:labelProp,className:"spacing-sizes-control__dropdown",toggleProps:{isSmall:!0}},(({onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_group.Z,null,Object.entries(menuItems).map((([slug,{label,icon}])=>{const isSelected=value===slug;return(0,react.createElement)(menu_item.Z,{key:slug,icon,iconPosition:"left",isSelected,role:"menuitemradio",onClick:()=>{onChange(slug),onClose()},suffix:isSelected?checkIcon:void 0},label)}))),!!customItem&&(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(menu_item.Z,{icon:customItem.icon,iconPosition:"left",isSelected:value===VIEWS.custom,role:"menuitemradio",onClick:()=>{onChange(VIEWS.custom),onClose()},suffix:value===VIEWS.custom?checkIcon:void 0},customItem.label)))))}function SpacingSizesControl({inputProps,label:labelProp,minimumCustomValue=0,onChange,onMouseOut,onMouseOver,showSideInLabel=!0,sides=ALL_SIDES,useSelect,values}){const spacingSizes=function useSpacingSizes(){const spacingSizes=[{name:0,slug:"0",side:0},...use_setting_useSetting("spacing.spacingSizes")||[]];return spacingSizes.length>8&&spacingSizes.unshift({name:(0,i18n_build_module.__)("Default"),slug:"default",size:void 0}),spacingSizes}(),inputValues=values||DEFAULT_VALUES,hasOneSide=1===sides?.length,hasOnlyAxialSides=sides?.includes("horizontal")&&sides?.includes("vertical")&&2===sides?.length,[view,setView]=(0,react.useState)(function getInitialView(values={},sides){const{top,right,bottom,left}=values,sideValues=[top,right,bottom,left].filter(Boolean),hasMatchingAxialValues=!(top!==bottom||left!==right||!top&&!left),hasNoValuesAndBalancedSides=!sideValues.length&&function hasBalancedSidesSupport(sides=[]){const counts={top:0,right:0,bottom:0,left:0};return sides.forEach((side=>counts[side]+=1)),(counts.top+counts.bottom)%2==0&&(counts.left+counts.right)%2==0}(sides);if(hasAxisSupport(sides)&&(hasMatchingAxialValues||hasNoValuesAndBalancedSides))return VIEWS.axial;if(1===sideValues.length){let side;return Object.entries(values).some((([key,value])=>(side=key,void 0!==value))),side}return 1!==sides?.length||sideValues.length?VIEWS.custom:sides[0]}(inputValues,sides)),inputControlProps={...inputProps,minimumCustomValue,onChange:nextValue=>{const newValues={...values,...nextValue};onChange(newValues)},onMouseOut,onMouseOver,sides,spacingSizes,type:labelProp,useSelect,values:inputValues},sideLabel=ALL_SIDES.includes(view)&&showSideInLabel?LABELS[view]:"",label=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%1$s %2$s"),labelProp,sideLabel).trim(),dropdownLabelText=(0,i18n_build_module.gB)((0,i18n_build_module._x)("%s options","Button label to reveal side configuration options"),labelProp);return(0,react.createElement)("fieldset",{className:"spacing-sizes-control"},(0,react.createElement)(h_stack_component.Z,{className:"spacing-sizes-control__header"},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend",className:"spacing-sizes-control__label"},label),!hasOneSide&&!hasOnlyAxialSides&&(0,react.createElement)(SidesDropdown,{label:dropdownLabelText,onChange:setView,sides,value:view})),view===VIEWS.axial?(0,react.createElement)(axial_AxialInputControls,inputControlProps):view===VIEWS.custom?(0,react.createElement)(SeparatedInputControls,inputControlProps):(0,react.createElement)(SingleInputControl,(0,esm_extends.Z)({side:view},inputControlProps,{showSideInLabel})))}const RANGE_CONTROL_CUSTOM_SETTINGS={px:{max:1e3,step:1},"%":{max:100,step:1},vw:{max:100,step:1},vh:{max:100,step:1},em:{max:50,step:.1},rem:{max:50,step:.1}};function HeightControl({label=(0,i18n_build_module.__)("Height"),onChange,value}){var _RANGE_CONTROL_CUSTOM,_RANGE_CONTROL_CUSTOM2;const customRangeValue=parseFloat(value),units=(0,utils.nj)({availableUnits:use_setting_useSetting("spacing.units")||["%","px","em","rem","vh","vw"]}),selectedUnit=(0,react.useMemo)((()=>(0,utils.YX)(value)),[value])[1]||units[0]?.value||"px";return(0,react.createElement)("fieldset",{className:"block-editor-height-control"},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},label),(0,react.createElement)(component.Z,null,(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(unit_control.ZP,{value,units,onChange,onUnitChange:newUnit=>{const[currentValue,currentUnit]=(0,utils.YX)(value);["em","rem"].includes(newUnit)&&"px"===currentUnit?onChange((currentValue/16).toFixed(2)+newUnit):["em","rem"].includes(currentUnit)&&"px"===newUnit?onChange(Math.round(16*currentValue)+newUnit):["vh","vw","%"].includes(newUnit)&&currentValue>100&&onChange(100+newUnit)},min:0,size:"__unstable-large"})),(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(spacer_component.Z,{marginX:2,marginBottom:0},(0,react.createElement)(range_control.Z,{value:customRangeValue,min:0,max:null!==(_RANGE_CONTROL_CUSTOM=RANGE_CONTROL_CUSTOM_SETTINGS[selectedUnit]?.max)&&void 0!==_RANGE_CONTROL_CUSTOM?_RANGE_CONTROL_CUSTOM:100,step:null!==(_RANGE_CONTROL_CUSTOM2=RANGE_CONTROL_CUSTOM_SETTINGS[selectedUnit]?.step)&&void 0!==_RANGE_CONTROL_CUSTOM2?_RANGE_CONTROL_CUSTOM2:.1,withInputField:!1,onChange:next=>{onChange([next,selectedUnit].join(""))},__nextHasNoMarginBottom:!0})))))}function helpText(selfStretch,parentLayout){const{orientation="horizontal"}=parentLayout;return"fill"===selfStretch?(0,i18n_build_module.__)("Stretch to fill available space."):"fixed"===selfStretch&&"horizontal"===orientation?(0,i18n_build_module.__)("Specify a fixed width."):"fixed"===selfStretch?(0,i18n_build_module.__)("Specify a fixed height."):(0,i18n_build_module.__)("Fit contents.")}function ChildLayoutControl({value:childLayout={},onChange,parentLayout}){const{selfStretch,flexSize}=childLayout;return(0,react.useEffect)((()=>{"fixed"!==selfStretch||flexSize||onChange({...childLayout,selfStretch:"fit"})}),[]),(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:childLayoutOrientation(parentLayout),value:selfStretch||"fit",help:helpText(selfStretch,parentLayout),onChange:value=>{const newFlexSize="fixed"!==value?null:flexSize;onChange({...childLayout,selfStretch:value,flexSize:newFlexSize})},isBlock:!0},(0,react.createElement)(toggle_group_control_option_component.Z,{key:"fit",value:"fit",label:(0,i18n_build_module.__)("Fit")}),(0,react.createElement)(toggle_group_control_option_component.Z,{key:"fill",value:"fill",label:(0,i18n_build_module.__)("Fill")}),(0,react.createElement)(toggle_group_control_option_component.Z,{key:"fixed",value:"fixed",label:(0,i18n_build_module.__)("Fixed")})),"fixed"===selfStretch&&(0,react.createElement)(unit_control.ZP,{size:"__unstable-large",onChange:value=>{onChange({...childLayout,flexSize:value})},value:flexSize}))}function childLayoutOrientation(parentLayout){const{orientation="horizontal"}=parentLayout;return"horizontal"===orientation?(0,i18n_build_module.__)("Width"):(0,i18n_build_module.__)("Height")}const AXIAL_SIDES=["horizontal","vertical"];function useHasDimensionsPanel(settings){const hasContentSize=useHasContentSize(settings),hasWideSize=useHasWideSize(settings),hasPadding=useHasPadding(settings),hasMargin=useHasMargin(settings),hasGap=useHasGap(settings),hasMinHeight=useHasMinHeight(settings),hasChildLayout=useHasChildLayout(settings);return"web"===platform.Z.OS&&(hasContentSize||hasWideSize||hasPadding||hasMargin||hasGap||hasMinHeight||hasChildLayout)}function useHasContentSize(settings){return settings?.layout?.contentSize}function useHasWideSize(settings){return settings?.layout?.wideSize}function useHasPadding(settings){return settings?.spacing?.padding}function useHasMargin(settings){return settings?.spacing?.margin}function useHasGap(settings){return settings?.spacing?.blockGap}function useHasMinHeight(settings){return settings?.dimensions?.minHeight}function useHasChildLayout(settings){var _settings$parentLayou;const{type:parentLayoutType="default",default:{type:defaultParentLayoutType="default"}={},allowSizingOnChildren=!1}=null!==(_settings$parentLayou=settings?.parentLayout)&&void 0!==_settings$parentLayou?_settings$parentLayou:{},support=("flex"===defaultParentLayoutType||"flex"===parentLayoutType)&&allowSizingOnChildren;return!!settings?.layout&&support}function filterValuesBySides(values,sides){if(!sides||!values)return values;const filteredValues={};return sides.forEach((side=>{"vertical"===side&&(filteredValues.top=values.top,filteredValues.bottom=values.bottom),"horizontal"===side&&(filteredValues.left=values.left,filteredValues.right=values.right),filteredValues[side]=values?.[side]})),filteredValues}function splitStyleValue(value){return value&&"string"==typeof value?{top:value,right:value,bottom:value,left:value}:value}function DimensionsToolsPanel({resetAllFilter,onChange,value,panelId,children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Dimensions"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId},children)}const dimensions_panel_DEFAULT_CONTROLS={contentSize:!0,wideSize:!0,padding:!0,margin:!0,blockGap:!0,minHeight:!0,childLayout:!0};function DimensionsPanel({as:Wrapper=DimensionsToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=dimensions_panel_DEFAULT_CONTROLS,onVisualize=()=>{},includeLayoutControls=!1}){var _settings$parentLayou2,_defaultControls$cont,_defaultControls$wide,_defaultControls$padd,_defaultControls$marg,_defaultControls$bloc,_defaultControls$minH,_defaultControls$chil;const decodeValue=rawValue=>rawValue&&"object"==typeof rawValue?Object.keys(rawValue).reduce(((acc,key)=>(acc[key]=getValueFromVariable({settings},"",rawValue[key]),acc)),{}):getValueFromVariable({settings},"",rawValue),showSpacingPresetsControl=function useHasSpacingPresets(settings){var _ref,_ref2;const{custom,theme,default:defaultPresets}=settings?.spacing?.spacingSizes||{};return(null!==(_ref=null!==(_ref2=null!=custom?custom:theme)&&void 0!==_ref2?_ref2:defaultPresets)&&void 0!==_ref?_ref:[]).length>0}(settings),units=(0,utils.nj)({availableUnits:settings?.spacing?.units||["%","px","em","rem","vw"]}),showContentSizeControl=useHasContentSize(settings)&&includeLayoutControls,contentSizeValue=decodeValue(inheritedValue?.layout?.contentSize),setContentSizeValue=newValue=>{onChange(setImmutably(value,["layout","contentSize"],newValue||void 0))},showWideSizeControl=useHasWideSize(settings)&&includeLayoutControls,wideSizeValue=decodeValue(inheritedValue?.layout?.wideSize),setWideSizeValue=newValue=>{onChange(setImmutably(value,["layout","wideSize"],newValue||void 0))},showPaddingControl=useHasPadding(settings),paddingValues=splitStyleValue(decodeValue(inheritedValue?.spacing?.padding)),paddingSides=Array.isArray(settings?.spacing?.padding)?settings?.spacing?.padding:settings?.spacing?.padding?.sides,isAxialPadding=paddingSides&&paddingSides.some((side=>AXIAL_SIDES.includes(side))),setPaddingValues=newPaddingValues=>{const padding=filterValuesBySides(newPaddingValues,paddingSides);onChange(setImmutably(value,["spacing","padding"],padding))},onMouseOverPadding=()=>onVisualize("padding"),showMarginControl=useHasMargin(settings),marginValues=splitStyleValue(decodeValue(inheritedValue?.spacing?.margin)),marginSides=Array.isArray(settings?.spacing?.margin)?settings?.spacing?.margin:settings?.spacing?.margin?.sides,isAxialMargin=marginSides&&marginSides.some((side=>AXIAL_SIDES.includes(side))),setMarginValues=newMarginValues=>{const margin=filterValuesBySides(newMarginValues,marginSides);onChange(setImmutably(value,["spacing","margin"],margin))},onMouseOverMargin=()=>onVisualize("margin"),showGapControl=useHasGap(settings),gapValue=decodeValue(inheritedValue?.spacing?.blockGap),gapValues=function splitGapValue(value){return value&&"string"==typeof value?{top:value}:value?{...value,right:value?.left,bottom:value?.top}:value}(gapValue),gapSides=Array.isArray(settings?.spacing?.blockGap)?settings?.spacing?.blockGap:settings?.spacing?.blockGap?.sides,isAxialGap=gapSides&&gapSides.some((side=>AXIAL_SIDES.includes(side))),setGapValue=newGapValue=>{onChange(setImmutably(value,["spacing","blockGap"],newGapValue))},setGapValues=nextBoxGapValue=>{nextBoxGapValue||setGapValue(null),!isAxialGap&&nextBoxGapValue?.hasOwnProperty("top")?setGapValue(nextBoxGapValue.top):setGapValue({top:nextBoxGapValue?.top,left:nextBoxGapValue?.left})},showMinHeightControl=useHasMinHeight(settings),minHeightValue=decodeValue(inheritedValue?.dimensions?.minHeight),setMinHeightValue=newValue=>{onChange(setImmutably(value,["dimensions","minHeight"],newValue))},showChildLayoutControl=useHasChildLayout(settings),childLayout=inheritedValue?.layout,{orientation="horizontal"}=null!==(_settings$parentLayou2=settings?.parentLayout)&&void 0!==_settings$parentLayou2?_settings$parentLayou2:{},childLayoutOrientationLabel="horizontal"===orientation?(0,i18n_build_module.__)("Width"):(0,i18n_build_module.__)("Height"),setChildLayout=newChildLayout=>{onChange({...value,layout:{...value?.layout,...newChildLayout}})},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,layout:utils_cleanEmptyObject({...previousValue?.layout,contentSize:void 0,wideSize:void 0,selfStretch:void 0,flexSize:void 0}),spacing:{...previousValue?.spacing,padding:void 0,margin:void 0,blockGap:void 0},dimensions:{...previousValue?.dimensions,minHeight:void 0}})),[]),onMouseLeaveControls=()=>onVisualize(!1);return(0,react.createElement)(Wrapper,{resetAllFilter,value,onChange,panelId},(showContentSizeControl||showWideSizeControl)&&(0,react.createElement)("span",{className:"span-columns"},(0,i18n_build_module.__)("Set the width of the main content area.")),showContentSizeControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Content size"),hasValue:()=>!!value?.layout?.contentSize,onDeselect:()=>setContentSizeValue(void 0),isShownByDefault:null!==(_defaultControls$cont=defaultControls.contentSize)&&void 0!==_defaultControls$cont?_defaultControls$cont:dimensions_panel_DEFAULT_CONTROLS.contentSize,panelId},(0,react.createElement)(h_stack_component.Z,{alignment:"flex-end",justify:"flex-start"},(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Content"),labelPosition:"top",__unstableInputWidth:"80px",value:contentSizeValue||"",onChange:nextContentSize=>{setContentSizeValue(nextContentSize)},units}),(0,react.createElement)(view_component.Z,null,(0,react.createElement)(build_module_icon.Z,{icon:position_center.Z})))),showWideSizeControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Wide size"),hasValue:()=>!!value?.layout?.wideSize,onDeselect:()=>setWideSizeValue(void 0),isShownByDefault:null!==(_defaultControls$wide=defaultControls.wideSize)&&void 0!==_defaultControls$wide?_defaultControls$wide:dimensions_panel_DEFAULT_CONTROLS.wideSize,panelId},(0,react.createElement)(h_stack_component.Z,{alignment:"flex-end",justify:"flex-start"},(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Wide"),labelPosition:"top",__unstableInputWidth:"80px",value:wideSizeValue||"",onChange:nextWideSize=>{setWideSizeValue(nextWideSize)},units}),(0,react.createElement)(view_component.Z,null,(0,react.createElement)(build_module_icon.Z,{icon:stretch_wide.Z})))),showPaddingControl&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!value?.spacing?.padding&&Object.keys(value?.spacing?.padding).length,label:(0,i18n_build_module.__)("Padding"),onDeselect:()=>setPaddingValues(void 0),isShownByDefault:null!==(_defaultControls$padd=defaultControls.padding)&&void 0!==_defaultControls$padd?_defaultControls$padd:dimensions_panel_DEFAULT_CONTROLS.padding,className:classnames_default()({"tools-panel-item-spacing":showSpacingPresetsControl}),panelId},!showSpacingPresetsControl&&(0,react.createElement)(box_control,{values:paddingValues,onChange:setPaddingValues,label:(0,i18n_build_module.__)("Padding"),sides:paddingSides,units,allowReset:!1,splitOnAxis:isAxialPadding,onMouseOver:onMouseOverPadding,onMouseOut:onMouseLeaveControls}),showSpacingPresetsControl&&(0,react.createElement)(SpacingSizesControl,{values:paddingValues,onChange:setPaddingValues,label:(0,i18n_build_module.__)("Padding"),sides:paddingSides,units,allowReset:!1,onMouseOver:onMouseOverPadding,onMouseOut:onMouseLeaveControls})),showMarginControl&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!value?.spacing?.margin&&Object.keys(value?.spacing?.margin).length,label:(0,i18n_build_module.__)("Margin"),onDeselect:()=>setMarginValues(void 0),isShownByDefault:null!==(_defaultControls$marg=defaultControls.margin)&&void 0!==_defaultControls$marg?_defaultControls$marg:dimensions_panel_DEFAULT_CONTROLS.margin,className:classnames_default()({"tools-panel-item-spacing":showSpacingPresetsControl}),panelId},!showSpacingPresetsControl&&(0,react.createElement)(box_control,{values:marginValues,onChange:setMarginValues,label:(0,i18n_build_module.__)("Margin"),sides:marginSides,units,allowReset:!1,splitOnAxis:isAxialMargin,onMouseOver:onMouseOverMargin,onMouseOut:onMouseLeaveControls}),showSpacingPresetsControl&&(0,react.createElement)(SpacingSizesControl,{values:marginValues,onChange:setMarginValues,label:(0,i18n_build_module.__)("Margin"),sides:marginSides,units,allowReset:!1,onMouseOver:onMouseOverMargin,onMouseOut:onMouseLeaveControls})),showGapControl&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!value?.spacing?.blockGap,label:(0,i18n_build_module.__)("Block spacing"),onDeselect:()=>setGapValue(void 0),isShownByDefault:null!==(_defaultControls$bloc=defaultControls.blockGap)&&void 0!==_defaultControls$bloc?_defaultControls$bloc:dimensions_panel_DEFAULT_CONTROLS.blockGap,className:classnames_default()({"tools-panel-item-spacing":showSpacingPresetsControl}),panelId},!showSpacingPresetsControl&&(isAxialGap?(0,react.createElement)(box_control,{label:(0,i18n_build_module.__)("Block spacing"),min:0,onChange:setGapValues,units,sides:gapSides,values:gapValues,allowReset:!1,splitOnAxis:isAxialGap}):(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Block spacing"),__unstableInputWidth:"80px",min:0,onChange:setGapValue,units,value:gapValue})),showSpacingPresetsControl&&(0,react.createElement)(SpacingSizesControl,{label:(0,i18n_build_module.__)("Block spacing"),min:0,onChange:setGapValues,showSideInLabel:!1,sides:isAxialGap?gapSides:["top"],values:gapValues,allowReset:!1})),showMinHeightControl&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!value?.dimensions?.minHeight,label:(0,i18n_build_module.__)("Min. height"),onDeselect:()=>{setMinHeightValue(void 0)},isShownByDefault:null!==(_defaultControls$minH=defaultControls.minHeight)&&void 0!==_defaultControls$minH?_defaultControls$minH:dimensions_panel_DEFAULT_CONTROLS.minHeight,panelId},(0,react.createElement)(HeightControl,{label:(0,i18n_build_module.__)("Min. height"),value:minHeightValue,onChange:setMinHeightValue})),showChildLayoutControl&&(0,react.createElement)(v_stack_component.Z,{as:tools_panel_item_component.Z,spacing:2,hasValue:()=>!!value?.layout,label:childLayoutOrientationLabel,onDeselect:()=>{setChildLayout({selfStretch:void 0,flexSize:void 0})},isShownByDefault:null!==(_defaultControls$chil=defaultControls.childLayout)&&void 0!==_defaultControls$chil?_defaultControls$chil:dimensions_panel_DEFAULT_CONTROLS.childLayout,panelId},(0,react.createElement)(ChildLayoutControl,{value:childLayout,onChange:setChildLayout,parentLayout:settings?.parentLayout})))}function getComputedCSS(element,property){return element.ownerDocument.defaultView.getComputedStyle(element).getPropertyValue(property)}function MarginVisualizer({clientId,attributes,forceShow}){const blockElement=useBlockElement(clientId),[style,setStyle]=(0,react.useState)(),margin=attributes?.style?.spacing?.margin;(0,react.useEffect)((()=>{if(!blockElement)return;const top=getComputedCSS(blockElement,"margin-top"),right=getComputedCSS(blockElement,"margin-right"),bottom=getComputedCSS(blockElement,"margin-bottom"),left=getComputedCSS(blockElement,"margin-left");setStyle({borderTopWidth:top,borderRightWidth:right,borderBottomWidth:bottom,borderLeftWidth:left,top:top?`-${top}`:0,right:right?`-${right}`:0,bottom:bottom?`-${bottom}`:0,left:left?`-${left}`:0})}),[blockElement,margin]);const[isActive,setIsActive]=(0,react.useState)(!1),valueRef=(0,react.useRef)(margin),timeoutRef=(0,react.useRef)();return(0,react.useEffect)((()=>((0,is_shallow_equal_build_module.ZP)(margin,valueRef.current)||forceShow||(setIsActive(!0),valueRef.current=margin,timeoutRef.current=setTimeout((()=>{setIsActive(!1)}),400)),()=>{setIsActive(!1),timeoutRef.current&&window.clearTimeout(timeoutRef.current)})),[margin,forceShow]),isActive||forceShow?(0,react.createElement)(block_popover,{clientId,__unstableCoverTarget:!0,__unstableRefreshSize:margin,__unstablePopoverSlot:"block-toolbar",shift:!1},(0,react.createElement)("div",{className:"block-editor__padding-visualizer",style})):null}function padding_getComputedCSS(element,property){return element.ownerDocument.defaultView.getComputedStyle(element).getPropertyValue(property)}function PaddingVisualizer({clientId,attributes,forceShow}){const blockElement=useBlockElement(clientId),[style,setStyle]=(0,react.useState)(),padding=attributes?.style?.spacing?.padding;(0,react.useEffect)((()=>{blockElement&&setStyle({borderTopWidth:padding_getComputedCSS(blockElement,"padding-top"),borderRightWidth:padding_getComputedCSS(blockElement,"padding-right"),borderBottomWidth:padding_getComputedCSS(blockElement,"padding-bottom"),borderLeftWidth:padding_getComputedCSS(blockElement,"padding-left")})}),[blockElement,padding]);const[isActive,setIsActive]=(0,react.useState)(!1),valueRef=(0,react.useRef)(padding),timeoutRef=(0,react.useRef)();return(0,react.useEffect)((()=>((0,is_shallow_equal_build_module.ZP)(padding,valueRef.current)||forceShow||(setIsActive(!0),valueRef.current=padding,timeoutRef.current=setTimeout((()=>{setIsActive(!1)}),400)),()=>{setIsActive(!1),timeoutRef.current&&window.clearTimeout(timeoutRef.current)})),[padding,forceShow]),isActive||forceShow?(0,react.createElement)(block_popover,{clientId,__unstableCoverTarget:!0,__unstableRefreshSize:padding,__unstablePopoverSlot:"block-toolbar",shift:!1},(0,react.createElement)("div",{className:"block-editor__padding-visualizer",style})):null}function DimensionsInspectorControl({children,resetAllFilter}){const attributesResetAllFilter=(0,react.useCallback)((attributes=>{const existingStyle=attributes.style,updatedStyle=resetAllFilter(existingStyle);return{...attributes,style:updatedStyle}}),[resetAllFilter]);return(0,react.createElement)(inspector_controls,{group:"dimensions",resetAllFilter:attributesResetAllFilter},children)}function dimensions_DimensionsPanel(props){const{clientId,name,attributes,setAttributes,__unstableParentLayout}=props,settings=useBlockSettings(name,__unstableParentLayout),isEnabled=useHasDimensionsPanel(settings),value=attributes.style,[visualizedProperty,setVisualizedProperty]=function useVisualizer(){const[property,setProperty]=(0,react.useState)(!1),{hideBlockInterface,showBlockInterface}=unlock((0,use_dispatch.Z)(store));return(0,react.useEffect)((()=>{property?hideBlockInterface():showBlockInterface()}),[property,showBlockInterface,hideBlockInterface]),[property,setProperty]}();if(!isEnabled)return null;const defaultControls={...(0,build_module.Dx)(props.name,["dimensions","__experimentalDefaultControls"]),...(0,build_module.Dx)(props.name,["spacing","__experimentalDefaultControls"])};return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(DimensionsPanel,{as:DimensionsInspectorControl,panelId:clientId,settings,value,onChange:newStyle=>{setAttributes({style:utils_cleanEmptyObject(newStyle)})},defaultControls,onVisualize:setVisualizedProperty}),!!settings?.spacing?.padding&&(0,react.createElement)(PaddingVisualizer,(0,esm_extends.Z)({forceShow:"padding"===visualizedProperty},props)),!!settings?.spacing?.margin&&(0,react.createElement)(MarginVisualizer,(0,esm_extends.Z)({forceShow:"margin"===visualizedProperty},props)))}const style_styleSupportKeys=[...typography_TYPOGRAPHY_SUPPORT_KEYS,border_BORDER_SUPPORT_KEY,color_COLOR_SUPPORT_KEY,"dimensions","spacing"],style_hasStyleSupport=blockType=>style_styleSupportKeys.some((key=>(0,build_module.zb)(blockType,key)));function getInlineStyles(styles={}){const output={};return(0,style_engine_build_module.R)(styles).forEach((rule=>{output[rule.key]=rule.value})),output}const skipSerializationPathsEdit={[`${border_BORDER_SUPPORT_KEY}.__experimentalSkipSerialization`]:["border"],[`${color_COLOR_SUPPORT_KEY}.__experimentalSkipSerialization`]:[color_COLOR_SUPPORT_KEY],[`${TYPOGRAPHY_SUPPORT_KEY}.__experimentalSkipSerialization`]:[TYPOGRAPHY_SUPPORT_KEY],"dimensions.__experimentalSkipSerialization":["dimensions"],"spacing.__experimentalSkipSerialization":["spacing"]},skipSerializationPathsSave={...skipSerializationPathsEdit,spacing:["spacing.blockGap"]},renamedFeatures={gradients:"gradient"};function omitStyle(style,paths,preserveReference=!1){if(!style)return style;let newStyle=style;return preserveReference||(newStyle=JSON.parse(JSON.stringify(style))),Array.isArray(paths)||(paths=[paths]),paths.forEach((path=>{if(Array.isArray(path)||(path=path.split(".")),path.length>1){const[firstSubpath,...restPath]=path;omitStyle(newStyle[firstSubpath],[restPath],!0)}else 1===path.length&&delete newStyle[path[0]]})),newStyle}function style_addSaveProps(props,blockType,attributes,skipPaths=skipSerializationPathsSave){if(!style_hasStyleSupport(blockType))return props;let{style}=attributes;return Object.entries(skipPaths).forEach((([indicator,path])=>{const skipSerialization=(0,build_module.Dx)(blockType,indicator);!0===skipSerialization&&(style=omitStyle(style,path)),Array.isArray(skipSerialization)&&skipSerialization.forEach((featureName=>{const feature=renamedFeatures[featureName]||featureName;style=omitStyle(style,[[...path,feature]])}))})),props.style={...getInlineStyles(style),...props.style},props}const withBlockControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const shouldDisplayControls=useDisplayBlockControls(),blockEditingMode=useBlockEditingMode();return(0,react.createElement)(react.Fragment,null,shouldDisplayControls&&"default"===blockEditingMode&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(ColorEdit,props),(0,react.createElement)(typography_TypographyPanel,props),(0,react.createElement)(border_BorderPanel,props),(0,react.createElement)(dimensions_DimensionsPanel,props)),(0,react.createElement)(BlockEdit,props))}),"withToolbarControls"),withElementsStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const blockElementsContainerIdentifier=`wp-elements-${(0,use_instance_id.Z)(BlockListBlock)}`,skipLinkColorSerialization=shouldSkipSerialization(props.name,color_COLOR_SUPPORT_KEY,"link"),styles=(0,react.useMemo)((()=>{const elements=[{styles:skipLinkColorSerialization?void 0:props.attributes.style?.elements?.link,selector:`.editor-styles-wrapper .${blockElementsContainerIdentifier} ${build_module.qO.link}`},{styles:skipLinkColorSerialization?void 0:props.attributes.style?.elements?.link?.[":hover"],selector:`.editor-styles-wrapper .${blockElementsContainerIdentifier} ${build_module.qO.link}:hover`}],elementCssRules=[];for(const{styles:elementStyles,selector}of elements)if(elementStyles){const cssRule=(0,style_engine_build_module.P)(elementStyles,{selector});elementCssRules.push(cssRule)}return elementCssRules.length>0?elementCssRules.join(""):void 0}),[props.attributes.style?.elements,blockElementsContainerIdentifier,skipLinkColorSerialization]),element=(0,react.useContext)(BlockList.__unstableElementContext);return(0,react.createElement)(react.Fragment,null,styles&&element&&(0,react_dom.createPortal)((0,react.createElement)("style",{dangerouslySetInnerHTML:{__html:styles}}),element),(0,react.createElement)(BlockListBlock,(0,esm_extends.Z)({},props,{className:props.attributes.style?.elements?classnames_default()(props.className,blockElementsContainerIdentifier):props.className})))}),"withElementsStyles");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/style/addAttribute",(function style_addAttribute(settings){return style_hasStyleSupport(settings)?(settings.attributes.style||Object.assign(settings.attributes,{style:{type:"object"}}),settings):settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/style/addSaveProps",style_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/style/addEditProps",(function style_addEditProps(settings){if(!style_hasStyleSupport(settings))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),style_addSaveProps(props,settings,attributes,skipSerializationPathsEdit)},settings})),(0,hooks_build_module.KJ)("editor.BlockEdit","core/style/with-block-controls",withBlockControls),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/with-elements-styles",withElementsStyles);(0,hooks_build_module.KJ)("blocks.registerBlockType","core/settings/addAttribute",(function settings_addAttribute(settings){return blockType=settings,(0,build_module.zb)(blockType,"__experimentalSettings",!1)?(settings?.attributes?.settings||(settings.attributes={...settings.attributes,settings:{type:"object"}}),settings):settings;var blockType}));var swatch=__webpack_require__("./packages/icons/build-module/library/swatch.js"),duotone_picker_utils=__webpack_require__("./packages/components/build-module/duotone-picker/utils.js");const duotone_swatch=function DuotoneSwatch({values}){return values?(0,react.createElement)(color_indicator.Z,{colorValue:(0,duotone_picker_utils.ZU)(values,"135deg")}):(0,react.createElement)(components_build_module_icon.Z,{icon:swatch.Z})};var duotone_picker=__webpack_require__("./packages/components/build-module/duotone-picker/duotone-picker.js");const library_filter=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M12 4 4 19h16L12 4zm0 3.2 5.5 10.3H12V7.2z"}));const duotone_control=function DuotoneControl({colorPalette,duotonePalette,disableCustomColors,disableCustomDuotone,value,onChange}){let toolbarIcon;return toolbarIcon="unset"===value?(0,react.createElement)(color_indicator.Z,{className:"block-editor-duotone-control__unset-indicator"}):value?(0,react.createElement)(duotone_swatch,{values:value}):(0,react.createElement)(build_module_icon.Z,{icon:library_filter}),(0,react.createElement)(dropdown.Z,{popoverProps:{className:"block-editor-duotone-control__popover",headerTitle:(0,i18n_build_module.__)("Duotone")},renderToggle:({isOpen,onToggle})=>(0,react.createElement)(toolbar_button.Z,{showTooltip:!0,onClick:onToggle,"aria-haspopup":"true","aria-expanded":isOpen,onKeyDown:event=>{isOpen||event.keyCode!==keycodes_build_module.WV||(event.preventDefault(),onToggle())},label:(0,i18n_build_module.__)("Apply duotone filter"),icon:toolbarIcon}),renderContent:()=>(0,react.createElement)(menu_group.Z,{label:(0,i18n_build_module.__)("Duotone")},(0,react.createElement)("div",{className:"block-editor-duotone-control__description"},(0,i18n_build_module.__)("Create a two-tone color effect without losing your original image.")),(0,react.createElement)(duotone_picker.Z,{colorPalette,duotonePalette,disableCustomColors,disableCustomDuotone,value,onChange}))})};function DuotoneStylesheet({selector,id}){const css=`\n${selector} {\n\tfilter: url( #${id} );\n}\n`;return(0,react.createElement)("style",null,css)}function DuotoneUnsetStylesheet({selector}){const css=`\n${selector} {\n\tfilter: none;\n}\n`;return(0,react.createElement)("style",null,css)}function DuotoneFilter({id,colors}){const values=function getValuesFromColors(colors=[]){const values={r:[],g:[],b:[],a:[]};return colors.forEach((color=>{const rgbColor=(0,colord.Vi)(color).toRgb();values.r.push(rgbColor.r/255),values.g.push(rgbColor.g/255),values.b.push(rgbColor.b/255),values.a.push(rgbColor.a)})),values}(colors);return(0,react.createElement)(svg.Wj,{xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 0 0",width:"0",height:"0",focusable:"false",role:"none",style:{visibility:"hidden",position:"absolute",left:"-9999px",overflow:"hidden"}},(0,react.createElement)("defs",null,(0,react.createElement)("filter",{id},(0,react.createElement)("feColorMatrix",{colorInterpolationFilters:"sRGB",type:"matrix",values:" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "}),(0,react.createElement)("feComponentTransfer",{colorInterpolationFilters:"sRGB"},(0,react.createElement)("feFuncR",{type:"table",tableValues:values.r.join(" ")}),(0,react.createElement)("feFuncG",{type:"table",tableValues:values.g.join(" ")}),(0,react.createElement)("feFuncB",{type:"table",tableValues:values.b.join(" ")}),(0,react.createElement)("feFuncA",{type:"table",tableValues:values.a.join(" ")})),(0,react.createElement)("feComposite",{in2:"SourceGraphic",operator:"in"}))))}function PresetDuotoneFilter({preset}){return(0,react.createElement)(DuotoneFilter,{id:`wp-duotone-${preset.slug}`,colors:preset.colors})}function getBlockCSSSelector(blockType,target="root",options={}){if(!target)return null;const{fallback=!1}=options,{name,selectors,supports}=blockType,hasSelectors=selectors&&Object.keys(selectors).length>0,path=Array.isArray(target)?target.join("."):target;let rootSelector=null;if(rootSelector=hasSelectors&&selectors.root?selectors?.root:supports?.__experimentalSelector?supports.__experimentalSelector:".wp-block-"+name.replace("core/","").replace("/","-"),"root"===path)return rootSelector;const pathArray=Array.isArray(target)?target:target.split(".");if(1===pathArray.length){const fallbackSelector=fallback?rootSelector:null;if(hasSelectors){return(0,lodash.get)(selectors,`${path}.root`,null)||(0,lodash.get)(selectors,path,null)||fallbackSelector}const featureSelector=(0,lodash.get)(supports,`${path}.__experimentalSelector`,null);return featureSelector?scopeSelector(rootSelector,featureSelector):fallbackSelector}let subfeatureSelector;return hasSelectors&&(subfeatureSelector=(0,lodash.get)(selectors,path,null)),subfeatureSelector||(fallback?getBlockCSSSelector(blockType,pathArray[0],options):null)}const filters_panel_EMPTY_ARRAY=[];function useMultiOriginColorPresets(settings,{presetSetting,defaultSetting}){const disableDefault=!settings?.color?.[defaultSetting],userPresets=settings?.color?.[presetSetting]?.custom||filters_panel_EMPTY_ARRAY,themePresets=settings?.color?.[presetSetting]?.theme||filters_panel_EMPTY_ARRAY,defaultPresets=settings?.color?.[presetSetting]?.default||filters_panel_EMPTY_ARRAY;return(0,react.useMemo)((()=>[...userPresets,...themePresets,...disableDefault?filters_panel_EMPTY_ARRAY:defaultPresets]),[disableDefault,userPresets,themePresets,defaultPresets])}function useHasFiltersPanel(settings){return useHasDuotoneControl(settings)}function useHasDuotoneControl(settings){return settings.color.customDuotone||settings.color.defaultDuotone}function FiltersToolsPanel({resetAllFilter,onChange,value,panelId,children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Filters"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId},children)}const filters_panel_DEFAULT_CONTROLS={duotone:!0},filters_panel_popoverProps={placement:"left-start",offset:36,shift:!0,className:"block-editor-duotone-control__popover",headerTitle:(0,i18n_build_module.__)("Duotone")},LabeledColorIndicator=({indicator,label})=>(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(z_stack_component.Z,{isLayered:!1,offset:-8},(0,react.createElement)(component.Z,{expanded:!1},"unset"!==indicator&&indicator?(0,react.createElement)(duotone_swatch,{values:indicator}):(0,react.createElement)(color_indicator.Z,{className:"block-editor-duotone-control__unset-indicator"}))),(0,react.createElement)(flex_item_component.Z,{title:label},label));function FiltersPanel({as:Wrapper=FiltersToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=filters_panel_DEFAULT_CONTROLS}){const hasDuotoneEnabled=useHasDuotoneControl(settings),duotonePalette=useMultiOriginColorPresets(settings,{presetSetting:"duotone",defaultSetting:"defaultDuotone"}),colorPalette=useMultiOriginColorPresets(settings,{presetSetting:"palette",defaultSetting:"defaultPalette"}),duotone=(rawValue=inheritedValue?.filter?.duotone,getValueFromVariable({settings},"",rawValue));var rawValue;const setDuotone=newValue=>{const duotonePreset=duotonePalette.find((({colors})=>colors===newValue)),settedValue=duotonePreset?`var:preset|duotone|${duotonePreset.slug}`:newValue;onChange(setImmutably(value,["filter","duotone"],settedValue))},disableCustomColors=!settings?.color?.custom,disableCustomDuotone=!settings?.color?.customDuotone||0===colorPalette?.length&&disableCustomColors,resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,filter:{...previousValue.filter,duotone:void 0}})),[]);return(0,react.createElement)(Wrapper,{resetAllFilter,value,onChange,panelId},hasDuotoneEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Duotone"),hasValue:()=>!!value?.filter?.duotone,onDeselect:()=>setDuotone(void 0),isShownByDefault:defaultControls.duotone,panelId},(0,react.createElement)(dropdown.Z,{popoverProps:filters_panel_popoverProps,className:"block-editor-global-styles-filters-panel__dropdown",renderToggle:({onToggle,isOpen})=>{const toggleProps={onClick:onToggle,className:classnames_default()({"is-open":isOpen}),"aria-expanded":isOpen};return(0,react.createElement)(item_group_component.Z,{isBordered:!0,isSeparated:!0},(0,react.createElement)(build_module_button.ZP,toggleProps,(0,react.createElement)(LabeledColorIndicator,{indicator:duotone,label:(0,i18n_build_module.__)("Duotone")})))},renderContent:()=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"medium"},(0,react.createElement)(v_stack_component.Z,null,(0,react.createElement)("p",null,(0,i18n_build_module.__)("Create a two-tone color effect without losing your original image.")),(0,react.createElement)(duotone_picker.Z,{colorPalette,duotonePalette,disableCustomColors,disableCustomDuotone,value:duotone,onChange:setDuotone})))})))}const duotone_EMPTY_ARRAY=[];function InlineDuotone({selector,id,colors}){return"unset"===colors?(0,react.createElement)(DuotoneUnsetStylesheet,{selector}):(0,react.createElement)(react.Fragment,null,(0,react.createElement)(DuotoneFilter,{id,colors}),(0,react.createElement)(DuotoneStylesheet,{id,selector}))}function useMultiOriginPresets({presetSetting,defaultSetting}){const disableDefault=!use_setting_useSetting(defaultSetting),userPresets=use_setting_useSetting(`${presetSetting}.custom`)||duotone_EMPTY_ARRAY,themePresets=use_setting_useSetting(`${presetSetting}.theme`)||duotone_EMPTY_ARRAY,defaultPresets=use_setting_useSetting(`${presetSetting}.default`)||duotone_EMPTY_ARRAY;return(0,react.useMemo)((()=>[...userPresets,...themePresets,...disableDefault?duotone_EMPTY_ARRAY:defaultPresets]),[disableDefault,userPresets,themePresets,defaultPresets])}function getColorsFromDuotonePreset(duotone,duotonePalette){if(!duotone)return;const preset=duotonePalette?.find((({slug})=>duotone===`var:preset|duotone|${slug}`));return preset?preset.colors:void 0}function DuotonePanel({attributes,setAttributes,name}){const style=attributes?.style,duotoneStyle=style?.color?.duotone,settings=useBlockSettings(name),duotonePalette=useMultiOriginPresets({presetSetting:"color.duotone",defaultSetting:"color.defaultDuotone"}),colorPalette=useMultiOriginPresets({presetSetting:"color.palette",defaultSetting:"color.defaultPalette"}),disableCustomColors=!use_setting_useSetting("color.custom"),disableCustomDuotone=!use_setting_useSetting("color.customDuotone")||0===colorPalette?.length&&disableCustomColors;if(0===duotonePalette?.length&&disableCustomDuotone)return null;const duotonePresetOrColors=Array.isArray(duotoneStyle)?duotoneStyle:getColorsFromDuotonePreset(duotoneStyle,duotonePalette);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inspector_controls,{group:"filter"},(0,react.createElement)(FiltersPanel,{value:{filter:{duotone:duotonePresetOrColors}},onChange:newDuotone=>{const newStyle={...style,color:{...newDuotone?.filter}};setAttributes({style:newStyle})},settings})),(0,react.createElement)(block_controls,{group:"block",__experimentalShareWithChildBlocks:!0},(0,react.createElement)(duotone_control,{duotonePalette,colorPalette,disableCustomDuotone,disableCustomColors,value:duotonePresetOrColors,onChange:newDuotone=>{const maybePreset=function getDuotonePresetFromColors(colors,duotonePalette){if(!colors||!Array.isArray(colors))return;const preset=duotonePalette?.find((duotonePreset=>duotonePreset?.colors?.every(((val,index)=>val===colors[index]))));return preset?`var:preset|duotone|${preset.slug}`:void 0}(newDuotone,duotonePalette),newStyle={...style,color:{...style?.color,duotone:null!=maybePreset?maybePreset:newDuotone}};setAttributes({style:newStyle})},settings})))}(0,colord.l7)([names.Z]);const withDuotoneControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const hasDuotoneSupport=(0,build_module.zb)(props.name,"filter.duotone"),blockEditingMode=useBlockEditingMode();return(0,react.createElement)(react.Fragment,null,hasDuotoneSupport&&"default"===blockEditingMode&&(0,react.createElement)(DuotonePanel,props),(0,react.createElement)(BlockEdit,props))}),"withDuotoneControls");function DuotoneStyles({id:filterId,selector:duotoneSelector,attribute:duotoneAttr}){const element=(0,react.useContext)(BlockList.__unstableElementContext),duotonePalette=useMultiOriginPresets({presetSetting:"color.duotone",defaultSetting:"color.defaultDuotone"}),isCustom=Array.isArray(duotoneAttr),duotonePreset=isCustom?void 0:getColorsFromDuotonePreset(duotoneAttr,duotonePalette),isPreset="string"==typeof duotoneAttr&&duotonePreset;let colors=null;isPreset?colors=duotonePreset:("string"==typeof duotoneAttr&&!isPreset||isCustom)&&(colors=duotoneAttr);const selector=duotoneSelector.split(",").map((selectorPart=>`.editor-styles-wrapper .${filterId}${selectorPart.trim()}`)).join(", "),isValidFilter=Array.isArray(colors)||"unset"===colors;return element&&isValidFilter&&(0,react_dom.createPortal)((0,react.createElement)(InlineDuotone,{selector,id:filterId,colors}),element)}const withDuotoneStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const id=(0,use_instance_id.Z)(BlockListBlock),selector=(0,react.useMemo)((()=>{const blockType=(0,build_module.ck)(props.name);if(blockType){if(!(0,build_module.Dx)(blockType,"filter.duotone",!1))return null;const experimentalDuotone=(0,build_module.Dx)(blockType,"color.__experimentalDuotone",!1);if(experimentalDuotone){const rootSelector=getBlockCSSSelector(blockType);return"string"==typeof experimentalDuotone?scopeSelector(rootSelector,experimentalDuotone):rootSelector}return getBlockCSSSelector(blockType,"filter.duotone",{fallback:!0})}}),[props.name]),attribute=props?.attributes?.style?.color?.duotone,filterClass=`wp-duotone-${id}`,shouldRender=selector&&attribute,className=shouldRender?classnames_default()(props?.className,filterClass):props?.className;return(0,react.createElement)(react.Fragment,null,shouldRender&&(0,react.createElement)(DuotoneStyles,{id:filterClass,selector,attribute}),(0,react.createElement)(BlockListBlock,(0,esm_extends.Z)({},props,{className})))}),"withDuotoneStyles");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/editor/duotone/add-attributes",(function addDuotoneAttributes(settings){return(0,build_module.zb)(settings,"filter.duotone")?(settings.attributes.style||Object.assign(settings.attributes,{style:{type:"object"}}),settings):settings})),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/duotone/with-editor-controls",withDuotoneControls),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/duotone/with-styles",withDuotoneStyles);var button_group=__webpack_require__("./packages/components/build-module/button-group/index.js");function hasLayoutBlockSupport(blockName){return(0,build_module.zb)(blockName,"layout")||(0,build_module.zb)(blockName,"__experimentalLayout")}function useLayoutClasses(blockAttributes={},blockName=""){const rootPaddingAlignment=(0,use_select.Z)((select=>{const{getSettings}=select(store);return getSettings().__experimentalFeatures?.useRootPaddingAwareAlignments}),[]),{layout}=blockAttributes,{default:defaultBlockLayout}=(0,build_module.Dx)(blockName,"layout")||{},usedLayout=layout?.inherit||layout?.contentSize||layout?.wideSize?{...layout,type:"constrained"}:layout||defaultBlockLayout||{},layoutClassnames=[];if(LAYOUT_DEFINITIONS[usedLayout?.type||"default"]?.className){const baseClassName=LAYOUT_DEFINITIONS[usedLayout?.type||"default"]?.className,compoundClassName=`wp-block-${blockName.split("/").pop()}-${baseClassName}`;layoutClassnames.push(baseClassName,compoundClassName)}return(usedLayout?.inherit||usedLayout?.contentSize||"constrained"===usedLayout?.type)&&rootPaddingAlignment&&layoutClassnames.push("has-global-padding"),usedLayout?.orientation&&layoutClassnames.push(`is-${(0,lodash.kebabCase)(usedLayout.orientation)}`),usedLayout?.justifyContent&&layoutClassnames.push(`is-content-justification-${(0,lodash.kebabCase)(usedLayout.justifyContent)}`),usedLayout?.flexWrap&&"nowrap"===usedLayout.flexWrap&&layoutClassnames.push("is-nowrap"),layoutClassnames}function LayoutPanel({setAttributes,attributes,name:blockName}){const{layout}=attributes,defaultThemeLayout=use_setting_useSetting("layout"),{themeSupportsLayout}=(0,use_select.Z)((select=>{const{getSettings}=select(store);return{themeSupportsLayout:getSettings().supportsLayout}}),[]),blockEditingMode=useBlockEditingMode(),layoutBlockSupport=(0,build_module.Dx)(blockName,"layout",{}),{allowSwitching,allowEditing=!0,allowInheriting=!0,default:defaultBlockLayout}=layoutBlockSupport;if(!allowEditing)return null;const showInheritToggle=!(!allowInheriting||!defaultThemeLayout||layout?.type&&"default"!==layout?.type&&"constrained"!==layout?.type&&!layout?.inherit),usedLayout=layout||defaultBlockLayout||{},{inherit=!1,type="default",contentSize=null}=usedLayout;if(("default"===type||"constrained"===type)&&!themeSupportsLayout)return null;const layoutType=getLayoutType(type),constrainedType=getLayoutType("constrained"),displayControlsForLegacyLayouts=!usedLayout.type&&(contentSize||inherit),hasContentSizeOrLegacySettings=!!inherit||!!contentSize,onChangeLayout=newLayout=>setAttributes({layout:newLayout});return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inspector_controls,null,(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Layout")},showInheritToggle&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-hooks__toggle-control",label:(0,i18n_build_module.__)("Inner blocks use content width"),checked:"constrained"===layoutType?.name||hasContentSizeOrLegacySettings,onChange:()=>setAttributes({layout:{type:"constrained"===layoutType?.name||hasContentSizeOrLegacySettings?"default":"constrained"}}),help:"constrained"===layoutType?.name||hasContentSizeOrLegacySettings?(0,i18n_build_module.__)("Nested blocks use content width with options for full and wide widths."):(0,i18n_build_module.__)("Nested blocks will fill the width of this container. Toggle to constrain.")})),!inherit&&allowSwitching&&(0,react.createElement)(LayoutTypeSwitcher,{type,onChange:newType=>setAttributes({layout:{type:newType}})}),layoutType&&"default"!==layoutType.name&&(0,react.createElement)(layoutType.inspectorControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport}),constrainedType&&displayControlsForLegacyLayouts&&(0,react.createElement)(constrainedType.inspectorControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport}))),!inherit&&"default"===blockEditingMode&&layoutType&&(0,react.createElement)(layoutType.toolBarControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport}))}function LayoutTypeSwitcher({type,onChange}){return(0,react.createElement)(button_group.Z,null,function getLayoutTypes(){return layoutTypes}().map((({name,label})=>(0,react.createElement)(build_module_button.ZP,{key:name,isPressed:type===name,onClick:()=>onChange(name)},label))))}const layout_withInspectorControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const{name:blockName}=props,supportLayout=hasLayoutBlockSupport(blockName),blockEditingMode=useBlockEditingMode();return[supportLayout&&"default"===blockEditingMode&&(0,react.createElement)(LayoutPanel,(0,esm_extends.Z)({key:"layout"},props)),(0,react.createElement)(BlockEdit,(0,esm_extends.Z)({key:"edit"},props))]}),"withInspectorControls"),withLayoutStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const{name,attributes}=props,blockSupportsLayout=hasLayoutBlockSupport(name),disableLayoutStyles=(0,use_select.Z)((select=>{const{getSettings}=select(store);return!!getSettings().disableLayoutStyles})),shouldRenderLayoutStyles=blockSupportsLayout&&!disableLayoutStyles,id=(0,use_instance_id.Z)(BlockListBlock),element=(0,react.useContext)(BlockList.__unstableElementContext),{layout}=attributes,{default:defaultBlockLayout}=(0,build_module.Dx)(name,"layout")||{},usedLayout=layout?.inherit||layout?.contentSize||layout?.wideSize?{...layout,type:"constrained"}:layout||defaultBlockLayout||{},layoutClasses=blockSupportsLayout?useLayoutClasses(attributes,name):null,selector=`.wp-container-${id}.wp-container-${id}`,hasBlockGapSupport=null!==use_setting_useSetting("spacing.blockGap");let css;if(shouldRenderLayoutStyles){const fullLayoutType=getLayoutType(usedLayout?.type||"default");css=fullLayoutType?.getLayoutStyle?.({blockName:name,selector,layout:usedLayout,style:attributes?.style,hasBlockGapSupport})}const layoutClassNames=classnames_default()({[`wp-container-${id}`]:shouldRenderLayoutStyles&&!!css},layoutClasses);return(0,react.createElement)(react.Fragment,null,shouldRenderLayoutStyles&&element&&!!css&&(0,react_dom.createPortal)((0,react.createElement)(LayoutStyle,{blockName:name,selector,css,layout:usedLayout,style:attributes?.style}),element),(0,react.createElement)(BlockListBlock,(0,esm_extends.Z)({},props,{__unstableLayoutClassNames:layoutClassNames})))}),"withLayoutStyles"),withChildLayoutStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const{attributes}=props,{style:{layout={}}={}}=attributes,{selfStretch,flexSize}=layout,hasChildLayout=selfStretch||flexSize,disableLayoutStyles=(0,use_select.Z)((select=>{const{getSettings}=select(store);return!!getSettings().disableLayoutStyles})),shouldRenderChildLayoutStyles=hasChildLayout&&!disableLayoutStyles,element=(0,react.useContext)(BlockList.__unstableElementContext),id=(0,use_instance_id.Z)(BlockListBlock),selector=`.wp-container-content-${id}`;let css="";"fixed"===selfStretch&&flexSize?css+=`${selector} {\n\t\t\t\tflex-basis: ${flexSize};\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}`:"fill"===selfStretch&&(css+=`${selector} {\n\t\t\t\tflex-grow: 1;\n\t\t\t}`);const className=classnames_default()(props?.className,{[`wp-container-content-${id}`]:shouldRenderChildLayoutStyles&&!!css});return(0,react.createElement)(react.Fragment,null,shouldRenderChildLayoutStyles&&element&&!!css&&(0,react_dom.createPortal)((0,react.createElement)("style",null,css),element),(0,react.createElement)(BlockListBlock,(0,esm_extends.Z)({},props,{className})))}),"withChildLayoutStyles");function StopEditingAsBlocksOnOutsideSelect({clientId,stopEditingAsBlock}){const isBlockOrDescendantSelected=(0,use_select.Z)((select=>{const{isBlockSelected,hasSelectedInnerBlock}=select(store);return isBlockSelected(clientId)||hasSelectedInnerBlock(clientId,!0)}),[clientId]);return(0,react.useEffect)((()=>{isBlockOrDescendantSelected||stopEditingAsBlock()}),[isBlockOrDescendantSelected,stopEditingAsBlock]),null}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/layout/addAttribute",(function layout_addAttribute(settings){var _settings$attributes$;return"type"in(null!==(_settings$attributes$=settings.attributes?.layout)&&void 0!==_settings$attributes$?_settings$attributes$:{})||hasLayoutBlockSupport(settings)&&(settings.attributes={...settings.attributes,layout:{type:"object"}}),settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/layout/with-layout-styles",withLayoutStyles),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/layout/with-child-layout-styles",withChildLayoutStyles),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/layout/with-inspector-controls",layout_withInspectorControls);const content_lock_ui_withBlockControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const{getBlockListSettings,getSettings}=(0,use_select.Z)(store),focusModeToRevert=(0,react.useRef)(),{templateLock,isLockedByParent,isEditingAsBlocks}=(0,use_select.Z)((select=>{const{__unstableGetContentLockingParent,getTemplateLock,__unstableGetTemporarilyEditingAsBlocks}=select(store);return{templateLock:getTemplateLock(props.clientId),isLockedByParent:!!__unstableGetContentLockingParent(props.clientId),isEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks()===props.clientId}}),[props.clientId]),{updateSettings,updateBlockListSettings,__unstableSetTemporarilyEditingAsBlocks}=(0,use_dispatch.Z)(store),isContentLocked=!isLockedByParent&&"contentOnly"===templateLock,{__unstableMarkNextChangeAsNotPersistent,updateBlockAttributes}=(0,use_dispatch.Z)(store),stopEditingAsBlock=(0,react.useCallback)((()=>{__unstableMarkNextChangeAsNotPersistent(),updateBlockAttributes(props.clientId,{templateLock:"contentOnly"}),updateBlockListSettings(props.clientId,{...getBlockListSettings(props.clientId),templateLock:"contentOnly"}),updateSettings({focusMode:focusModeToRevert.current}),__unstableSetTemporarilyEditingAsBlocks()}),[props.clientId,updateSettings,updateBlockListSettings,getBlockListSettings,__unstableMarkNextChangeAsNotPersistent,updateBlockAttributes,__unstableSetTemporarilyEditingAsBlocks]);if(!isContentLocked&&!isEditingAsBlocks)return(0,react.createElement)(BlockEdit,(0,esm_extends.Z)({key:"edit"},props));const showStopEditingAsBlocks=isEditingAsBlocks&&!isContentLocked,showStartEditingAsBlocks=!isEditingAsBlocks&&isContentLocked&&props.isSelected;return(0,react.createElement)(react.Fragment,null,showStopEditingAsBlocks&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(StopEditingAsBlocksOnOutsideSelect,{clientId:props.clientId,stopEditingAsBlock}),(0,react.createElement)(block_controls,{group:"other"},(0,react.createElement)(toolbar_button.Z,{onClick:()=>{stopEditingAsBlock()}},(0,i18n_build_module.__)("Done")))),showStartEditingAsBlocks&&(0,react.createElement)(block_settings_menu_controls,null,(({onClose})=>(0,react.createElement)(menu_item.Z,{onClick:()=>{__unstableMarkNextChangeAsNotPersistent(),updateBlockAttributes(props.clientId,{templateLock:void 0}),updateBlockListSettings(props.clientId,{...getBlockListSettings(props.clientId),templateLock:!1}),focusModeToRevert.current=getSettings().focusMode,updateSettings({focusMode:!0}),__unstableSetTemporarilyEditingAsBlocks(props.clientId),onClose()}},(0,i18n_build_module.__)("Modify")))),(0,react.createElement)(BlockEdit,(0,esm_extends.Z)({key:"edit"},props)))}),"withToolbarControls");(0,hooks_build_module.KJ)("editor.BlockEdit","core/content-lock-ui/with-block-controls",content_lock_ui_withBlockControls);function hasBlockMetadataSupport(blockType,feature=""){if(!blockType.name.startsWith("core/"))return!1;const support=(0,build_module.Dx)(blockType,"__experimentalMetadata");return!(!0!==support&&!support?.[feature])}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/metadata/addMetaAttribute",(function addMetaAttribute(blockTypeSettings){return blockTypeSettings?.attributes?.metadata?.type||hasBlockMetadataSupport(blockTypeSettings,"name")&&(blockTypeSettings.attributes={...blockTypeSettings.attributes,metadata:{type:"object"}}),blockTypeSettings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/metadata/save-props",(function metadata_addSaveProps(extraProps,blockType,attributes){return hasBlockMetadataSupport(blockType)&&(extraProps.metadata=attributes.metadata),extraProps})),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/metadata/addLabelCallback",(function addLabelCallback(settings){return settings.__experimentalLabel||hasBlockMetadataSupport(settings,"name")&&(settings.__experimentalLabel=(attributes,{context})=>{const{metadata}=attributes;if("list-view"===context&&metadata?.name)return metadata.name}),settings}));var cjs=__webpack_require__("./packages/block-editor/node_modules/deepmerge/dist/cjs.js"),cjs_default=__webpack_require__.n(cjs);function BehaviorsControl({blockName,blockBehaviors,onChange,disabled=!1}){const{settings,themeBehaviors}=(0,use_select.Z)((select=>{const{getBehaviors,getSettings}=select(store);return{settings:getSettings()?.__experimentalFeatures?.blocks?.[blockName]?.behaviors,themeBehaviors:getBehaviors()?.blocks?.[blockName]}}),[blockName]),noBehaviorsOption={value:"",label:(0,i18n_build_module.__)("No behaviors")},behaviorsOptions=Object.entries(settings).filter((([behaviorName,behaviorValue])=>(0,build_module.zb)(blockName,"behaviors."+behaviorName)&&behaviorValue)).map((([behaviorName])=>({value:behaviorName,label:behaviorName[0].toUpperCase()+behaviorName.slice(1).toLowerCase()})));if(0===behaviorsOptions.length)return null;const options=[noBehaviorsOption,...behaviorsOptions],behaviors=cjs_default()(themeBehaviors,blockBehaviors||{}),helpText=disabled?(0,i18n_build_module.__)("The lightbox behavior is disabled for linked images."):(0,i18n_build_module.__)("Add behaviors.");return(0,react.createElement)(inspector_controls,{group:"advanced"},(0,react.createElement)("div",null,(0,react.createElement)(select_control.Z,{label:(0,i18n_build_module.__)("Behaviors"),value:behaviors?.lightbox?"lightbox":"",options,onChange,hideCancelButton:!0,help:helpText,size:"__unstable-large",disabled})),(0,react.createElement)(h_stack_component.Z,{justify:"flex-end"},(0,react.createElement)(build_module_button.ZP,{isSmall:!0,disabled,onClick:()=>onChange(void 0)},(0,i18n_build_module.__)("Reset"))))}const withBehaviors=(0,create_higher_order_component.o)((BlockEdit=>props=>{const blockEdit=(0,react.createElement)(BlockEdit,(0,esm_extends.Z)({key:"edit"},props));if(!(0,build_module.zb)(props.name,"behaviors"))return blockEdit;const blockHasLink=void 0!==props.attributes?.linkDestination&&"none"!==props.attributes?.linkDestination;return(0,react.createElement)(react.Fragment,null,blockEdit,(0,react.createElement)(BehaviorsControl,{blockName:props.name,blockBehaviors:props.attributes.behaviors,onChange:nextValue=>{void 0===nextValue?props.setAttributes({behaviors:void 0}):props.setAttributes({behaviors:{lightbox:"lightbox"===nextValue}})},disabled:blockHasLink}))}),"withBehaviors");function getBorderClassesAndStyles(attributes){const border=attributes.style?.border||{};return{className:getBorderClasses(attributes)||void 0,style:getInlineStyles({border})}}function useBorderProps(attributes){const{colors}=useMultipleOriginColorsAndGradients(),borderProps=getBorderClassesAndStyles(attributes),{borderColor}=attributes;if(borderColor){const borderColorObject=getMultiOriginColor({colors,namedColor:borderColor});borderProps.style.borderColor=borderColorObject.color}return borderProps}function getColorClassesAndStyles(attributes){const{backgroundColor,textColor,gradient,style}=attributes,backgroundClass=getColorClassName("background-color",backgroundColor),textClass=getColorClassName("color",textColor),gradientClass=__experimentalGetGradientClass(gradient),hasGradient=gradientClass||style?.color?.gradient;return{className:classnames_default()(textClass,gradientClass,{[backgroundClass]:!hasGradient&&!!backgroundClass,"has-text-color":textColor||style?.color?.text,"has-background":backgroundColor||style?.color?.background||gradient||style?.color?.gradient,"has-link-color":style?.elements?.link?.color})||void 0,style:getInlineStyles({color:style?.color||{}})}}window?.__experimentalInteractivityAPI&&(0,hooks_build_module.KJ)("editor.BlockEdit","core/behaviors/with-inspector-control",withBehaviors);const use_color_props_EMPTY_OBJECT={};function useColorProps(attributes){const{backgroundColor,textColor,gradient}=attributes,userPalette=use_setting_useSetting("color.palette.custom"),themePalette=use_setting_useSetting("color.palette.theme"),defaultPalette=use_setting_useSetting("color.palette.default"),gradientsPerOrigin=use_setting_useSetting("color.gradients")||use_color_props_EMPTY_OBJECT,colors=(0,react.useMemo)((()=>[...userPalette||[],...themePalette||[],...defaultPalette||[]]),[userPalette,themePalette,defaultPalette]),gradients=(0,react.useMemo)((()=>[...gradientsPerOrigin?.custom||[],...gradientsPerOrigin?.theme||[],...gradientsPerOrigin?.default||[]]),[gradientsPerOrigin]),colorProps=getColorClassesAndStyles(attributes);if(backgroundColor){const backgroundColorObject=getColorObjectByAttributeValues(colors,backgroundColor);colorProps.style.backgroundColor=backgroundColorObject.color}if(gradient&&(colorProps.style.background=getGradientValueBySlug(gradients,gradient)),textColor){const textColorObject=getColorObjectByAttributeValues(colors,textColor);colorProps.style.color=textColorObject.color}return colorProps}function getSpacingClassesAndStyles(attributes){const{style}=attributes;return{style:getInlineStyles({spacing:style?.spacing||{}})}}function getTypographyClassesAndStyles(attributes,settings){let typographyStyles=attributes?.style?.typography||{};const fluidTypographySettings=getFluidTypographyOptionsFromSettings(settings);typographyStyles={...typographyStyles,fontSize:getTypographyFontSizeValue({size:attributes?.style?.typography?.fontSize},fluidTypographySettings)};const style=getInlineStyles({typography:typographyStyles}),fontFamilyClassName=attributes?.fontFamily?`has-${(0,lodash.kebabCase)(attributes.fontFamily)}-font-family`:"";return{className:classnames_default()(fontFamilyClassName,getFontSizeClass(attributes?.fontSize)),style}}function useCachedTruthy(value){const[cachedValue,setCachedValue]=(0,react.useState)(value);return(0,react.useEffect)((()=>{value&&setCachedValue(value)}),[value]),cachedValue}const upperFirst=([firstLetter,...rest])=>firstLetter.toUpperCase()+rest.join(""),withEditorColorPalette=()=>(0,create_higher_order_component.o)((WrappedComponent=>props=>{const userPalette=use_setting_useSetting("color.palette.custom"),themePalette=use_setting_useSetting("color.palette.theme"),defaultPalette=use_setting_useSetting("color.palette.default"),allColors=(0,react.useMemo)((()=>[...userPalette||[],...themePalette||[],...defaultPalette||[]]),[userPalette,themePalette,defaultPalette]);return(0,react.createElement)(WrappedComponent,(0,esm_extends.Z)({},props,{colors:allColors}))}),"withEditorColorPalette");function createColorHOC(colorTypes,withColorPalette){const colorMap=colorTypes.reduce(((colorObject,colorType)=>({...colorObject,..."string"==typeof colorType?{[colorType]:(0,lodash.kebabCase)(colorType)}:colorType})),{});return(0,compose.Z)([withColorPalette,WrappedComponent=>class extends react.Component{constructor(props){super(props),this.setters=this.createSetters(),this.colorUtils={getMostReadableColor:this.getMostReadableColor.bind(this)},this.state={}}getMostReadableColor(colorValue){const{colors}=this.props;return function getMostReadableColor(colors,colorValue){const colordColor=(0,colord.Vi)(colorValue),getColorContrast=({color})=>colordColor.contrast(color),maxContrast=Math.max(...colors.map(getColorContrast));return colors.find((color=>getColorContrast(color)===maxContrast)).color}(colors,colorValue)}createSetters(){return Object.keys(colorMap).reduce(((settersAccumulator,colorAttributeName)=>{const upperFirstColorAttributeName=upperFirst(colorAttributeName),customColorAttributeName=`custom${upperFirstColorAttributeName}`;return settersAccumulator[`set${upperFirstColorAttributeName}`]=this.createSetColor(colorAttributeName,customColorAttributeName),settersAccumulator}),{})}createSetColor(colorAttributeName,customColorAttributeName){return colorValue=>{const colorObject=getColorObjectByColorValue(this.props.colors,colorValue);this.props.setAttributes({[colorAttributeName]:colorObject&&colorObject.slug?colorObject.slug:void 0,[customColorAttributeName]:colorObject&&colorObject.slug?void 0:colorValue})}}static getDerivedStateFromProps({attributes,colors},previousState){return Object.entries(colorMap).reduce(((newState,[colorAttributeName,colorContext])=>{const colorObject=getColorObjectByAttributeValues(colors,attributes[colorAttributeName],attributes[`custom${upperFirst(colorAttributeName)}`]),previousColorObject=previousState[colorAttributeName],previousColor=previousColorObject?.color;return previousColor===colorObject.color&&previousColorObject?newState[colorAttributeName]=previousColorObject:newState[colorAttributeName]={...colorObject,class:getColorClassName(colorContext,colorObject.slug)},newState}),{})}render(){return(0,react.createElement)(WrappedComponent,(0,esm_extends.Z)({},this.props,{colors:void 0},this.state,this.setters,{colorUtils:this.colorUtils}))}}])}function withColors(...colorTypes){const withColorPalette=withEditorColorPalette();return(0,create_higher_order_component.o)(createColorHOC(colorTypes,withColorPalette),"withColors")}var align_left=__webpack_require__("./packages/icons/build-module/library/align-left.js"),align_center=__webpack_require__("./packages/icons/build-module/library/align-center.js"),align_right=__webpack_require__("./packages/icons/build-module/library/align-right.js");const DEFAULT_ALIGNMENT_CONTROLS=[{icon:align_left.Z,title:(0,i18n_build_module.__)("Align text left"),align:"left"},{icon:align_center.Z,title:(0,i18n_build_module.__)("Align text center"),align:"center"},{icon:align_right.Z,title:(0,i18n_build_module.__)("Align text right"),align:"right"}],ui_POPOVER_PROPS={placement:"bottom-start"};const alignment_control_ui=function AlignmentUI({value,onChange,alignmentControls=DEFAULT_ALIGNMENT_CONTROLS,label=(0,i18n_build_module.__)("Align text"),describedBy=(0,i18n_build_module.__)("Change text alignment"),isCollapsed=!0,isToolbar}){function applyOrUnset(align){return()=>onChange(value===align?void 0:align)}const activeAlignment=alignmentControls.find((control=>control.align===value)),UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,extraProps=isToolbar?{isCollapsed}:{toggleProps:{describedBy},popoverProps:ui_POPOVER_PROPS};return(0,react.createElement)(UIComponent,(0,esm_extends.Z)({icon:function setIcon(){return activeAlignment?activeAlignment.icon:(0,i18n_build_module.dZ)()?align_right.Z:align_left.Z}(),label,controls:alignmentControls.map((control=>{const{align}=control,isActive=value===align;return{...control,isActive,role:isCollapsed?"menuitemradio":void 0,onClick:applyOrUnset(align)}}))},extraProps))},AlignmentControl=props=>(0,react.createElement)(alignment_control_ui,(0,esm_extends.Z)({},props,{isToolbar:!1})),AlignmentToolbar=props=>(0,react.createElement)(alignment_control_ui,(0,esm_extends.Z)({},props,{isToolbar:!0})),library_fullscreen=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M4.2 9h1.5V5.8H9V4.2H4.2V9zm14 9.2H15v1.5h4.8V15h-1.5v3.2zM15 4.2v1.5h3.2V9h1.5V4.2H15zM5.8 15H4.2v4.8H9v-1.5H5.8V15z"}));const block_full_height_alignment_control=function BlockFullHeightAlignmentControl({isActive,label=(0,i18n_build_module.__)("Toggle full height"),onToggle,isDisabled}){return(0,react.createElement)(toolbar_button.Z,{isActive,icon:library_fullscreen,label,onClick:()=>onToggle(!isActive),disabled:isDisabled})},GRID=[["top left","top center","top right"],["center left","center center","center right"],["bottom left","bottom center","bottom right"]],ALIGNMENT_LABEL={"top left":(0,i18n_build_module.__)("Top Left"),"top center":(0,i18n_build_module.__)("Top Center"),"top right":(0,i18n_build_module.__)("Top Right"),"center left":(0,i18n_build_module.__)("Center Left"),"center center":(0,i18n_build_module.__)("Center"),center:(0,i18n_build_module.__)("Center"),"center right":(0,i18n_build_module.__)("Center Right"),"bottom left":(0,i18n_build_module.__)("Bottom Left"),"bottom center":(0,i18n_build_module.__)("Bottom Center"),"bottom right":(0,i18n_build_module.__)("Bottom Right")},ALIGNMENTS=GRID.flat();function transformValue(value){return("center"===value?"center center":value).replace("-"," ")}function getItemId(prefixId,value){return`${prefixId}-${transformValue(value).replace(" ","-")}`}var reduce_motion=__webpack_require__("./packages/components/build-module/utils/reduce-motion.js");var alignment_matrix_control_styles_ref={name:"93uojk",styles:"border-radius:2px;box-sizing:border-box;direction:ltr;display:grid;grid-template-columns:repeat( 3, 1fr );outline:none"};const rootBase=()=>alignment_matrix_control_styles_ref,alignment_matrix_control_styles_Root=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ecapk1j3"})(rootBase,";border:1px solid transparent;cursor:pointer;grid-template-columns:auto;",(({size=92})=>(0,emotion_react_browser_esm.iv)("grid-template-rows:repeat( 3, calc( ",size,"px / 3 ) );width:",size,"px;","","","")),";"),Row=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ecapk1j2"})({name:"1x5gbbj",styles:"box-sizing:border-box;display:grid;grid-template-columns:repeat( 3, 1fr )"}),pointBase=props=>(0,emotion_react_browser_esm.iv)("background:currentColor;box-sizing:border-box;display:grid;margin:auto;transition:all 120ms linear;",(0,reduce_motion.r)("transition")," ",(({isActive})=>{const boxShadow=isActive?`0 0 0 2px ${colors_values.D.gray[900]}`:null,pointColor=isActive?colors_values.D.gray[900]:colors_values.D.gray[400],pointColorHover=isActive?colors_values.D.gray[900]:colors_values.D.ui.theme;return(0,emotion_react_browser_esm.iv)("box-shadow:",boxShadow,";color:",pointColor,";*:hover>&{color:",pointColorHover,";}","","","")})(props),";","","",""),Point=(0,emotion_styled_base_browser_esm.Z)("span",{target:"ecapk1j1"})("height:6px;width:6px;",pointBase,";"),Cell=(0,emotion_styled_base_browser_esm.Z)("span",{target:"ecapk1j0"})({name:"rjf3ub",styles:"appearance:none;border:none;box-sizing:border-box;margin:0;display:flex;position:relative;outline:none;align-items:center;justify-content:center;padding:0"});function cell_Cell({isActive=!1,value,...props}){const tooltipText=ALIGNMENT_LABEL[value];return(0,react.createElement)(tooltip.Z,{text:tooltipText},(0,react.createElement)(CompositeItem.A,(0,esm_extends.Z)({as:Cell,role:"gridcell"},props),(0,react.createElement)(visually_hidden_component.Z,null,value),(0,react.createElement)(Point,{isActive,role:"presentation"})))}(0,emotion_styled_base_browser_esm.Z)("div",{target:"erowt52"})({name:"ogl07i",styles:"box-sizing:border-box;padding:2px"});const alignment_matrix_control_icon_styles_Root=(0,emotion_styled_base_browser_esm.Z)("div",{target:"erowt51"})("transform-origin:top left;height:100%;width:100%;",rootBase,";",(()=>(0,emotion_react_browser_esm.iv)({gridTemplateRows:"repeat( 3, calc( 21px / 3))",padding:1.5,maxHeight:24,maxWidth:24},"","","","")),";",(({disablePointerEvents})=>(0,emotion_react_browser_esm.iv)({pointerEvents:disablePointerEvents?"none":void 0},"","","","")),";"),alignment_matrix_control_icon_styles_Point=(0,emotion_styled_base_browser_esm.Z)("span",{target:"erowt50"})("height:2px;width:2px;",pointBase,";",(({isActive})=>{const boxShadow=isActive?"0 0 0 1px currentColor":null;return(0,emotion_react_browser_esm.iv)("box-shadow:",boxShadow,";color:currentColor;*:hover>&{color:currentColor;}","","","")}),";"),alignment_matrix_control_icon_styles_Cell=Cell;const icon=function AlignmentMatrixControlIcon({className,disablePointerEvents=!0,size=24,style={},value="center",...props}){const alignIndex=function getAlignmentIndex(alignment="center"){const item=transformValue(alignment),index=ALIGNMENTS.indexOf(item);return index>-1?index:void 0}(value),scale=(size/24).toFixed(2),classes=classnames_default()("component-alignment-matrix-control-icon",className),styles={...style,transform:`scale(${scale})`};return(0,react.createElement)(alignment_matrix_control_icon_styles_Root,(0,esm_extends.Z)({},props,{className:classes,disablePointerEvents,role:"presentation",style:styles}),ALIGNMENTS.map(((align,index)=>{const isActive=alignIndex===index;return(0,react.createElement)(alignment_matrix_control_icon_styles_Cell,{key:align},(0,react.createElement)(alignment_matrix_control_icon_styles_Point,{isActive}))})))},alignment_matrix_control_noop=()=>{};function AlignmentMatrixControl({className,id,label=(0,i18n_build_module.__)("Alignment Matrix Control"),defaultValue="center center",value,onChange=alignment_matrix_control_noop,width=92,...props}){const[immutableDefaultValue]=(0,react.useState)(null!=value?value:defaultValue),baseId=function useBaseId(id){const instanceId=(0,use_instance_id.Z)(AlignmentMatrixControl,"alignment-matrix-control");return id||instanceId}(id),initialCurrentId=getItemId(baseId,immutableDefaultValue),composite=(0,CompositeState.u)({baseId,currentId:initialCurrentId,rtl:(0,i18n_build_module.dZ)()}),{setCurrentId}=composite;(0,react.useEffect)((()=>{void 0!==value&&setCurrentId(getItemId(baseId,value))}),[value,setCurrentId,baseId]);const classes=classnames_default()("component-alignment-matrix-control",className);return(0,react.createElement)(Composite.b,(0,esm_extends.Z)({},props,composite,{"aria-label":label,as:alignment_matrix_control_styles_Root,className:classes,role:"grid",size:width}),GRID.map(((cells,index)=>(0,react.createElement)(CompositeGroup.E,(0,esm_extends.Z)({},composite,{as:Row,role:"row",key:index}),cells.map((cell=>{const cellId=getItemId(baseId,cell),isActive=composite.currentId===cellId;return(0,react.createElement)(cell_Cell,(0,esm_extends.Z)({},composite,{id:cellId,isActive,key:cell,value:cell,onFocus:()=>{onChange(cell)},tabIndex:isActive?0:-1}))}))))))}AlignmentMatrixControl.Icon=icon;const alignment_matrix_control=AlignmentMatrixControl,block_alignment_matrix_control_noop=()=>{};const block_alignment_matrix_control=function BlockAlignmentMatrixControl(props){const{label=(0,i18n_build_module.__)("Change matrix alignment"),onChange=block_alignment_matrix_control_noop,value="center",isDisabled}=props,icon=(0,react.createElement)(alignment_matrix_control.Icon,{value});return(0,react.createElement)(dropdown.Z,{popoverProps:{placement:"bottom-start"},renderToggle:({onToggle,isOpen})=>(0,react.createElement)(toolbar_button.Z,{onClick:onToggle,"aria-haspopup":"true","aria-expanded":isOpen,onKeyDown:event=>{isOpen||event.keyCode!==keycodes_build_module.WV||(event.preventDefault(),onToggle())},label,icon,showTooltip:!0,disabled:isDisabled}),renderContent:()=>(0,react.createElement)(alignment_matrix_control,{hasFocusBorder:!1,onChange,value})})};var build_module_placeholder=__webpack_require__("./packages/components/build-module/placeholder/index.js"),layout=__webpack_require__("./packages/icons/build-module/library/layout.js");const block_variation_picker=function BlockVariationPicker({icon=layout.Z,label=(0,i18n_build_module.__)("Choose variation"),instructions=(0,i18n_build_module.__)("Select a variation to start with."),variations,onSelect,allowSkip}){const classes=classnames_default()("block-editor-block-variation-picker",{"has-many-variations":variations.length>4});return(0,react.createElement)(build_module_placeholder.Z,{icon,label,instructions,className:classes},(0,react.createElement)("ul",{className:"block-editor-block-variation-picker__variations",role:"list","aria-label":(0,i18n_build_module.__)("Block variations")},variations.map((variation=>(0,react.createElement)("li",{key:variation.name},(0,react.createElement)(build_module_button.ZP,{variant:"secondary",icon:variation.icon&&variation.icon.src?variation.icon.src:variation.icon,iconSize:48,onClick:()=>onSelect(variation),className:"block-editor-block-variation-picker__variation",label:variation.description||variation.title}),(0,react.createElement)("span",{className:"block-editor-block-variation-picker__variation-label"},variation.title))))),allowSkip&&(0,react.createElement)("div",{className:"block-editor-block-variation-picker__skip"},(0,react.createElement)(build_module_button.ZP,{variant:"link",onClick:()=>onSelect()},(0,i18n_build_module.__)("Skip"))))},components_color_palette=(0,create_higher_order_component.o)((WrappedComponent=>props=>{const colorsFeature=use_setting_useSetting("color.palette"),disableCustomColorsFeature=!use_setting_useSetting("color.custom"),colors=void 0===props.colors?colorsFeature:props.colors,disableCustomColors=void 0===props.disableCustomColors?disableCustomColorsFeature:props.disableCustomColors,hasColorsToChoose=colors&&colors.length>0||!disableCustomColors;return(0,react.createElement)(WrappedComponent,(0,esm_extends.Z)({},props,{colors,disableCustomColors,hasColorsToChoose}))}),"withColorContext")(color_palette.ZP);var date_build_module=__webpack_require__("./packages/date/build-module/index.js");const EXAMPLE_DATE=new Date(2022,0,25);function DateFormatPicker({format,defaultFormat,onChange}){return(0,react.createElement)("fieldset",{className:"block-editor-date-format-picker"},(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},(0,i18n_build_module.__)("Date format")),(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Default format"),help:`${(0,i18n_build_module.__)("Example:")}  ${(0,date_build_module.K_)(defaultFormat,EXAMPLE_DATE)}`,checked:!format,onChange:checked=>onChange(checked?null:defaultFormat)}),format&&(0,react.createElement)(NonDefaultControls,{format,onChange}))}function NonDefaultControls({format,onChange}){var _suggestedOptions$fin;const suggestedFormats=[...new Set(["Y-m-d",(0,i18n_build_module._x)("n/j/Y","short date format"),(0,i18n_build_module._x)("n/j/Y g:i A","short date format with time"),(0,i18n_build_module._x)("M j, Y","medium date format"),(0,i18n_build_module._x)("M j, Y g:i A","medium date format with time"),(0,i18n_build_module._x)("F j, Y","long date format"),(0,i18n_build_module._x)("M j","short date format without the year")])],suggestedOptions=suggestedFormats.map(((suggestedFormat,index)=>({key:`suggested-${index}`,name:(0,date_build_module.K_)(suggestedFormat,EXAMPLE_DATE),format:suggestedFormat}))),customOption={key:"custom",name:(0,i18n_build_module.__)("Custom"),className:"block-editor-date-format-picker__custom-format-select-control__custom-option",__experimentalHint:(0,i18n_build_module.__)("Enter your own date format")},[isCustom,setIsCustom]=(0,react.useState)((()=>!!format&&!suggestedFormats.includes(format)));return(0,react.createElement)(v_stack_component.Z,null,(0,react.createElement)(custom_select_control.q,{__nextUnconstrainedWidth:!0,label:(0,i18n_build_module.__)("Choose a format"),options:[...suggestedOptions,customOption],value:isCustom?customOption:null!==(_suggestedOptions$fin=suggestedOptions.find((option=>option.format===format)))&&void 0!==_suggestedOptions$fin?_suggestedOptions$fin:customOption,onChange:({selectedItem})=>{selectedItem===customOption?setIsCustom(!0):(setIsCustom(!1),onChange(selectedItem.format))}}),isCustom&&(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Custom format"),hideLabelFromVision:!0,help:(0,create_interpolate_element.Z)((0,i18n_build_module.__)("Enter a date or time <Link>format string</Link>."),{Link:(0,react.createElement)(external_link.Z,{href:(0,i18n_build_module.__)("https://wordpress.org/documentation/article/customize-date-and-time-format/")})}),value:format,onChange:value=>onChange(value)}))}const WithToolsPanelItem=({setting,children,panelId,...props})=>(0,react.createElement)(tools_panel_item_component.Z,(0,esm_extends.Z)({hasValue:()=>!!setting.colorValue||!!setting.gradientValue,label:setting.label,onDeselect:()=>{setting.colorValue?setting.onColorChange():setting.gradientValue&&setting.onGradientChange()},isShownByDefault:void 0===setting.isShownByDefault||setting.isShownByDefault},props,{className:"block-editor-tools-panel-color-gradient-settings__item",panelId,resetAllFilter:setting.resetAllFilter}),children),dropdown_LabeledColorIndicator=({colorValue,label})=>(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(color_indicator.Z,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue}),(0,react.createElement)(flex_item_component.Z,{className:"block-editor-panel-color-gradient-settings__color-name",title:label},label)),renderToggle=settings=>({onToggle,isOpen})=>{const{colorValue,label}=settings,toggleProps={onClick:onToggle,className:classnames_default()("block-editor-panel-color-gradient-settings__dropdown",{"is-open":isOpen}),"aria-expanded":isOpen};return(0,react.createElement)(build_module_button.ZP,toggleProps,(0,react.createElement)(dropdown_LabeledColorIndicator,{colorValue,label}))};function ColorGradientSettingsDropdown({colors,disableCustomColors,disableCustomGradients,enableAlpha,gradients,settings,__experimentalIsRenderedInSidebar,...props}){let popoverProps;return __experimentalIsRenderedInSidebar&&(popoverProps={placement:"left-start",offset:36,shift:!0}),(0,react.createElement)(react.Fragment,null,settings.map(((setting,index)=>{var _setting$gradientValu;const controlProps={clearable:!1,colorValue:setting.colorValue,colors,disableCustomColors,disableCustomGradients,enableAlpha,gradientValue:setting.gradientValue,gradients,label:setting.label,onColorChange:setting.onColorChange,onGradientChange:setting.onGradientChange,showTitle:!1,__experimentalIsRenderedInSidebar,...setting},toggleSettings={colorValue:null!==(_setting$gradientValu=setting.gradientValue)&&void 0!==_setting$gradientValu?_setting$gradientValu:setting.colorValue,label:setting.label};return setting&&(0,react.createElement)(WithToolsPanelItem,(0,esm_extends.Z)({key:index,setting},props),(0,react.createElement)(dropdown.Z,{popoverProps,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:renderToggle(toggleSettings),renderContent:()=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"none"},(0,react.createElement)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content"},(0,react.createElement)(control,controlProps)))}))})))}var api_fetch_build_module=__webpack_require__("./packages/api-fetch/build-module/index.js"),strip_html=__webpack_require__("./packages/dom/build-module/dom/strip-html.js");const ImageEditingContext=(0,react.createContext)({}),useImageEditingContext=()=>(0,react.useContext)(ImageEditingContext);function ImageEditingProvider({id,url,naturalWidth,naturalHeight,onFinishEditing,onSaveImage,children}){const transformImage=function useTransformImage({url,naturalWidth,naturalHeight}){const[editedUrl,setEditedUrl]=(0,react.useState)(),[crop,setCrop]=(0,react.useState)(),[position,setPosition]=(0,react.useState)({x:0,y:0}),[zoom,setZoom]=(0,react.useState)(100),[rotation,setRotation]=(0,react.useState)(0),defaultAspect=naturalWidth/naturalHeight,[aspect,setAspect]=(0,react.useState)(defaultAspect),rotateClockwise=(0,react.useCallback)((()=>{const angle=(rotation+90)%360;let naturalAspectRatio=defaultAspect;if(rotation%180==90&&(naturalAspectRatio=1/defaultAspect),0===angle)return setEditedUrl(),setRotation(angle),setAspect(defaultAspect),void setPosition({x:-position.y*naturalAspectRatio,y:position.x*naturalAspectRatio});const el=new window.Image;el.src=url,el.onload=function editImage(event){const canvas=document.createElement("canvas");let translateX=0,translateY=0;angle%180?(canvas.width=event.target.height,canvas.height=event.target.width):(canvas.width=event.target.width,canvas.height=event.target.height),90!==angle&&180!==angle||(translateX=canvas.width),270!==angle&&180!==angle||(translateY=canvas.height);const context=canvas.getContext("2d");context.translate(translateX,translateY),context.rotate(angle*Math.PI/180),context.drawImage(event.target,0,0),canvas.toBlob((blob=>{setEditedUrl(URL.createObjectURL(blob)),setRotation(angle),setAspect(canvas.width/canvas.height),setPosition({x:-position.y*naturalAspectRatio,y:position.x*naturalAspectRatio})}))};const imgCrossOrigin=(0,hooks_build_module.O)("media.crossOrigin",void 0,url);"string"==typeof imgCrossOrigin&&(el.crossOrigin=imgCrossOrigin)}),[rotation,defaultAspect]);return(0,react.useMemo)((()=>({editedUrl,setEditedUrl,crop,setCrop,position,setPosition,zoom,setZoom,rotation,setRotation,rotateClockwise,aspect,setAspect,defaultAspect})),[editedUrl,crop,position,zoom,rotation,rotateClockwise,aspect,defaultAspect])}({url,naturalWidth,naturalHeight}),saveImage=function useSaveImage({crop,rotation,height,width,aspect,url,id,onSaveImage,onFinishEditing}){const{createErrorNotice}=(0,use_dispatch.Z)(notices_build_module.h),[isInProgress,setIsInProgress]=(0,react.useState)(!1),cancel=(0,react.useCallback)((()=>{setIsInProgress(!1),onFinishEditing()}),[setIsInProgress,onFinishEditing]),apply=(0,react.useCallback)((()=>{setIsInProgress(!0);const modifiers=[];rotation>0&&modifiers.push({type:"rotate",args:{angle:rotation}}),(crop.width<99.9||crop.height<99.9)&&modifiers.push({type:"crop",args:{left:crop.x,top:crop.y,width:crop.width,height:crop.height}}),(0,api_fetch_build_module.Z)({path:`/wp/v2/media/${id}/edit`,method:"POST",data:{src:url,modifiers}}).then((response=>{onSaveImage({id:response.id,url:response.source_url,height:height&&width?width/aspect:void 0})})).catch((error=>{createErrorNotice((0,i18n_build_module.gB)((0,i18n_build_module.__)("Could not edit image. %s"),(0,strip_html.Z)(error.message)),{id:"image-editing-error",type:"snackbar"})})).finally((()=>{setIsInProgress(!1),onFinishEditing()}))}),[setIsInProgress,crop,rotation,height,width,aspect,url,onSaveImage,createErrorNotice,setIsInProgress,onFinishEditing]);return(0,react.useMemo)((()=>({isInProgress,apply,cancel})),[isInProgress,apply,cancel])}({id,url,onSaveImage,onFinishEditing,...transformImage}),providerValue=(0,react.useMemo)((()=>({...transformImage,...saveImage})),[transformImage,saveImage]);return(0,react.createElement)(ImageEditingContext.Provider,{value:providerValue},children)}var index_module=__webpack_require__("./node_modules/react-easy-crop/index.module.js");const MIN_ZOOM=100,MAX_ZOOM=300,constants_POPOVER_PROPS={placement:"bottom-start"};function ImageCropper({url,width,height,clientWidth,naturalHeight,naturalWidth,borderProps}){const{isInProgress,editedUrl,position,zoom,aspect,setPosition,setCrop,setZoom,rotation}=useImageEditingContext();let editedHeight=height||clientWidth*naturalHeight/naturalWidth;return rotation%180==90&&(editedHeight=clientWidth*naturalWidth/naturalHeight),(0,react.createElement)("div",{className:classnames_default()("wp-block-image__crop-area",borderProps?.className,{"is-applying":isInProgress}),style:{...borderProps?.style,width:width||clientWidth,height:editedHeight}},(0,react.createElement)(index_module.ZP,{image:editedUrl||url,disabled:isInProgress,minZoom:MIN_ZOOM/100,maxZoom:MAX_ZOOM/100,crop:position,zoom:zoom/100,aspect,onCropChange:pos=>{setPosition(pos)},onCropComplete:newCropPercent=>{setCrop(newCropPercent)},onZoomChange:newZoom=>{setZoom(100*newZoom)}}),isInProgress&&(0,react.createElement)(spinner.ZP,null))}var search=__webpack_require__("./packages/icons/build-module/library/search.js");function ZoomDropdown(){const{isInProgress,zoom,setZoom}=useImageEditingContext();return(0,react.createElement)(dropdown.Z,{contentClassName:"wp-block-image__zoom",popoverProps:constants_POPOVER_PROPS,renderToggle:({isOpen,onToggle})=>(0,react.createElement)(toolbar_button.Z,{icon:search.Z,label:(0,i18n_build_module.__)("Zoom"),onClick:onToggle,"aria-expanded":isOpen,disabled:isInProgress}),renderContent:()=>(0,react.createElement)(range_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Zoom"),min:MIN_ZOOM,max:MAX_ZOOM,value:Math.round(zoom),onChange:setZoom})})}const aspect_ratio=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M18.5 5.5h-13c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5h-13c-.3 0-.5-.2-.5-.5v-9c0-.3.2-.5.5-.5h13c.3 0 .5.2.5.5v9zM6.5 12H8v-2h2V8.5H6.5V12zm9.5 2h-2v1.5h3.5V12H16v2z"}));function AspectGroup({aspectRatios,isDisabled,label,onClick,value}){return(0,react.createElement)(menu_group.Z,{label},aspectRatios.map((({title,aspect})=>(0,react.createElement)(menu_item.Z,{key:aspect,disabled:isDisabled,onClick:()=>{onClick(aspect)},role:"menuitemradio",isSelected:aspect===value,icon:aspect===value?library_check.Z:void 0},title))))}function AspectRatioDropdown({toggleProps}){const{isInProgress,aspect,setAspect,defaultAspect}=useImageEditingContext();return(0,react.createElement)(dropdown_menu.Z,{icon:aspect_ratio,label:(0,i18n_build_module.__)("Aspect Ratio"),popoverProps:constants_POPOVER_PROPS,toggleProps,className:"wp-block-image__aspect-ratio"},(({onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(AspectGroup,{isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect),onClose()},value:aspect,aspectRatios:[{title:(0,i18n_build_module.__)("Original"),aspect:defaultAspect},{title:(0,i18n_build_module.__)("Square"),aspect:1}]}),(0,react.createElement)(AspectGroup,{label:(0,i18n_build_module.__)("Landscape"),isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect),onClose()},value:aspect,aspectRatios:[{title:(0,i18n_build_module.__)("16:10"),aspect:1.6},{title:(0,i18n_build_module.__)("16:9"),aspect:16/9},{title:(0,i18n_build_module.__)("4:3"),aspect:4/3},{title:(0,i18n_build_module.__)("3:2"),aspect:1.5}]}),(0,react.createElement)(AspectGroup,{label:(0,i18n_build_module.__)("Portrait"),isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect),onClose()},value:aspect,aspectRatios:[{title:(0,i18n_build_module.__)("10:16"),aspect:.625},{title:(0,i18n_build_module.__)("9:16"),aspect:9/16},{title:(0,i18n_build_module.__)("3:4"),aspect:3/4},{title:(0,i18n_build_module.__)("2:3"),aspect:2/3}]}))))}const rotate_right=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"}));function RotationButton(){const{isInProgress,rotateClockwise}=useImageEditingContext();return(0,react.createElement)(toolbar_button.Z,{icon:rotate_right,label:(0,i18n_build_module.__)("Rotate"),onClick:rotateClockwise,disabled:isInProgress})}function FormControls(){const{isInProgress,apply,cancel}=useImageEditingContext();return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toolbar_button.Z,{onClick:apply,disabled:isInProgress},(0,i18n_build_module.__)("Apply")),(0,react.createElement)(toolbar_button.Z,{onClick:cancel},(0,i18n_build_module.__)("Cancel")))}function ImageEditor({id,url,width,height,clientWidth,naturalHeight,naturalWidth,onSaveImage,onFinishEditing,borderProps}){return(0,react.createElement)(ImageEditingProvider,{id,url,naturalWidth,naturalHeight,onSaveImage,onFinishEditing},(0,react.createElement)(ImageCropper,{borderProps,url,width,height,clientWidth,naturalHeight,naturalWidth}),(0,react.createElement)(block_controls,null,(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(ZoomDropdown,null),(0,react.createElement)(toolbar_item.Z,null,(toggleProps=>(0,react.createElement)(AspectRatioDropdown,{toggleProps}))),(0,react.createElement)(RotationButton,null)),(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(FormControls,null))))}const IMAGE_SIZE_PRESETS=[25,50,75,100],image_size_control_noop=()=>{};function ImageSizeControl({imageSizeHelp,imageWidth,imageHeight,imageSizeOptions=[],isResizable=!0,slug,width,height,onChange,onChangeImage=image_size_control_noop}){const{currentHeight,currentWidth,updateDimension,updateDimensions}=function useDimensionHandler(customHeight,customWidth,defaultHeight,defaultWidth,onChange){var _ref,_ref2;const[currentWidth,setCurrentWidth]=(0,react.useState)(null!==(_ref=null!=customWidth?customWidth:defaultWidth)&&void 0!==_ref?_ref:""),[currentHeight,setCurrentHeight]=(0,react.useState)(null!==(_ref2=null!=customHeight?customHeight:defaultHeight)&&void 0!==_ref2?_ref2:"");return(0,react.useEffect)((()=>{void 0===customWidth&&void 0!==defaultWidth&&setCurrentWidth(defaultWidth),void 0===customHeight&&void 0!==defaultHeight&&setCurrentHeight(defaultHeight)}),[defaultWidth,defaultHeight]),(0,react.useEffect)((()=>{void 0!==customWidth&&Number.parseInt(customWidth)!==Number.parseInt(currentWidth)&&setCurrentWidth(customWidth),void 0!==customHeight&&Number.parseInt(customHeight)!==Number.parseInt(currentHeight)&&setCurrentHeight(customHeight)}),[customWidth,customHeight]),{currentHeight,currentWidth,updateDimension:(dimension,value)=>{const parsedValue=""===value?void 0:parseInt(value,10);"width"===dimension?setCurrentWidth(parsedValue):setCurrentHeight(parsedValue),onChange({[dimension]:parsedValue})},updateDimensions:(nextHeight,nextWidth)=>{setCurrentHeight(null!=nextHeight?nextHeight:defaultHeight),setCurrentWidth(null!=nextWidth?nextWidth:defaultWidth),onChange({height:nextHeight,width:nextWidth})}}}(height,width,imageHeight,imageWidth,onChange);return(0,react.createElement)(react.Fragment,null,imageSizeOptions&&imageSizeOptions.length>0&&(0,react.createElement)(select_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Resolution"),value:slug,options:imageSizeOptions,onChange:onChangeImage,help:imageSizeHelp,size:"__unstable-large"}),isResizable&&(0,react.createElement)("div",{className:"block-editor-image-size-control"},(0,react.createElement)(h_stack_component.Z,{align:"baseline",spacing:"3"},(0,react.createElement)(number_control.Z,{className:"block-editor-image-size-control__width",label:(0,i18n_build_module.__)("Width"),value:currentWidth,min:1,onChange:value=>updateDimension("width",value),size:"__unstable-large"}),(0,react.createElement)(number_control.Z,{className:"block-editor-image-size-control__height",label:(0,i18n_build_module.__)("Height"),value:currentHeight,min:1,onChange:value=>updateDimension("height",value),size:"__unstable-large"})),(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(button_group.Z,{"aria-label":(0,i18n_build_module.__)("Image size presets")},IMAGE_SIZE_PRESETS.map((scale=>{const scaledWidth=Math.round(imageWidth*(scale/100)),scaledHeight=Math.round(imageHeight*(scale/100)),isCurrent=currentWidth===scaledWidth&&currentHeight===scaledHeight;return(0,react.createElement)(build_module_button.ZP,{key:scale,isSmall:!0,variant:isCurrent?"primary":void 0,isPressed:isCurrent,onClick:()=>updateDimensions(scaledHeight,scaledWidth)},scale,"%")}))),(0,react.createElement)(build_module_button.ZP,{isSmall:!0,onClick:()=>updateDimensions()},(0,i18n_build_module.__)("Reset")))))}var objects=__webpack_require__("./packages/is-shallow-equal/build-module/objects.js"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");const settings_drawer=function LinkSettingsDrawer({children,settingsOpen,setSettingsOpen}){const prefersReducedMotion=(0,use_reduced_motion.Z)(),MaybeAnimatePresence=prefersReducedMotion?react.Fragment:AnimatePresence.M,MaybeMotionDiv=prefersReducedMotion?"div":motion.E.div,settingsDrawerId=`link-control-settings-drawer-${(0,use_instance_id.Z)(LinkSettingsDrawer)}`;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{className:"block-editor-link-control__drawer-toggle","aria-expanded":settingsOpen,onClick:()=>setSettingsOpen(!settingsOpen),icon:library_settings.Z,label:(0,i18n_build_module.__)("Link Settings"),"aria-controls":settingsDrawerId}),(0,react.createElement)(MaybeAnimatePresence,null,settingsOpen&&(0,react.createElement)(MaybeMotionDiv,{className:"block-editor-link-control__drawer",hidden:!settingsOpen,id:settingsDrawerId,initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.1}},(0,react.createElement)("div",{className:"block-editor-link-control__drawer-inner"},children))))};var dom_scroll_into_view_lib=__webpack_require__("./node_modules/dom-scroll-into-view/lib/index.js"),lib_default=__webpack_require__.n(dom_scroll_into_view_lib),with_spoken_messages=__webpack_require__("./packages/components/build-module/higher-order/with-spoken-messages/index.js"),debounce=__webpack_require__("./packages/compose/build-module/utils/debounce/index.js"),with_safe_timeout=__webpack_require__("./packages/compose/build-module/higher-order/with-safe-timeout/index.js"),with_instance_id=__webpack_require__("./packages/compose/build-module/higher-order/with-instance-id/index.js"),is_url=__webpack_require__("./packages/url/build-module/is-url.js");function isFunction(maybeFunc){return"function"==typeof maybeFunc}class URLInput extends react.Component{constructor(props){super(props),this.onChange=this.onChange.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.selectLink=this.selectLink.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.bindSuggestionNode=this.bindSuggestionNode.bind(this),this.autocompleteRef=props.autocompleteRef||(0,react.createRef)(),this.inputRef=(0,react.createRef)(),this.updateSuggestions=(0,debounce.D)(this.updateSuggestions.bind(this),200),this.suggestionNodes=[],this.suggestionsRequest=null,this.state={suggestions:[],showSuggestions:!1,isUpdatingSuggestions:!1,suggestionsValue:null,selectedSuggestion:null,suggestionsListboxId:"",suggestionOptionIdPrefix:""}}componentDidUpdate(prevProps){const{showSuggestions,selectedSuggestion}=this.state,{value,__experimentalShowInitialSuggestions=!1}=this.props;showSuggestions&&null!==selectedSuggestion&&this.suggestionNodes[selectedSuggestion]&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,lib_default()(this.suggestionNodes[selectedSuggestion],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),this.props.setTimeout((()=>{this.scrollingIntoView=!1}),100)),prevProps.value===value||this.props.disableSuggestions||this.state.isUpdatingSuggestions||(value?.length?this.updateSuggestions(value):__experimentalShowInitialSuggestions&&this.updateSuggestions())}componentDidMount(){this.shouldShowInitialSuggestions()&&this.updateSuggestions()}componentWillUnmount(){this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null}bindSuggestionNode(index){return ref=>{this.suggestionNodes[index]=ref}}shouldShowInitialSuggestions(){const{__experimentalShowInitialSuggestions=!1,value}=this.props;return __experimentalShowInitialSuggestions&&!(value&&value.length)}updateSuggestions(value=""){const{__experimentalFetchLinkSuggestions:fetchLinkSuggestions,__experimentalHandleURLSuggestions:handleURLSuggestions}=this.props;if(!fetchLinkSuggestions)return;const isInitialSuggestions=!value?.length;if(value=value.trim(),!isInitialSuggestions&&(value.length<2||!handleURLSuggestions&&(0,is_url.P)(value)))return this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null,void this.setState({suggestions:[],showSuggestions:!1,suggestionsValue:value,selectedSuggestion:null,loading:!1});this.setState({isUpdatingSuggestions:!0,selectedSuggestion:null,loading:!0});const request=fetchLinkSuggestions(value,{isInitialSuggestions});request.then((suggestions=>{this.suggestionsRequest===request&&(this.setState({suggestions,isUpdatingSuggestions:!1,suggestionsValue:value,loading:!1,showSuggestions:!!suggestions.length}),suggestions.length?this.props.debouncedSpeak((0,i18n_build_module.gB)((0,i18n_build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",suggestions.length),suggestions.length),"assertive"):this.props.debouncedSpeak((0,i18n_build_module.__)("No results."),"assertive"))})).catch((()=>{this.suggestionsRequest===request&&this.setState({isUpdatingSuggestions:!1,loading:!1})})),this.suggestionsRequest=request}onChange(event){this.props.onChange(event.target.value)}onFocus(){const{suggestions}=this.state,{disableSuggestions,value}=this.props;!value||disableSuggestions||this.state.isUpdatingSuggestions||suggestions&&suggestions.length||this.updateSuggestions(value)}onKeyDown(event){this.props.onKeyDown?.(event);const{showSuggestions,selectedSuggestion,suggestions,loading}=this.state;if(!showSuggestions||!suggestions.length||loading){switch(event.keyCode){case keycodes_build_module.UP:0!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(0,0));break;case keycodes_build_module.WV:this.props.value.length!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(this.props.value.length,this.props.value.length));break;case keycodes_build_module.K5:this.props.onSubmit&&(event.preventDefault(),this.props.onSubmit(null,event))}return}const suggestion=this.state.suggestions[this.state.selectedSuggestion];switch(event.keyCode){case keycodes_build_module.UP:{event.preventDefault();const previousIndex=selectedSuggestion?selectedSuggestion-1:suggestions.length-1;this.setState({selectedSuggestion:previousIndex});break}case keycodes_build_module.WV:{event.preventDefault();const nextIndex=null===selectedSuggestion||selectedSuggestion===suggestions.length-1?0:selectedSuggestion+1;this.setState({selectedSuggestion:nextIndex});break}case keycodes_build_module.Mf:null!==this.state.selectedSuggestion&&(this.selectLink(suggestion),this.props.speak((0,i18n_build_module.__)("Link selected.")));break;case keycodes_build_module.K5:event.preventDefault(),null!==this.state.selectedSuggestion?(this.selectLink(suggestion),this.props.onSubmit&&this.props.onSubmit(suggestion,event)):this.props.onSubmit&&this.props.onSubmit(null,event)}}selectLink(suggestion){this.props.onChange(suggestion.url,suggestion),this.setState({selectedSuggestion:null,showSuggestions:!1})}handleOnClick(suggestion){this.selectLink(suggestion),this.inputRef.current.focus()}static getDerivedStateFromProps({value,instanceId,disableSuggestions,__experimentalShowInitialSuggestions=!1},{showSuggestions}){let shouldShowSuggestions=showSuggestions;const hasValue=value&&value.length;return __experimentalShowInitialSuggestions||hasValue||(shouldShowSuggestions=!1),!0===disableSuggestions&&(shouldShowSuggestions=!1),{showSuggestions:shouldShowSuggestions,suggestionsListboxId:`block-editor-url-input-suggestions-${instanceId}`,suggestionOptionIdPrefix:`block-editor-url-input-suggestion-${instanceId}`}}render(){return(0,react.createElement)(react.Fragment,null,this.renderControl(),this.renderSuggestions())}renderControl(){const{__nextHasNoMarginBottom=!1,label=null,className,isFullWidth,instanceId,placeholder=(0,i18n_build_module.__)("Paste URL or type to search"),__experimentalRenderControl:renderControl,value=""}=this.props,{loading,showSuggestions,selectedSuggestion,suggestionsListboxId,suggestionOptionIdPrefix}=this.state,inputId=`url-input-control-${instanceId}`,controlProps={id:inputId,label,className:classnames_default()("block-editor-url-input",className,{"is-full-width":isFullWidth})},inputProps={id:inputId,value,required:!0,className:"block-editor-url-input__input",type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder,onKeyDown:this.onKeyDown,role:"combobox","aria-label":label?void 0:(0,i18n_build_module.__)("URL"),"aria-expanded":showSuggestions,"aria-autocomplete":"list","aria-owns":suggestionsListboxId,"aria-activedescendant":null!==selectedSuggestion?`${suggestionOptionIdPrefix}-${selectedSuggestion}`:void 0,ref:this.inputRef};return renderControl?renderControl(controlProps,inputProps,loading):(__nextHasNoMarginBottom||(0,deprecated_build_module.Z)("Bottom margin styles for wp.blockEditor.URLInput",{since:"6.2",version:"6.5",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version"}),(0,react.createElement)(base_control.ZP,(0,esm_extends.Z)({__nextHasNoMarginBottom},controlProps),(0,react.createElement)("input",inputProps),loading&&(0,react.createElement)(spinner.ZP,null)))}renderSuggestions(){const{className,__experimentalRenderSuggestions:renderSuggestions}=this.props,{showSuggestions,suggestions,suggestionsValue,selectedSuggestion,suggestionsListboxId,suggestionOptionIdPrefix,loading}=this.state;if(!showSuggestions||0===suggestions.length)return null;const suggestionsListProps={id:suggestionsListboxId,ref:this.autocompleteRef,role:"listbox"},buildSuggestionItemProps=(suggestion,index)=>({role:"option",tabIndex:"-1",id:`${suggestionOptionIdPrefix}-${index}`,ref:this.bindSuggestionNode(index),"aria-selected":index===selectedSuggestion||void 0});return isFunction(renderSuggestions)?renderSuggestions({suggestions,selectedSuggestion,suggestionsListProps,buildSuggestionItemProps,isLoading:loading,handleSuggestionClick:this.handleOnClick,isInitialSuggestions:!suggestionsValue?.length,currentInputValue:suggestionsValue}):(0,react.createElement)(popover.ZP,{placement:"bottom",focusOnMount:!1},(0,react.createElement)("div",(0,esm_extends.Z)({},suggestionsListProps,{className:classnames_default()("block-editor-url-input__suggestions",`${className}__suggestions`)}),suggestions.map(((suggestion,index)=>(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({},buildSuggestionItemProps(0,index),{key:suggestion.id,className:classnames_default()("block-editor-url-input__suggestion",{"is-selected":index===selectedSuggestion}),onClick:()=>this.handleOnClick(suggestion)}),suggestion.title)))))}}URLInput.displayName="URLInput",URLInput.__docgenInfo={description:"",methods:[{name:"bindSuggestionNode",docblock:null,modifiers:[],params:[{name:"index",type:null}],returns:null},{name:"shouldShowInitialSuggestions",docblock:null,modifiers:[],params:[],returns:null},{name:"updateSuggestions",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"onFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"selectLink",docblock:null,modifiers:[],params:[{name:"suggestion",type:null}],returns:null},{name:"handleOnClick",docblock:null,modifiers:[],params:[{name:"suggestion",type:null}],returns:null},{name:"renderControl",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSuggestions",docblock:null,modifiers:[],params:[],returns:null}],displayName:"URLInput"};const url_input=(0,compose.Z)(with_safe_timeout.Z,with_spoken_messages.Z,with_instance_id.Z,(0,with_select.Z)(((select,props)=>{if(isFunction(props.__experimentalFetchLinkSuggestions))return;const{getSettings}=select(store);return{__experimentalFetchLinkSuggestions:getSettings().__experimentalFetchLinkSuggestions}})))(URLInput);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/build-module/components/url-input/index.js"]={name:"URLInput",docgenInfo:URLInput.__docgenInfo,path:"packages/block-editor/build-module/components/url-input/index.js"});const search_create_button=({searchTerm,onClick,itemProps,isSelected,buttonText})=>{if(!searchTerm)return null;let text;return text=buttonText?"function"==typeof buttonText?buttonText(searchTerm):buttonText:(0,create_interpolate_element.Z)((0,i18n_build_module.gB)((0,i18n_build_module.__)("Create: <mark>%s</mark>"),searchTerm),{mark:(0,react.createElement)("mark",null)}),(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({},itemProps,{className:classnames_default()("block-editor-link-control__search-create block-editor-link-control__search-item",{"is-selected":isSelected}),onClick}),(0,react.createElement)(build_module_icon.Z,{className:"block-editor-link-control__search-item-icon",icon:plus.Z}),(0,react.createElement)("span",{className:"block-editor-link-control__search-item-header"},(0,react.createElement)("span",{className:"block-editor-link-control__search-item-title"},text)))};var filter_url_for_display=__webpack_require__("./packages/url/build-module/filter-url-for-display.js"),safe_decode_uri=__webpack_require__("./packages/url/build-module/safe-decode-uri.js"),strings=__webpack_require__("./packages/components/build-module/utils/strings.js");const text_highlight=props=>{const{text="",highlight=""}=props,trimmedHighlightText=highlight.trim();if(!trimmedHighlightText)return(0,react.createElement)(react.Fragment,null,text);const regex=new RegExp(`(${(0,strings.h)(trimmedHighlightText)})`,"gi");return(0,create_interpolate_element.Z)(text.replace(regex,"<mark>$&</mark>"),{mark:(0,react.createElement)("mark",null)})};var post_list=__webpack_require__("./packages/icons/build-module/library/post-list.js"),page=__webpack_require__("./packages/icons/build-module/library/page.js"),tag=__webpack_require__("./packages/icons/build-module/library/tag.js"),category=__webpack_require__("./packages/icons/build-module/library/category.js"),file=__webpack_require__("./packages/icons/build-module/library/file.js");const library_globe=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z"})),ICONS_MAP={post:post_list.Z,page:page.Z,post_tag:tag.Z,category:category.Z,attachment:file.Z};function SearchItemIcon({isURL,suggestion}){let icon=null;return isURL?icon=library_globe:suggestion.type in ICONS_MAP&&(icon=ICONS_MAP[suggestion.type]),icon?(0,react.createElement)(build_module_icon.Z,{className:"block-editor-link-control__search-item-icon",icon}):null}const search_item=({itemProps,suggestion,isSelected=!1,onClick,isURL=!1,searchTerm="",shouldShowType=!1})=>(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({},itemProps,{onClick,className:classnames_default()("block-editor-link-control__search-item",{"is-selected":isSelected,"is-url":isURL,"is-entity":!isURL})}),(0,react.createElement)(SearchItemIcon,{suggestion,isURL}),(0,react.createElement)("span",{className:"block-editor-link-control__search-item-header"},(0,react.createElement)("span",{className:"block-editor-link-control__search-item-title"},(0,react.createElement)(text_highlight,{text:(0,strip_html.Z)(suggestion.title),highlight:searchTerm})),(0,react.createElement)("span",{"aria-hidden":!isURL,className:"block-editor-link-control__search-item-info"},!isURL&&((0,filter_url_for_display.w)((0,safe_decode_uri.x)(suggestion.url))||""),isURL&&(0,i18n_build_module.__)("Press ENTER to add this link"))),shouldShowType&&suggestion.type&&(0,react.createElement)("span",{className:"block-editor-link-control__search-item-type"},function getVisualTypeName(suggestion){if(suggestion.isFrontPage)return"front page";return"post_tag"===suggestion.type?"tag":suggestion.type}(suggestion))),LINK_ENTRY_TYPES=["URL","mailto","tel","internal"],DEFAULT_LINK_SETTINGS=[{id:"opensInNewTab",title:(0,i18n_build_module.__)("Open in new tab")}];function LinkControlSearchResults({instanceId,withCreateSuggestion,currentInputValue,handleSuggestionClick,suggestionsListProps,buildSuggestionItemProps,suggestions,selectedSuggestion,isLoading,isInitialSuggestions,createSuggestionButtonText,suggestionsQuery}){const resultsListClasses=classnames_default()("block-editor-link-control__search-results",{"is-loading":isLoading}),isSingleDirectEntryResult=1===suggestions.length&&LINK_ENTRY_TYPES.includes(suggestions[0].type),shouldShowCreateSuggestion=withCreateSuggestion&&!isSingleDirectEntryResult&&!isInitialSuggestions,shouldShowSuggestionsTypes=!suggestionsQuery?.type,searchResultsLabelId=`block-editor-link-control-search-results-label-${instanceId}`,labelText=isInitialSuggestions?(0,i18n_build_module.__)("Suggestions"):(0,i18n_build_module.gB)((0,i18n_build_module.__)('Search results for "%s"'),currentInputValue),searchResultsLabel=(0,react.createElement)(visually_hidden_component.Z,{id:searchResultsLabelId},labelText);return(0,react.createElement)("div",{className:"block-editor-link-control__search-results-wrapper"},searchResultsLabel,(0,react.createElement)("div",(0,esm_extends.Z)({},suggestionsListProps,{className:resultsListClasses,"aria-labelledby":searchResultsLabelId}),suggestions.map(((suggestion,index)=>shouldShowCreateSuggestion&&"__CREATE__"===suggestion.type?(0,react.createElement)(search_create_button,{searchTerm:currentInputValue,buttonText:createSuggestionButtonText,onClick:()=>handleSuggestionClick(suggestion),key:suggestion.type,itemProps:buildSuggestionItemProps(suggestion,index),isSelected:index===selectedSuggestion}):"__CREATE__"===suggestion.type?null:(0,react.createElement)(search_item,{key:`${suggestion.id}-${suggestion.type}`,itemProps:buildSuggestionItemProps(suggestion,index),suggestion,index,onClick:()=>{handleSuggestionClick(suggestion)},isSelected:index===selectedSuggestion,isURL:LINK_ENTRY_TYPES.includes(suggestion.type),searchTerm:currentInputValue,shouldShowType:shouldShowSuggestionsTypes,isFrontPage:suggestion?.isFrontPage})))))}var get_protocol=__webpack_require__("./packages/url/build-module/get-protocol.js"),prepend_http=__webpack_require__("./packages/url/build-module/prepend-http.js"),is_valid_protocol=__webpack_require__("./packages/url/build-module/is-valid-protocol.js"),is_valid_fragment=__webpack_require__("./packages/url/build-module/is-valid-fragment.js");function isURLLike(val){if(val.includes(" "))return!1;const protocol=(0,get_protocol.E)(val),protocolIsValid=(0,is_valid_protocol.M)(protocol),mayBeTLD=function hasPossibleTLD(url,maxLength=6){const cleanedURL=url.split(/[?#]/)[0];return new RegExp(`(?<=\\S)\\.(?:[a-zA-Z_]{2,${maxLength}})(?:\\/|$)`).test(cleanedURL)}(val),isWWW=val?.startsWith("www."),isInternal=val?.startsWith("#")&&(0,is_valid_fragment.Z)(val);return protocolIsValid||isWWW||isInternal||mayBeTLD}const handleNoop=()=>Promise.resolve([]),handleDirectEntry=val=>{let type="URL";const protocol=(0,get_protocol.E)(val)||"";return protocol.includes("mailto")&&(type="mailto"),protocol.includes("tel")&&(type="tel"),val?.startsWith("#")&&(type="internal"),Promise.resolve([{id:val,title:val,url:"URL"===type?(0,prepend_http.u)(val):val,type}])};function useSearchHandler(suggestionsQuery,allowDirectEntry,withCreateSuggestion,withURLSuggestion){const{fetchSearchSuggestions,pageOnFront}=(0,use_select.Z)((select=>{const{getSettings}=select(store);return{pageOnFront:getSettings().pageOnFront,fetchSearchSuggestions:getSettings().__experimentalFetchLinkSuggestions}}),[]),directEntryHandler=allowDirectEntry?handleDirectEntry:handleNoop;return(0,react.useCallback)(((val,{isInitialSuggestions})=>isURLLike(val)?directEntryHandler(val,{isInitialSuggestions}):(async(val,suggestionsQuery,fetchSearchSuggestions,withCreateSuggestion,pageOnFront)=>{const{isInitialSuggestions}=suggestionsQuery,results=await fetchSearchSuggestions(val,suggestionsQuery);return results.map((result=>Number(result.id)===pageOnFront?(result.isFrontPage=!0,result):result)),isInitialSuggestions||isURLLike(val)||!withCreateSuggestion?results:results.concat({title:val,url:val,type:"__CREATE__"})})(val,{...suggestionsQuery,isInitialSuggestions},fetchSearchSuggestions,withCreateSuggestion,withURLSuggestion)),[directEntryHandler,fetchSearchSuggestions,pageOnFront,suggestionsQuery,withCreateSuggestion,withURLSuggestion])}const noopSearchHandler=()=>Promise.resolve([]),search_input_noop=()=>{},LinkControlSearchInput=(0,react.forwardRef)((({value,children,currentLink={},className=null,placeholder=null,withCreateSuggestion=!1,onCreateSuggestion=search_input_noop,onChange=search_input_noop,onSelect=search_input_noop,showSuggestions=!0,renderSuggestions=props=>(0,react.createElement)(LinkControlSearchResults,props),fetchSuggestions=null,allowDirectEntry=!0,showInitialSuggestions=!1,suggestionsQuery={},withURLSuggestion=!0,createSuggestionButtonText,useLabel=!1},ref)=>{const genericSearchHandler=useSearchHandler(suggestionsQuery,allowDirectEntry,withCreateSuggestion,withURLSuggestion),searchHandler=showSuggestions?fetchSuggestions||genericSearchHandler:noopSearchHandler,instanceId=(0,use_instance_id.Z)(LinkControlSearchInput),[focusedSuggestion,setFocusedSuggestion]=(0,react.useState)(),onSuggestionSelected=async selectedSuggestion=>{let suggestion=selectedSuggestion;if("__CREATE__"!==selectedSuggestion.type){if(allowDirectEntry||suggestion&&Object.keys(suggestion).length>=1){const{id,url,...restLinkProps}=null!=currentLink?currentLink:{};onSelect({...restLinkProps,...suggestion},suggestion)}}else try{suggestion=await onCreateSuggestion(selectedSuggestion.title),suggestion?.url&&onSelect(suggestion)}catch(e){}},inputClasses=classnames_default()(className,{"has-no-label":!useLabel});return(0,react.createElement)("div",{className:"block-editor-link-control__search-input-container"},(0,react.createElement)(url_input,{disableSuggestions:currentLink?.url===value,__nextHasNoMarginBottom:!0,label:useLabel?"URL":void 0,className:inputClasses,value,onChange:(selection,suggestion)=>{onChange(selection),setFocusedSuggestion(suggestion)},placeholder:null!=placeholder?placeholder:(0,i18n_build_module.__)("Search or type url"),__experimentalRenderSuggestions:showSuggestions?props=>renderSuggestions({...props,instanceId,withCreateSuggestion,createSuggestionButtonText,suggestionsQuery,handleSuggestionClick:suggestion=>{props.handleSuggestionClick&&props.handleSuggestionClick(suggestion),onSuggestionSelected(suggestion)}}):null,__experimentalFetchLinkSuggestions:searchHandler,__experimentalHandleURLSuggestions:!0,__experimentalShowInitialSuggestions:showInitialSuggestions,onSubmit:(suggestion,event)=>{const hasSuggestion=suggestion||focusedSuggestion;hasSuggestion||value?.trim()?.length?onSuggestionSelected(hasSuggestion||{url:value}):event.preventDefault()},ref}),children)})),search_input=LinkControlSearchInput,library_info=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}));var library_edit=__webpack_require__("./packages/icons/build-module/library/edit.js");const{Slot:ViewerSlot,Fill:ViewerFill}=(0,slot_fill.up)("BlockEditorLinkControlViewer");function use_rich_url_data_reducer(state,action){switch(action.type){case"RESOLVED":return{...state,isFetching:!1,richData:action.richData};case"ERROR":return{...state,isFetching:!1,richData:null};case"LOADING":return{...state,isFetching:!0};default:throw new Error(`Unexpected action type ${action.type}`)}}const use_rich_url_data=function useRemoteUrlData(url){const[state,dispatch]=(0,react.useReducer)(use_rich_url_data_reducer,{richData:null,isFetching:!1}),{fetchRichUrlData}=(0,use_select.Z)((select=>{const{getSettings}=select(store);return{fetchRichUrlData:getSettings().__experimentalFetchRichUrlData}}),[]);return(0,react.useEffect)((()=>{if(url?.length&&fetchRichUrlData&&"undefined"!=typeof AbortController){dispatch({type:"LOADING"});const controller=new window.AbortController,signal=controller.signal;return fetchRichUrlData(url,{signal}).then((urlData=>{dispatch({type:"RESOLVED",richData:urlData})})).catch((()=>{signal.aborted||dispatch({type:"ERROR"})})),()=>{controller.abort()}}}),[url]),state};function LinkPreview({value,onEditClick,hasRichPreviews=!1,hasUnlinkControl=!1,onRemove}){const showRichPreviews=hasRichPreviews?value?.url:null,{richData,isFetching}=use_rich_url_data(showRichPreviews),hasRichData=richData&&Object.keys(richData).length,displayURL=value&&(0,filter_url_for_display.w)((0,safe_decode_uri.x)(value.url),16)||"",displayTitle=richData?.title||value?.title||displayURL,isEmptyURL=!value?.url?.length;let icon;return icon=richData?.icon?(0,react.createElement)("img",{src:richData?.icon,alt:""}):isEmptyURL?(0,react.createElement)(build_module_icon.Z,{icon:library_info,size:32}):(0,react.createElement)(build_module_icon.Z,{icon:library_globe}),(0,react.createElement)("div",{"aria-label":(0,i18n_build_module.__)("Currently selected"),className:classnames_default()("block-editor-link-control__search-item",{"is-current":!0,"is-rich":hasRichData,"is-fetching":!!isFetching,"is-preview":!0,"is-error":isEmptyURL})},(0,react.createElement)("div",{className:"block-editor-link-control__search-item-top"},(0,react.createElement)("span",{className:"block-editor-link-control__search-item-header"},(0,react.createElement)("span",{className:classnames_default()("block-editor-link-control__search-item-icon",{"is-image":richData?.icon})},icon),(0,react.createElement)("span",{className:"block-editor-link-control__search-item-details"},isEmptyURL?(0,react.createElement)("span",{className:"block-editor-link-control__search-item-error-notice"},(0,i18n_build_module.__)("Link is empty")):(0,react.createElement)(react.Fragment,null,(0,react.createElement)(external_link.Z,{className:"block-editor-link-control__search-item-title",href:value.url},(0,strip_html.Z)(displayTitle)),value?.url&&(0,react.createElement)("span",{className:"block-editor-link-control__search-item-info"},displayURL)))),(0,react.createElement)(build_module_button.ZP,{icon:library_edit.Z,label:(0,i18n_build_module.__)("Edit"),className:"block-editor-link-control__search-item-action",onClick:onEditClick,iconSize:24}),hasUnlinkControl&&(0,react.createElement)(build_module_button.ZP,{icon:link_off.Z,label:(0,i18n_build_module.__)("Unlink"),className:"block-editor-link-control__search-item-action block-editor-link-control__unlink",onClick:onRemove,iconSize:24}),(0,react.createElement)(ViewerSlot,{fillProps:value})),!!(hasRichData&&(richData?.image||richData?.description)||isFetching)&&(0,react.createElement)("div",{className:"block-editor-link-control__search-item-bottom"},(richData?.image||isFetching)&&(0,react.createElement)("div",{"aria-hidden":!richData?.image,className:classnames_default()("block-editor-link-control__search-item-image",{"is-placeholder":!richData?.image})},richData?.image&&(0,react.createElement)("img",{src:richData?.image,alt:""})),(richData?.description||isFetching)&&(0,react.createElement)("div",{"aria-hidden":!richData?.description,className:classnames_default()("block-editor-link-control__search-item-description",{"is-placeholder":!richData?.description})},richData?.description&&(0,react.createElement)(text_component.Z,{truncate:!0,numberOfLines:"2"},richData.description))))}const settings_noop=()=>{},link_control_settings=({value,onChange=settings_noop,settings})=>{if(!settings||!settings.length)return null;const handleSettingChange=setting=>newValue=>{onChange({...value,[setting.id]:newValue})},theSettings=settings.map((setting=>(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,className:"block-editor-link-control__setting",key:setting.id,label:setting.title,onChange:handleSettingChange(setting),checked:!!value&&!!value[setting.id]})));return(0,react.createElement)("fieldset",{className:"block-editor-link-control__settings"},(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},(0,i18n_build_module.__)("Currently selected link settings")),theSettings)};const makeCancelable=promise=>{let hasCanceled_=!1;return{promise:new Promise(((resolve,reject)=>{promise.then((val=>hasCanceled_?reject({isCanceled:!0}):resolve(val)),(error=>reject(hasCanceled_?{isCanceled:!0}:error)))})),cancel(){hasCanceled_=!0}}};const link_control_noop=()=>{};function LinkControl({searchInputPlaceholder,value,settings=DEFAULT_LINK_SETTINGS,onChange=link_control_noop,onRemove,onCancel,noDirectEntry=!1,showSuggestions=!0,showInitialSuggestions,forceIsEditingLink,createSuggestion,withCreateSuggestion,inputValue:propInputValue="",suggestionsQuery={},noURLSuggestion=!1,createSuggestionButtonText,hasRichPreviews=!1,hasTextControl=!1,renderControlBottom=null}){void 0===withCreateSuggestion&&createSuggestion&&(withCreateSuggestion=!0);const isMounting=(0,react.useRef)(!0),wrapperNode=(0,react.useRef)(),textInputRef=(0,react.useRef)(),isEndingEditWithFocus=(0,react.useRef)(!1),settingsKeys=settings.map((({id})=>id)),[settingsOpen,setSettingsOpen]=(0,react.useState)(!1),[internalControlValue,setInternalControlValue,setInternalURLInputValue,setInternalTextInputValue,createSetInternalSettingValueHandler]=function useInternalValue(value){const[internalValue,setInternalValue]=(0,react.useState)(value||{});return(0,react.useEffect)((()=>{setInternalValue((prevValue=>value&&value!==prevValue?value:prevValue))}),[value]),[internalValue,setInternalValue,nextValue=>{setInternalValue({...internalValue,url:nextValue})},nextValue=>{setInternalValue({...internalValue,title:nextValue})},settingsKeys=>nextValue=>{const settingsUpdates=Object.keys(nextValue).reduce(((acc,key)=>(settingsKeys.includes(key)&&(acc[key]=nextValue[key]),acc)),{});setInternalValue({...internalValue,...settingsUpdates})}]}(value),valueHasChanges=value&&!(0,objects.Z)(internalControlValue,value),[isEditingLink,setIsEditingLink]=(0,react.useState)(void 0!==forceIsEditingLink?forceIsEditingLink:!value||!value.url),{createPage,isCreatingPage,errorMessage}=function useCreatePage(handleCreatePage){const cancelableCreateSuggestion=(0,react.useRef)(),[isCreatingPage,setIsCreatingPage]=(0,react.useState)(!1),[errorMessage,setErrorMessage]=(0,react.useState)(null);return(0,react.useEffect)((()=>()=>{cancelableCreateSuggestion.current&&cancelableCreateSuggestion.current.cancel()}),[]),{createPage:async function(suggestionTitle){setIsCreatingPage(!0),setErrorMessage(null);try{return cancelableCreateSuggestion.current=makeCancelable(Promise.resolve(handleCreatePage(suggestionTitle))),await cancelableCreateSuggestion.current.promise}catch(error){if(error&&error.isCanceled)return;throw setErrorMessage(error.message||(0,i18n_build_module.__)("An unknown error occurred during creation. Please try again.")),error}finally{setIsCreatingPage(!1)}},isCreatingPage,errorMessage}}(createSuggestion);(0,react.useEffect)((()=>{void 0!==forceIsEditingLink&&forceIsEditingLink!==isEditingLink&&setIsEditingLink(forceIsEditingLink)}),[forceIsEditingLink]),(0,react.useEffect)((()=>{if(isMounting.current)return void(isMounting.current=!1);(dom_build_module.T_.focusable.find(wrapperNode.current)[0]||wrapperNode.current).focus(),isEndingEditWithFocus.current=!1}),[isEditingLink,isCreatingPage]);const hasLinkValue=value?.url?.trim()?.length>0,stopEditing=()=>{isEndingEditWithFocus.current=!!wrapperNode.current?.contains(wrapperNode.current.ownerDocument.activeElement),setSettingsOpen(!1),setIsEditingLink(!1)},handleSubmit=()=>{valueHasChanges&&onChange({...value,...internalControlValue,url:currentUrlInputValue}),stopEditing()},currentUrlInputValue=propInputValue||internalControlValue?.url||"",currentInputIsEmpty=!currentUrlInputValue?.trim()?.length,shownUnlinkControl=onRemove&&value&&!isEditingLink&&!isCreatingPage,showSettings=!!settings?.length,showTextControl=hasLinkValue&&hasTextControl,isEditing=(isEditingLink||!value)&&!isCreatingPage,isDisabled=!valueHasChanges||currentInputIsEmpty;return(0,react.createElement)("div",{tabIndex:-1,ref:wrapperNode,className:"block-editor-link-control"},isCreatingPage&&(0,react.createElement)("div",{className:"block-editor-link-control__loading"},(0,react.createElement)(spinner.ZP,null)," ",(0,i18n_build_module.__)("Creating"),"…"),isEditing&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{className:classnames_default()({"block-editor-link-control__search-input-wrapper":!0,"has-text-control":showTextControl})},(0,react.createElement)(search_input,{currentLink:value,className:"block-editor-link-control__field block-editor-link-control__search-input",placeholder:searchInputPlaceholder,value:currentUrlInputValue,withCreateSuggestion,onCreateSuggestion:createPage,onChange:setInternalURLInputValue,onSelect:updatedValue=>{const nonSettingsChanges=Object.keys(updatedValue).reduce(((acc,key)=>(settingsKeys.includes(key)||(acc[key]=updatedValue[key]),acc)),{});onChange({...internalControlValue,...nonSettingsChanges,title:internalControlValue?.title||updatedValue?.title}),stopEditing()},showInitialSuggestions,allowDirectEntry:!noDirectEntry,showSuggestions,suggestionsQuery,withURLSuggestion:!noURLSuggestion,createSuggestionButtonText,useLabel:showTextControl}),showTextControl&&(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,ref:textInputRef,className:"block-editor-link-control__field block-editor-link-control__text-content",label:(0,i18n_build_module.__)("Text"),value:internalControlValue?.title,onChange:setInternalTextInputValue,onKeyDown:event=>{const{keyCode}=event;keyCode!==keycodes_build_module.K5||currentInputIsEmpty||(event.preventDefault(),handleSubmit())}})),errorMessage&&(0,react.createElement)(notice.Z,{className:"block-editor-link-control__search-error",status:"error",isDismissible:!1},errorMessage)),value&&!isEditingLink&&!isCreatingPage&&(0,react.createElement)(LinkPreview,{key:value?.url,value,onEditClick:()=>setIsEditingLink(!0),hasRichPreviews,hasUnlinkControl:shownUnlinkControl,onRemove}),isEditing&&(0,react.createElement)("div",{className:"block-editor-link-control__tools"},showSettings&&(0,react.createElement)(settings_drawer,{settingsOpen,setSettingsOpen},(0,react.createElement)(link_control_settings,{value:internalControlValue,settings,onChange:createSetInternalSettingValueHandler(settingsKeys)})),(0,react.createElement)("div",{className:"block-editor-link-control__search-actions"},(0,react.createElement)(build_module_button.ZP,{variant:"primary",onClick:isDisabled?link_control_noop:handleSubmit,className:"block-editor-link-control__search-submit","aria-disabled":isDisabled},(0,i18n_build_module.__)("Save")),(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:event=>{event.preventDefault(),event.stopPropagation(),setInternalControlValue(value),hasLinkValue?stopEditing():onRemove?.(),onCancel?.()}},(0,i18n_build_module.__)("Cancel")))),renderControlBottom&&renderControlBottom())}LinkControl.ViewerFill=ViewerFill;const link_control=LinkControl;var form_file_upload=__webpack_require__("./packages/components/build-module/form-file-upload/index.js"),media=__webpack_require__("./packages/icons/build-module/library/media.js"),upload=__webpack_require__("./packages/icons/build-module/library/upload.js"),post_featured_image=__webpack_require__("./packages/icons/build-module/library/post-featured-image.js");const media_replace_flow_noop=()=>{};let uniqueId=0;const media_replace_flow=(0,compose.Z)([(0,with_dispatch.Z)((dispatch=>{const{createNotice,removeNotice}=dispatch(notices_build_module.h);return{createNotice,removeNotice}})),(0,with_filters.Z)("editor.MediaReplaceFlow")])((({mediaURL,mediaId,mediaIds,allowedTypes,accept,onError,onSelect,onSelectURL,onToggleFeaturedImage,useFeaturedImage,onFilesUpload=media_replace_flow_noop,name=(0,i18n_build_module.__)("Replace"),createNotice,removeNotice,children,multiple=!1,addToGallery,handleUpload=!0,popoverProps})=>{const mediaUpload=(0,use_select.Z)((select=>select(store).getSettings().mediaUpload),[]),canUpload=!!mediaUpload,editMediaButtonRef=(0,react.useRef)(),errorNoticeID="block-editor/media-replace-flow/error-notice/"+ ++uniqueId,onUploadError=message=>{const safeMessage=(0,strip_html.Z)(message);onError?onError(safeMessage):setTimeout((()=>{createNotice("error",safeMessage,{speak:!0,id:errorNoticeID,isDismissible:!0})}),1e3)},selectMedia=(media,closeMenu)=>{useFeaturedImage&&onToggleFeaturedImage&&onToggleFeaturedImage(),closeMenu(),onSelect(media),(0,a11y_build_module.D)((0,i18n_build_module.__)("The media file has been replaced")),removeNotice(errorNoticeID)},openOnArrowDown=event=>{event.keyCode===keycodes_build_module.WV&&(event.preventDefault(),event.target.click())},gallery=multiple&&!(!allowedTypes||0===allowedTypes.length)&&allowedTypes.every((allowedType=>"image"===allowedType||allowedType.startsWith("image/")));return(0,react.createElement)(dropdown.Z,{popoverProps,contentClassName:"block-editor-media-replace-flow__options",renderToggle:({isOpen,onToggle})=>(0,react.createElement)(toolbar_button.Z,{ref:editMediaButtonRef,"aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,onKeyDown:openOnArrowDown},name),renderContent:({onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(navigable_container_menu.ZP,{className:"block-editor-media-replace-flow__media-upload-menu"},(0,react.createElement)(check,null,(0,react.createElement)(media_upload,{gallery,addToGallery,multiple,value:multiple?mediaIds:mediaId,onSelect:media=>selectMedia(media,onClose),allowedTypes,render:({open})=>(0,react.createElement)(menu_item.Z,{icon:media.Z,onClick:open},(0,i18n_build_module.__)("Open Media Library"))}),(0,react.createElement)(form_file_upload.Z,{onChange:event=>{((event,closeMenu)=>{const files=event.target.files;if(!handleUpload)return closeMenu(),onSelect(files);onFilesUpload(files),mediaUpload({allowedTypes,filesList:files,onFileChange:([media])=>{selectMedia(media,closeMenu)},onError:onUploadError})})(event,onClose)},accept,multiple,render:({openFileDialog})=>(0,react.createElement)(menu_item.Z,{icon:upload.Z,onClick:()=>{openFileDialog()}},(0,i18n_build_module.__)("Upload"))})),onToggleFeaturedImage&&(0,react.createElement)(menu_item.Z,{icon:post_featured_image.Z,onClick:onToggleFeaturedImage,isPressed:useFeaturedImage},(0,i18n_build_module.__)("Use featured image")),children),onSelectURL&&(0,react.createElement)("form",{className:classnames_default()("block-editor-media-flow__url-input",{"has-siblings":canUpload||onToggleFeaturedImage})},(0,react.createElement)("span",{className:"block-editor-media-replace-flow__image-url-label"},(0,i18n_build_module.__)("Current media URL:")),(0,react.createElement)(tooltip.Z,{text:mediaURL,position:"bottom"},(0,react.createElement)("div",null,(0,react.createElement)(link_control,{value:{url:mediaURL},settings:[],showSuggestions:!1,onChange:({url})=>{onSelectURL(url),editMediaButtonRef.current.focus()}})))))})}));var build_module_drop_zone=__webpack_require__("./packages/components/build-module/drop-zone/index.js"),keyboard_return=__webpack_require__("./packages/icons/build-module/library/keyboard-return.js");function LinkViewerURL({url,urlLabel,className}){const linkClassName=classnames_default()(className,"block-editor-url-popover__link-viewer-url");return url?(0,react.createElement)(external_link.Z,{className:linkClassName,href:url},urlLabel||(0,filter_url_for_display.w)((0,safe_decode_uri.x)(url))):(0,react.createElement)("span",{className:linkClassName})}const{__experimentalPopoverLegacyPositionToPlacement}=unlock(private_apis.YH);function URLPopover({additionalControls,children,renderSettings,placement,focusOnMount="firstElement",position,...popoverProps}){let computedPlacement;void 0!==position&&(0,deprecated_build_module.Z)("`position` prop in wp.blockEditor.URLPopover",{since:"6.2",alternative:"`placement` prop"}),void 0!==placement?computedPlacement=placement:void 0!==position&&(computedPlacement=__experimentalPopoverLegacyPositionToPlacement(position)),computedPlacement=computedPlacement||"bottom";const[isSettingsExpanded,setIsSettingsExpanded]=(0,react.useState)(!1),showSettings=!!renderSettings&&isSettingsExpanded;return(0,react.createElement)(popover.ZP,(0,esm_extends.Z)({className:"block-editor-url-popover",focusOnMount,placement:computedPlacement,shift:!0},popoverProps),(0,react.createElement)("div",{className:"block-editor-url-popover__input-container"},(0,react.createElement)("div",{className:"block-editor-url-popover__row"},children,!!renderSettings&&(0,react.createElement)(build_module_button.ZP,{className:"block-editor-url-popover__settings-toggle",icon:chevron_down.Z,label:(0,i18n_build_module.__)("Link settings"),onClick:()=>{setIsSettingsExpanded(!isSettingsExpanded)},"aria-expanded":isSettingsExpanded})),showSettings&&(0,react.createElement)("div",{className:"block-editor-url-popover__row block-editor-url-popover__settings"},renderSettings())),additionalControls&&!showSettings&&(0,react.createElement)("div",{className:"block-editor-url-popover__additional-controls"},additionalControls))}URLPopover.LinkEditor=function LinkEditor({autocompleteRef,className,onChangeInputValue,value,...props}){return(0,react.createElement)("form",(0,esm_extends.Z)({className:classnames_default()("block-editor-url-popover__link-editor",className)},props),(0,react.createElement)(url_input,{__nextHasNoMarginBottom:!0,value,onChange:onChangeInputValue,autocompleteRef}),(0,react.createElement)(build_module_button.ZP,{icon:keyboard_return.Z,label:(0,i18n_build_module.__)("Apply"),type:"submit"}))},URLPopover.LinkViewer=function LinkViewer({className,linkClassName,onEditLinkClick,url,urlLabel,...props}){return(0,react.createElement)("div",(0,esm_extends.Z)({className:classnames_default()("block-editor-url-popover__link-viewer",className)},props),(0,react.createElement)(LinkViewerURL,{url,urlLabel,className:linkClassName}),onEditLinkClick&&(0,react.createElement)(build_module_button.ZP,{icon:library_edit.Z,label:(0,i18n_build_module.__)("Edit"),onClick:onEditLinkClick}))};const url_popover=URLPopover,media_placeholder_noop=()=>{},InsertFromURLPopover=({src,onChange,onSubmit,onClose,popoverAnchor})=>(0,react.createElement)(url_popover,{anchor:popoverAnchor,onClose},(0,react.createElement)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit},(0,react.createElement)("input",{className:"block-editor-media-placeholder__url-input-field",type:"text","aria-label":(0,i18n_build_module.__)("URL"),placeholder:(0,i18n_build_module.__)("Paste or type URL"),onChange,value:src}),(0,react.createElement)(build_module_button.ZP,{className:"block-editor-media-placeholder__url-input-submit-button",icon:keyboard_return.Z,label:(0,i18n_build_module.__)("Apply"),type:"submit"}))),URLSelectionUI=({isURLInputVisible,src,onChangeSrc,onSubmitSrc,openURLInput,closeURLInput})=>{const[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null);return(0,react.createElement)("div",{className:"block-editor-media-placeholder__url-input-container",ref:setPopoverAnchor},(0,react.createElement)(build_module_button.ZP,{className:"block-editor-media-placeholder__button",onClick:openURLInput,isPressed:isURLInputVisible,variant:"tertiary"},(0,i18n_build_module.__)("Insert from URL")),isURLInputVisible&&(0,react.createElement)(InsertFromURLPopover,{src,onChange:onChangeSrc,onSubmit:onSubmitSrc,onClose:closeURLInput,popoverAnchor}))};const media_placeholder=(0,with_filters.Z)("editor.MediaPlaceholder")((function MediaPlaceholder({value={},allowedTypes,className,icon,labels={},mediaPreview,notices,isAppender,accept,addToGallery,multiple=!1,handleUpload=!0,disableDropZone,disableMediaButtons,onError,onSelect,onCancel,onSelectURL,onToggleFeaturedImage,onDoubleClick,onFilesPreUpload=media_placeholder_noop,onHTMLDrop:deprecatedOnHTMLDrop,children,mediaLibraryButton,placeholder,style}){deprecatedOnHTMLDrop&&(0,deprecated_build_module.Z)("wp.blockEditor.MediaPlaceholder onHTMLDrop prop",{since:"6.2",version:"6.4"});const mediaUpload=(0,use_select.Z)((select=>{const{getSettings}=select(store);return getSettings().mediaUpload}),[]),[src,setSrc]=(0,react.useState)(""),[isURLInputVisible,setIsURLInputVisible]=(0,react.useState)(!1);(0,react.useEffect)((()=>{var _value$src;setSrc(null!==(_value$src=value?.src)&&void 0!==_value$src?_value$src:"")}),[value?.src]);const onChangeSrc=event=>{setSrc(event.target.value)},openURLInput=()=>{setIsURLInputVisible(!0)},closeURLInput=()=>{setIsURLInputVisible(!1)},onSubmitSrc=event=>{event.preventDefault(),src&&onSelectURL&&(onSelectURL(src),closeURLInput())},onFilesUpload=files=>{if(!handleUpload)return onSelect(files);let setMedia;if(onFilesPreUpload(files),multiple)if(addToGallery){let lastMediaPassed=[];setMedia=newMedia=>{const filteredMedia=(null!=value?value:[]).filter((item=>item.id?!lastMediaPassed.some((({id})=>Number(id)===Number(item.id))):!lastMediaPassed.some((({urlSlug})=>item.url.includes(urlSlug)))));onSelect(filteredMedia.concat(newMedia)),lastMediaPassed=newMedia.map((media=>{const cutOffIndex=media.url.lastIndexOf("."),urlSlug=media.url.slice(0,cutOffIndex);return{id:media.id,urlSlug}}))}}else setMedia=onSelect;else setMedia=([media])=>onSelect(media);mediaUpload({allowedTypes,filesList:files,onFileChange:setMedia,onError})};async function onHTMLDrop(HTML){const blocks=(0,build_module.ag)({HTML});return await async function handleBlocksDrop(blocks){if(!blocks||!Array.isArray(blocks))return;const mediaBlocks=function recursivelyFindMediaFromBlocks(_blocks){return _blocks.flatMap((block=>"core/image"!==block.name&&"core/audio"!==block.name&&"core/video"!==block.name||!block.attributes.url?recursivelyFindMediaFromBlocks(block.innerBlocks):[block]))}(blocks);if(!mediaBlocks.length)return;const uploadedMediaList=await Promise.all(mediaBlocks.map((block=>block.attributes.id?block.attributes:new Promise(((resolve,reject)=>{window.fetch(block.attributes.url).then((response=>response.blob())).then((blob=>mediaUpload({filesList:[blob],additionalData:{title:block.attributes.title,alt_text:block.attributes.alt,caption:block.attributes.caption},onFileChange:([media])=>{media.id&&resolve(media)},allowedTypes,onError:reject}))).catch((()=>resolve(block.attributes.url)))}))))).catch((err=>onError(err)));onSelect(multiple?uploadedMediaList:uploadedMediaList[0])}(blocks)}const onUpload=event=>{onFilesUpload(event.target.files)},renderPlaceholder=null!=placeholder?placeholder:content=>{let{instructions,title}=labels;if(mediaUpload||onSelectURL||(instructions=(0,i18n_build_module.__)("To edit this block, you need permission to upload media.")),void 0===instructions||void 0===title){const typesAllowed=null!=allowedTypes?allowedTypes:[],[firstAllowedType]=typesAllowed,isOneType=1===typesAllowed.length,isAudio=isOneType&&"audio"===firstAllowedType,isImage=isOneType&&"image"===firstAllowedType,isVideo=isOneType&&"video"===firstAllowedType;void 0===instructions&&mediaUpload&&(instructions=(0,i18n_build_module.__)("Upload a media file or pick one from your media library."),isAudio?instructions=(0,i18n_build_module.__)("Upload an audio file, pick one from your media library, or add one with a URL."):isImage?instructions=(0,i18n_build_module.__)("Upload an image file, pick one from your media library, or add one with a URL."):isVideo&&(instructions=(0,i18n_build_module.__)("Upload a video file, pick one from your media library, or add one with a URL."))),void 0===title&&(title=(0,i18n_build_module.__)("Media"),isAudio?title=(0,i18n_build_module.__)("Audio"):isImage?title=(0,i18n_build_module.__)("Image"):isVideo&&(title=(0,i18n_build_module.__)("Video")))}const placeholderClassName=classnames_default()("block-editor-media-placeholder",className,{"is-appender":isAppender});return(0,react.createElement)(build_module_placeholder.Z,{icon,label:title,instructions,className:placeholderClassName,notices,onDoubleClick,preview:mediaPreview,style},content,children)},renderDropZone=()=>disableDropZone?null:(0,react.createElement)(build_module_drop_zone.Z,{onFilesDrop:onFilesUpload,onHTMLDrop}),renderCancelLink=()=>onCancel&&(0,react.createElement)(build_module_button.ZP,{className:"block-editor-media-placeholder__cancel-button",title:(0,i18n_build_module.__)("Cancel"),variant:"link",onClick:onCancel},(0,i18n_build_module.__)("Cancel")),renderUrlSelectionUI=()=>onSelectURL&&(0,react.createElement)(URLSelectionUI,{isURLInputVisible,src,onChangeSrc,onSubmitSrc,openURLInput,closeURLInput}),renderFeaturedImageToggle=()=>onToggleFeaturedImage&&(0,react.createElement)("div",{className:"block-editor-media-placeholder__url-input-container"},(0,react.createElement)(build_module_button.ZP,{className:"block-editor-media-placeholder__button",onClick:onToggleFeaturedImage,variant:"tertiary"},(0,i18n_build_module.__)("Use featured image")));return disableMediaButtons?(0,react.createElement)(check,null,renderDropZone()):(0,react.createElement)(check,{fallback:renderPlaceholder(renderUrlSelectionUI())},(()=>{const libraryButton=null!=mediaLibraryButton?mediaLibraryButton:({open})=>(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:()=>{open()}},(0,i18n_build_module.__)("Media Library")),uploadMediaLibraryButton=(0,react.createElement)(media_upload,{addToGallery,gallery:multiple&&!(!allowedTypes||0===allowedTypes.length)&&allowedTypes.every((allowedType=>"image"===allowedType||allowedType.startsWith("image/"))),multiple,onSelect,allowedTypes,mode:"browse",value:Array.isArray(value)?value.map((({id})=>id)):value.id,render:libraryButton});if(mediaUpload&&isAppender)return(0,react.createElement)(react.Fragment,null,renderDropZone(),(0,react.createElement)(form_file_upload.Z,{onChange:onUpload,accept,multiple,render:({openFileDialog})=>{const content=(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{variant:"primary",className:classnames_default()("block-editor-media-placeholder__button","block-editor-media-placeholder__upload-button"),onClick:openFileDialog},(0,i18n_build_module.__)("Upload")),uploadMediaLibraryButton,renderUrlSelectionUI(),renderFeaturedImageToggle(),renderCancelLink());return renderPlaceholder(content)}}));if(mediaUpload){const content=(0,react.createElement)(react.Fragment,null,renderDropZone(),(0,react.createElement)(form_file_upload.Z,{variant:"primary",className:classnames_default()("block-editor-media-placeholder__button","block-editor-media-placeholder__upload-button"),onChange:onUpload,accept,multiple},(0,i18n_build_module.__)("Upload")),uploadMediaLibraryButton,renderUrlSelectionUI(),renderFeaturedImageToggle(),renderCancelLink());return renderPlaceholder(content)}return renderPlaceholder(uploadMediaLibraryButton)})())}));var build_module_serialize=__webpack_require__("./packages/element/build-module/serialize.js");function getDefaultUseItems(autocompleter){return filterValue=>{const[items,setItems]=(0,react.useState)([]);return(0,react.useLayoutEffect)((()=>{const{options,isDebounced}=autocompleter,loadOptions=(0,debounce.D)((()=>{const promise=Promise.resolve("function"==typeof options?options(filterValue):options).then((optionsData=>{if(promise.canceled)return;const keyedOptions=optionsData.map(((optionData,optionIndex)=>({key:`${autocompleter.name}-${optionIndex}`,value:optionData,label:autocompleter.getOptionLabel(optionData),keywords:autocompleter.getOptionKeywords?autocompleter.getOptionKeywords(optionData):[],isDisabled:!!autocompleter.isOptionDisabled&&autocompleter.isOptionDisabled(optionData)}))),search=new RegExp("(?:\\b|\\s|^)"+(0,strings.h)(filterValue),"i");setItems(function filterOptions(search,options=[],maxResults=10){const filtered=[];for(let i=0;i<options.length;i++){const option=options[i];let{keywords=[]}=option;if("string"==typeof option.label&&(keywords=[...keywords,option.label]),keywords.some((keyword=>search.test(remove_accents_default()(keyword))))&&(filtered.push(option),filtered.length===maxResults))break}return filtered}(search,keyedOptions))}));return promise}),isDebounced?250:0),promise=loadOptions();return()=>{loadOptions.cancel(),promise&&(promise.canceled=!0)}}),[filterValue]),[items]}}function getAutoCompleterUI(autocompleter){const useItems=autocompleter.useItems?autocompleter.useItems:getDefaultUseItems(autocompleter);return function AutocompleterUI({filterValue,instanceId,listBoxId,className,selectedIndex,onChangeOptions,onSelect,onReset,reset,contentRef}){const[items]=useItems(filterValue),popoverAnchor=(0,rich_text_build_module.Wb)({editableContentElement:contentRef.current}),[needsA11yCompat,setNeedsA11yCompat]=(0,react.useState)(!1),popoverRef=(0,react.useRef)(null),popoverRefs=(0,use_merge_refs.Z)([popoverRef,(0,use_ref_effect.Z)((node=>{contentRef.current&&setNeedsA11yCompat(node.ownerDocument!==contentRef.current.ownerDocument)}),[contentRef])]);if(function useOnClickOutside(ref,handler){(0,react.useEffect)((()=>{const listener=event=>{ref.current&&!ref.current.contains(event.target)&&handler(event)};return document.addEventListener("mousedown",listener),document.addEventListener("touchstart",listener),()=>{document.removeEventListener("mousedown",listener),document.removeEventListener("touchstart",listener)}}),[handler])}(popoverRef,reset),(0,react.useLayoutEffect)((()=>{onChangeOptions(items)}),[items]),0===items.length)return null;const ListBox=({Component="div"})=>(0,react.createElement)(Component,{id:listBoxId,role:"listbox",className:"components-autocomplete__results"},items.map(((option,index)=>(0,react.createElement)(build_module_button.ZP,{key:option.key,id:`components-autocomplete-item-${instanceId}-${option.key}`,role:"option","aria-selected":index===selectedIndex,disabled:option.isDisabled,className:classnames_default()("components-autocomplete__result",className,{"is-selected":index===selectedIndex}),onClick:()=>onSelect(option)},option.label))));return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(popover.ZP,{focusOnMount:!1,onClose:onReset,placement:"top-start",className:"components-autocomplete__popover",anchor:popoverAnchor,ref:popoverRefs},(0,react.createElement)(ListBox,null)),contentRef.current&&needsA11yCompat&&(0,react_dom.createPortal)((0,react.createElement)(ListBox,{Component:visually_hidden_component.Z}),contentRef.current.ownerDocument.body))}}const EMPTY_FILTERED_OPTIONS=[];function useAutocomplete({record,onChange,onReplace,completers,contentRef}){const debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500),instanceId=(0,use_instance_id.Z)(useAutocomplete),[selectedIndex,setSelectedIndex]=(0,react.useState)(0),[filteredOptions,setFilteredOptions]=(0,react.useState)(EMPTY_FILTERED_OPTIONS),[filterValue,setFilterValue]=(0,react.useState)(""),[autocompleter,setAutocompleter]=(0,react.useState)(null),[AutocompleterUI,setAutocompleterUI]=(0,react.useState)(null),backspacing=(0,react.useRef)(!1);function select(option){const{getOptionCompletion}=autocompleter||{};if(!option.isDisabled){if(getOptionCompletion){const completion=getOptionCompletion(option.value,filterValue),completionObject=(obj=>null!==obj&&"object"==typeof obj&&"action"in obj&&void 0!==obj.action&&"value"in obj&&void 0!==obj.value)(completion)?completion:{action:"insert-at-caret",value:completion};if("replace"===completionObject.action)return void onReplace([completionObject.value]);"insert-at-caret"===completionObject.action&&function insertCompletion(replacement){if(null===autocompleter)return;const end=record.start,start=end-autocompleter.triggerPrefix.length-filterValue.length,toInsert=(0,rich_text_build_module.Ue)({html:(0,build_module_serialize.ZP)(replacement)});onChange((0,rich_text_build_module.$T)(record,toInsert,start,end))}(completionObject.value)}reset()}}function reset(){setSelectedIndex(0),setFilteredOptions(EMPTY_FILTERED_OPTIONS),setFilterValue(""),setAutocompleter(null),setAutocompleterUI(null)}const textContent=(0,react.useMemo)((()=>(0,rich_text_build_module.zb)(record)?(0,rich_text_build_module.FB)((0,rich_text_build_module.tP)(record,0)):""),[record]);(0,react.useEffect)((()=>{if(!textContent)return void(autocompleter&&reset());const completer=completers?.find((({triggerPrefix,allowContext})=>{const index=textContent.lastIndexOf(triggerPrefix);if(-1===index)return!1;const textWithoutTrigger=textContent.slice(index+triggerPrefix.length);if(textWithoutTrigger.length>50)return!1;const mismatch=0===filteredOptions.length,hasOneTriggerWord=1===textWithoutTrigger.split(/\s/).length,matchingWhileBackspacing=backspacing.current&&textWithoutTrigger.split(/\s/).length<=3;if(mismatch&&!matchingWhileBackspacing&&!hasOneTriggerWord)return!1;const textAfterSelection=(0,rich_text_build_module.FB)((0,rich_text_build_module.tP)(record,void 0,(0,rich_text_build_module.FB)(record).length));return!(allowContext&&!allowContext(textContent.slice(0,index),textAfterSelection))&&(!/^\s/.test(textWithoutTrigger)&&!/\s\s+$/.test(textWithoutTrigger)&&/[\u0000-\uFFFF]*$/.test(textWithoutTrigger))}));if(!completer)return void(autocompleter&&reset());const safeTrigger=(0,strings.h)(completer.triggerPrefix),text=remove_accents_default()(textContent),match=text.slice(text.lastIndexOf(completer.triggerPrefix)).match(new RegExp(`${safeTrigger}([\0-￿]*)$`)),query=match&&match[1];setAutocompleter(completer),setAutocompleterUI((()=>completer!==autocompleter?getAutoCompleterUI(completer):AutocompleterUI)),setFilterValue(null===query?"":query)}),[textContent]);const{key:selectedKey=""}=filteredOptions[selectedIndex]||{},{className}=autocompleter||{},isExpanded=!!autocompleter&&filteredOptions.length>0,listBoxId=isExpanded?`components-autocomplete-listbox-${instanceId}`:void 0;return{listBoxId,activeId:isExpanded?`components-autocomplete-item-${instanceId}-${selectedKey}`:null,onKeyDown:function handleKeyDown(event){if(backspacing.current="Backspace"===event.key,autocompleter&&0!==filteredOptions.length&&!event.defaultPrevented&&!event.isComposing&&229!==event.keyCode){switch(event.key){case"ArrowUp":setSelectedIndex((0===selectedIndex?filteredOptions.length:selectedIndex)-1);break;case"ArrowDown":setSelectedIndex((selectedIndex+1)%filteredOptions.length);break;case"Escape":setAutocompleter(null),setAutocompleterUI(null),event.preventDefault();break;case"Enter":select(filteredOptions[selectedIndex]);break;case"ArrowLeft":case"ArrowRight":return void reset();default:return}event.preventDefault()}},popover:void 0!==record.start&&AutocompleterUI&&(0,react.createElement)(AutocompleterUI,{className,filterValue,instanceId,listBoxId,selectedIndex,onChangeOptions:function onChangeOptions(options){setSelectedIndex(options.length===filteredOptions.length?selectedIndex:0),setFilteredOptions(options),function announce(options){debouncedSpeak&&(options.length?debouncedSpeak((0,i18n_build_module.gB)((0,i18n_build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",options.length),options.length),"assertive"):debouncedSpeak((0,i18n_build_module.__)("No results."),"assertive"))}(options)},onSelect:select,value:record,contentRef,reset})}}function useAutocompleteProps(options){const ref=(0,react.useRef)(null),onKeyDownRef=(0,react.useRef)(),{record}=options,previousRecord=function useLastDifferentValue(value){const history=(0,react.useRef)(new Set);return history.current.add(value),history.current.size>2&&history.current.delete(Array.from(history.current)[0]),Array.from(history.current)[0]}(record),{popover,listBoxId,activeId,onKeyDown}=useAutocomplete({...options,contentRef:ref});onKeyDownRef.current=onKeyDown;const mergedRefs=(0,use_merge_refs.Z)([ref,(0,use_ref_effect.Z)((element=>{function _onKeyDown(event){onKeyDownRef.current?.(event)}return element.addEventListener("keydown",_onKeyDown),()=>{element.removeEventListener("keydown",_onKeyDown)}}),[])]);return record.text!==previousRecord?.text?{ref:mergedRefs,children:popover,"aria-autocomplete":listBoxId?"list":void 0,"aria-owns":listBoxId,"aria-activedescendant":activeId}:{ref:mergedRefs}}const block_noop=()=>{};const autocompleters_block=function createBlockCompleter(){return{name:"blocks",className:"block-editor-autocompleters__block",triggerPrefix:"/",useItems(filterValue){const{rootClientId,selectedBlockName,prioritizedBlocks}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId,getBlockName,getBlockInsertionPoint,getBlockListSettings}=select(store),selectedBlockClientId=getSelectedBlockClientId(),_rootClientId=getBlockInsertionPoint().rootClientId;return{selectedBlockName:selectedBlockClientId?getBlockName(selectedBlockClientId):null,rootClientId:_rootClientId,prioritizedBlocks:getBlockListSettings(_rootClientId)?.prioritizedInserterBlocks}}),[]),[items,categories,collections]=use_block_types_state(rootClientId,block_noop),filteredItems=(0,react.useMemo)((()=>(filterValue.trim()?searchBlockItems(items,categories,collections,filterValue):orderInserterBlockItems(orderBy(items,"frecency","desc"),prioritizedBlocks)).filter((item=>item.name!==selectedBlockName)).slice(0,9)),[filterValue,selectedBlockName,items,categories,collections,prioritizedBlocks]),options=(0,react.useMemo)((()=>filteredItems.map((blockItem=>{const{title,icon,isDisabled}=blockItem;return{key:`block-${blockItem.id}`,value:blockItem,label:(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_icon,{key:"icon",icon,showColors:!0}),title),isDisabled}}))),[filteredItems]);return[options]},allowContext:(before,after)=>!(/\S/.test(before)||/\S/.test(after)),getOptionCompletion(inserterItem){const{name,initialAttributes,innerBlocks}=inserterItem;return{action:"replace",value:(0,build_module.j4)(name,initialAttributes,(0,build_module.ne)(innerBlocks))}}}}(),library_post=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"m7.3 9.7 1.4 1.4c.2-.2.3-.3.4-.5 0 0 0-.1.1-.1.3-.5.4-1.1.3-1.6L12 7 9 4 7.2 6.5c-.6-.1-1.1 0-1.6.3 0 0-.1 0-.1.1-.3.1-.4.2-.6.4l1.4 1.4L4 11v1h1l2.3-2.3zM4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4z"}));const autocompleters_link=function createLinkCompleter(){return{name:"links",className:"block-editor-autocompleters__link",triggerPrefix:"[[",options:async letters=>{let options=await(0,api_fetch_build_module.Z)({path:(0,add_query_args.f)("/wp/v2/search",{per_page:10,search:letters,type:"post",order_by:"menu_order"})});return options=options.filter((option=>""!==option.title)),options},getOptionKeywords:item=>[...item.title.split(/\s+/)],getOptionLabel:item=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_icon.Z,{key:"icon",icon:"page"===item.subtype?page.Z:library_post}),item.title),getOptionCompletion:item=>(0,react.createElement)("a",{href:item.url},item.title)}}(),autocomplete_EMPTY_ARRAY=[];function useCompleters({completers=autocomplete_EMPTY_ARRAY}){const{name}=useBlockEditContext();return(0,react.useMemo)((()=>{let filteredCompleters=[...completers,autocompleters_link];return(name===(0,build_module.UT)()||(0,build_module.Dx)(name,"__experimentalSlashInserter",!1))&&(filteredCompleters=[...filteredCompleters,autocompleters_block]),(0,hooks_build_module.H7)("editor.Autocomplete.completers")&&(filteredCompleters===completers&&(filteredCompleters=filteredCompleters.map((completer=>({...completer})))),filteredCompleters=(0,hooks_build_module.O)("editor.Autocomplete.completers",filteredCompleters,name)),filteredCompleters}),[completers,name])}const format_toolbar_POPOVER_PROPS={placement:"bottom-start"},format_toolbar=()=>(0,react.createElement)(react.Fragment,null,["bold","italic","link","unknown"].map((format=>(0,react.createElement)(slot_fill.g7,{name:`RichText.ToolbarControls.${format}`,key:format}))),(0,react.createElement)(slot_fill.g7,{name:"RichText.ToolbarControls"},(fills=>{if(!fills.length)return null;const hasActive=fills.map((([{props}])=>props)).some((({isActive})=>isActive));return(0,react.createElement)(toolbar_item.Z,null,(toggleProps=>(0,react.createElement)(dropdown_menu.Z,{icon:chevron_down.Z,label:(0,i18n_build_module.__)("More"),toggleProps:{...toggleProps,className:classnames_default()(toggleProps.className,{"is-pressed":hasActive}),describedBy:(0,i18n_build_module.__)("Displays more block tools")},controls:orderBy(fills.map((([{props}])=>props)),"title"),popoverProps:format_toolbar_POPOVER_PROPS})))})));function InlineSelectionToolbar({editableContentElement,activeFormats}){const lastFormat=activeFormats[activeFormats.length-1],lastFormatType=lastFormat?.type,settings=(0,use_select.Z)((select=>select(rich_text_build_module.h).getFormatType(lastFormatType)),[lastFormatType]),popoverAnchor=(0,rich_text_build_module.Wb)({editableContentElement,settings});return(0,react.createElement)(InlineToolbar,{popoverAnchor})}function InlineToolbar({popoverAnchor}){return(0,react.createElement)(popover.ZP,{placement:"top",focusOnMount:!1,anchor:popoverAnchor,className:"block-editor-rich-text__inline-format-toolbar",__unstableSlotName:"block-toolbar"},(0,react.createElement)(navigable_toolbar,{className:"block-editor-rich-text__inline-format-toolbar-group","aria-label":(0,i18n_build_module.__)("Format tools")},(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(format_toolbar,null))))}const format_toolbar_container=({inline,editableContentElement,value})=>{const hasInlineToolbar=(0,use_select.Z)((select=>select(store).getSettings().hasInlineToolbar),[]);if(inline)return(0,react.createElement)(InlineToolbar,{popoverAnchor:editableContentElement});if(hasInlineToolbar){const activeFormats=(0,rich_text_build_module.DL)(value);return(0,rich_text_build_module.zb)(value)&&!activeFormats.length?null:(0,react.createElement)(InlineSelectionToolbar,{editableContentElement,activeFormats})}return(0,react.createElement)(block_controls,{group:"inline"},(0,react.createElement)(format_toolbar,null))};function useUndoAutomaticChange(){const{didAutomaticChange,getSettings}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((element=>{function onKeyDown(event){const{keyCode}=event;if(event.defaultPrevented)return;if(keyCode!==keycodes_build_module.yY&&keyCode!==keycodes_build_module.ZH&&keyCode!==keycodes_build_module.hY)return;const{__experimentalUndo}=getSettings();__experimentalUndo&&didAutomaticChange()&&(event.preventDefault(),__experimentalUndo())}return element.addEventListener("keydown",onKeyDown),()=>{element.removeEventListener("keydown",onKeyDown)}}),[])}var shortcode_build_module=__webpack_require__("./packages/shortcode/build-module/index.js");function addActiveFormats(value,activeFormats){if(activeFormats?.length){let index=value.formats.length;for(;index--;)value.formats[index]=[...activeFormats,...value.formats[index]||[]]}}function getMultilineTag(multiline){if(!0===multiline||"p"===multiline||"li"===multiline)return!0===multiline?"p":multiline}function getAllowedFormats({allowedFormats,disableFormats}){return disableFormats?getAllowedFormats.EMPTY_ARRAY:allowedFormats}getAllowedFormats.EMPTY_ARRAY=[];const isShortcode=text=>(0,shortcode_build_module.kd)(".*").test(text);function splitValue({value,pastedBlocks=[],onReplace,onSplit,onSplitMiddle,multilineTag}){if(!onReplace||!onSplit)return;const{start=0,end=0}=value,valueWithEnsuredSelection={...value,start,end},blocks=[],[before,after]=(0,rich_text_build_module.Vl)(valueWithEnsuredSelection),hasPastedBlocks=pastedBlocks.length>0;let lastPastedBlockIndex=-1;const isAfterOriginal=(0,rich_text_build_module.xb)(before)&&!(0,rich_text_build_module.xb)(after);hasPastedBlocks&&(0,rich_text_build_module.xb)(before)||(blocks.push(onSplit((0,rich_text_build_module.Jz)({value:before,multilineTag}),!isAfterOriginal)),lastPastedBlockIndex+=1),hasPastedBlocks?(blocks.push(...pastedBlocks),lastPastedBlockIndex+=pastedBlocks.length):onSplitMiddle&&blocks.push(onSplitMiddle()),(hasPastedBlocks||onSplitMiddle)&&(0,rich_text_build_module.xb)(after)||blocks.push(onSplit((0,rich_text_build_module.Jz)({value:after,multilineTag}),isAfterOriginal));onReplace(blocks,hasPastedBlocks?lastPastedBlockIndex:1,hasPastedBlocks?-1:0)}function shouldDismissPastedFiles(files,html){if(html&&1===files?.length&&0===files[0].type.indexOf("image/")){const IMAGE_TAG=/<\s*img\b/gi;if(1!==html.match(IMAGE_TAG)?.length)return!0;const IMG_WITH_LOCAL_SRC=/<\s*img\b[^>]*\bsrc="file:\/\//i;if(html.match(IMG_WITH_LOCAL_SRC))return!0}return!1}function adjustLines(value,isMultiline){return isMultiline?(0,rich_text_build_module.gx)(value,/\n+/g,rich_text_build_module.M4):(0,rich_text_build_module.gx)(value,new RegExp(rich_text_build_module.M4,"g"),"\n")}function usePasteHandler(props){const propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function _onPaste(event){const{isSelected,disableFormats,onChange,value,formatTypes,tagName,onReplace,onSplit,onSplitMiddle,__unstableEmbedURLOnPaste,multilineTag,preserveWhiteSpace,pastePlainText}=propsRef.current;if(!isSelected)return;const{clipboardData}=event;let plainText="",html="";try{plainText=clipboardData.getData("text/plain"),html=clipboardData.getData("text/html")}catch(error1){try{html=clipboardData.getData("Text")}catch(error2){return}}if(html=function removeWindowsFragments(html){const startStr="\x3c!--StartFragment--\x3e",startIdx=html.indexOf(startStr);if(!(startIdx>-1))return html;html=html.substring(startIdx+startStr.length);const endStr="\x3c!--EndFragment--\x3e",endIdx=html.indexOf(endStr);endIdx>-1&&(html=html.substring(0,endIdx));return html}(html),html=function removeCharsetMetaTag(html){const metaTag="<meta charset='utf-8'>";if(html.startsWith(metaTag))return html.slice(metaTag.length);return html}(html),event.preventDefault(),window.console.log("Received HTML:\n\n",html),window.console.log("Received plain text:\n\n",plainText),disableFormats)return void onChange((0,rich_text_build_module.$T)(value,plainText));const transformed=formatTypes.reduce(((accumlator,{__unstablePasteRule})=>(__unstablePasteRule&&accumlator===value&&(accumlator=__unstablePasteRule(value,{html,plainText})),accumlator)),value);if(transformed!==value)return void onChange(transformed);const files=[...(0,data_transfer.f)(clipboardData)];if("true"===clipboardData.getData("rich-text")){const pastedMultilineTag=clipboardData.getData("rich-text-multi-line-tag")||void 0;let pastedValue=(0,rich_text_build_module.Ue)({html,multilineTag:pastedMultilineTag,multilineWrapperTags:"li"===pastedMultilineTag?["ul","ol"]:void 0,preserveWhiteSpace});return pastedValue=adjustLines(pastedValue,!!multilineTag),addActiveFormats(pastedValue,value.activeFormats),void onChange((0,rich_text_build_module.$T)(value,pastedValue))}if(pastePlainText)return void onChange((0,rich_text_build_module.$T)(value,(0,rich_text_build_module.Ue)({text:plainText})));if(files?.length&&window.console.log("Received items:\n\n",files),files?.length&&!shouldDismissPastedFiles(files,html)){const fromTransforms=(0,build_module.Xn)("from"),blocks=files.reduce(((accumulator,file)=>{const transformation=(0,build_module.MC)(fromTransforms,(transform=>"files"===transform.type&&transform.isMatch([file])));return transformation&&accumulator.push(transformation.transform([file])),accumulator}),[]).flat();if(!blocks.length)return;return void(onReplace&&(0,rich_text_build_module.xb)(value)?onReplace(blocks):splitValue({value,pastedBlocks:blocks,onReplace,onSplit,onSplitMiddle,multilineTag}))}let mode=onReplace&&onSplit?"AUTO":"INLINE";"AUTO"===mode&&(0,rich_text_build_module.xb)(value)&&isShortcode(plainText)&&(mode="BLOCKS"),__unstableEmbedURLOnPaste&&(0,rich_text_build_module.xb)(value)&&(0,is_url.P)(plainText.trim())&&(mode="BLOCKS");const content=(0,build_module.ag)({HTML:html,plainText,mode,tagName,preserveWhiteSpace});if("string"==typeof content){let valueToInsert=(0,rich_text_build_module.Ue)({html:content});valueToInsert=adjustLines(valueToInsert,!!multilineTag),addActiveFormats(valueToInsert,value.activeFormats),onChange((0,rich_text_build_module.$T)(value,valueToInsert))}else content.length>0&&(onReplace&&(0,rich_text_build_module.xb)(value)?onReplace(content,content.length-1,-1):splitValue({value,pastedBlocks:content,onReplace,onSplit,onSplitMiddle,multilineTag}))}return element.addEventListener("paste",_onPaste),()=>{element.removeEventListener("paste",_onPaste)}}),[])}const wrapSelectionSettings=["`",'"',"'","“”","‘’"];function useBeforeInputRules(props){const{__unstableMarkLastChangeAsPersistent,__unstableMarkAutomaticChange}=(0,use_dispatch.Z)(store),propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function onInput(event){const{inputType,data}=event,{value,onChange}=propsRef.current;if("insertText"!==inputType)return;if((0,rich_text_build_module.zb)(value))return;const pair=(0,hooks_build_module.O)("blockEditor.wrapSelectionSettings",wrapSelectionSettings).find((([startChar,endChar])=>startChar===data||endChar===data));if(!pair)return;const[startChar,endChar=startChar]=pair,start=value.start,end=value.end+startChar.length;let newValue=(0,rich_text_build_module.$T)(value,startChar,start,start);newValue=(0,rich_text_build_module.$T)(newValue,endChar,end,end),__unstableMarkLastChangeAsPersistent(),onChange(newValue),__unstableMarkAutomaticChange();const init={};for(const key in event)init[key]=event[key];init.data=endChar;const{ownerDocument}=element,{defaultView}=ownerDocument,newEvent=new defaultView.InputEvent("input",init);window.queueMicrotask((()=>{event.target.dispatchEvent(newEvent)})),event.preventDefault()}return element.addEventListener("beforeinput",onInput),()=>{element.removeEventListener("beforeinput",onInput)}}),[])}function findSelection(blocks){let i=blocks.length;for(;i--;){const attributeKey=retrieveSelectedAttribute(blocks[i].attributes);if(attributeKey)return blocks[i].attributes[attributeKey]=blocks[i].attributes[attributeKey].replace(START_OF_SELECTED_AREA,""),[blocks[i].clientId,attributeKey,0,0];const nestedSelection=findSelection(blocks[i].innerBlocks);if(nestedSelection)return nestedSelection}return[]}function useInputRules(props){const{__unstableMarkLastChangeAsPersistent,__unstableMarkAutomaticChange}=(0,use_dispatch.Z)(store),propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function inputRule(){const{getValue,onReplace,selectionChange}=propsRef.current;if(!onReplace)return;const value=getValue(),{start,text}=value;if(" "!==text.slice(start-1,start))return;const trimmedTextBefore=text.slice(0,start).trim(),prefixTransforms=(0,build_module.Xn)("from").filter((({type})=>"prefix"===type)),transformation=(0,build_module.MC)(prefixTransforms,(({prefix})=>trimmedTextBefore===prefix));if(!transformation)return;const content=(0,rich_text_build_module.Jz)({value:(0,rich_text_build_module.$T)(value,START_OF_SELECTED_AREA,0,start)}),block=transformation.transform(content);return selectionChange(...findSelection([block])),onReplace([block]),__unstableMarkAutomaticChange(),!0}function onInput(event){const{inputType,type}=event,{getValue,onChange,__unstableAllowPrefixTransformations,formatTypes}=propsRef.current;if("insertText"!==inputType&&"compositionend"!==type)return;if(__unstableAllowPrefixTransformations&&inputRule&&inputRule())return;const value=getValue(),transformed=formatTypes.reduce(((accumlator,{__unstableInputRule})=>(__unstableInputRule&&(accumlator=__unstableInputRule(accumlator)),accumlator)),function preventEventDiscovery(value){const{start,text}=value;return start<18||"tales of gutenberg"!==text.slice(start-18,start).toLowerCase()?value:(0,rich_text_build_module.$T)(value," 🐡🐢🦀🐤🦋🐘🐧🐹🦁🦄🦍🐼🐿🎃🐴🐝🐆🦕🦔🌱🍇π🍌🐉💧🥨🌌🍂🍠🥦🥚🥝🎟🥥🥒🛵🥖🍒🍯🎾🎲🐺🐚🐮⌛️")}(value));transformed!==value&&(__unstableMarkLastChangeAsPersistent(),onChange({...transformed,activeFormats:value.activeFormats}),__unstableMarkAutomaticChange())}return element.addEventListener("input",onInput),element.addEventListener("compositionend",onInput),()=>{element.removeEventListener("input",onInput),element.removeEventListener("compositionend",onInput)}}),[])}function useDelete(props){const propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function onKeyDown(event){const{keyCode}=event;if(event.defaultPrevented)return;const{value,onMerge,onRemove}=propsRef.current;if(keyCode===keycodes_build_module.yY||keyCode===keycodes_build_module.ZH){const{start,end,text}=value,isReverse=keyCode===keycodes_build_module.ZH,hasActiveFormats=value.activeFormats&&!!value.activeFormats.length;if(!(0,rich_text_build_module.zb)(value)||hasActiveFormats||isReverse&&0!==start||!isReverse&&end!==text.length)return;onMerge&&onMerge(!isReverse),onRemove&&(0,rich_text_build_module.xb)(value)&&isReverse&&onRemove(!isReverse),event.preventDefault()}}return element.addEventListener("keydown",onKeyDown),()=>{element.removeEventListener("keydown",onKeyDown)}}),[])}function useEnter(props){const{__unstableMarkAutomaticChange}=(0,use_dispatch.Z)(store),propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function onKeyDown(event){if(event.defaultPrevented)return;if(event.keyCode!==keycodes_build_module.K5)return;const{removeEditorOnlyFormats,value,onReplace,onSplit,onSplitMiddle,multilineTag,onChange,disableLineBreaks,onSplitAtEnd}=propsRef.current;event.preventDefault();const _value={...value};_value.formats=removeEditorOnlyFormats(value);const canSplit=onReplace&&onSplit;if(onReplace){const transforms=(0,build_module.Xn)("from").filter((({type})=>"enter"===type)),transformation=(0,build_module.MC)(transforms,(item=>item.regExp.test(_value.text)));transformation&&(onReplace([transformation.transform({content:_value.text})]),__unstableMarkAutomaticChange())}if(multilineTag)event.shiftKey?disableLineBreaks||onChange((0,rich_text_build_module.$T)(_value,"\n")):canSplit&&(0,rich_text_build_module.If)(_value)?splitValue({value:_value,onReplace,onSplit,onSplitMiddle,multilineTag}):onChange((0,rich_text_build_module.cw)(_value));else{const{text,start,end}=_value,canSplitAtEnd=onSplitAtEnd&&start===end&&end===text.length;event.shiftKey||!canSplit&&!canSplitAtEnd?disableLineBreaks||onChange((0,rich_text_build_module.$T)(_value,"\n")):!canSplit&&canSplitAtEnd?onSplitAtEnd():canSplit&&splitValue({value:_value,onReplace,onSplit,onSplitMiddle,multilineTag})}}return element.addEventListener("keydown",onKeyDown),()=>{element.removeEventListener("keydown",onKeyDown)}}),[])}function formatTypesSelector(select){return select(rich_text_build_module.h).getFormatTypes()}const interactiveContentTags=new Set(["a","audio","button","details","embed","iframe","input","label","select","textarea","video"]);function getPrefixedSelectKeys(selected,prefix){return selected[prefix]?selected[prefix]:Object.keys(selected).filter((key=>key.startsWith(prefix+"."))).reduce(((accumulator,key)=>(accumulator[key.slice(prefix.length+1)]=selected[key],accumulator)),{})}function useShortcuts(keyboardShortcuts){return(0,use_ref_effect.Z)((element=>{function onKeyDown(event){for(const keyboardShortcut of keyboardShortcuts.current)keyboardShortcut(event)}return element.addEventListener("keydown",onKeyDown),()=>{element.removeEventListener("keydown",onKeyDown)}}),[])}function useInputEvents(inputEvents){return(0,use_ref_effect.Z)((element=>{function onInput(event){for(const keyboardShortcut of inputEvents.current)keyboardShortcut(event)}return element.addEventListener("input",onInput),()=>{element.removeEventListener("input",onInput)}}),[])}function useInsertReplacementText(){const{__unstableMarkLastChangeAsPersistent}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((element=>{function onInput(event){"insertReplacementText"===event.inputType&&__unstableMarkLastChangeAsPersistent()}return element.addEventListener("beforeinput",onInput),()=>{element.removeEventListener("beforeinput",onInput)}}),[])}function useFirefoxCompat(props){const propsRef=(0,react.useRef)(props);propsRef.current=props;const{isMultiSelecting}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((element=>{function onFocus(){if(!isMultiSelecting())return;const parentEditable=element.parentElement.closest('[contenteditable="true"]');parentEditable&&parentEditable.focus()}function onKeyDown(event){if(event.keyCode!==keycodes_build_module.L_)return;if(null===element.closest("button, summary"))return;const{value,onChange}=propsRef.current;onChange((0,rich_text_build_module.$T)(value," ")),event.preventDefault()}return element.addEventListener("focus",onFocus),element.addEventListener("keydown",onKeyDown),()=>{element.removeEventListener("focus",onFocus),element.removeEventListener("keydown",onKeyDown)}}),[])}function FormatEdit({formatTypes,onChange,onFocus,value,forwardedRef}){return formatTypes.map((settings=>{const{name,edit:Edit}=settings;if(!Edit)return null;const activeFormat=(0,rich_text_build_module.Ye)(value,name),isActive=void 0!==activeFormat,activeObject=(0,rich_text_build_module.Jj)(value),isObjectActive=void 0!==activeObject&&activeObject.type===name;return(0,react.createElement)(Edit,{key:name,isActive,activeAttributes:isActive&&activeFormat.attributes||{},isObjectActive,activeObjectAttributes:isObjectActive&&activeObject.attributes||{},value,onChange,onFocus,contentRef:forwardedRef})}))}const keyboardShortcutContext=(0,react.createContext)(),inputEventContext=(0,react.createContext)();const ForwardedRichTextContainer=(0,react.forwardRef)((function RichTextWrapper({children,tagName="div",value:originalValue="",onChange:originalOnChange,isSelected:originalIsSelected,multiline,inlineToolbar,wrapperClassName,autocompleters,onReplace,placeholder,allowedFormats,withoutInteractiveFormatting,onRemove,onMerge,onSplit,__unstableOnSplitAtEnd:onSplitAtEnd,__unstableOnSplitMiddle:onSplitMiddle,identifier,preserveWhiteSpace,__unstablePastePlainText:pastePlainText,__unstableEmbedURLOnPaste,__unstableDisableFormats:disableFormats,disableLineBreaks,__unstableAllowPrefixTransformations,...props},forwardedRef){multiline&&(0,deprecated_build_module.Z)("wp.blockEditor.RichText multiline prop",{since:"6.1",version:"6.3",alternative:"nested blocks (InnerBlocks)",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/nested-blocks-inner-blocks/"});const instanceId=(0,use_instance_id.Z)(RichTextWrapper);identifier=identifier||instanceId,props=function removeNativeProps(props){const{__unstableMobileNoFocusOnMount,deleteEnter,placeholderTextColor,textAlign,selectionColor,tagsToEliminate,disableEditingMenu,fontSize,fontFamily,fontWeight,fontStyle,minWidth,maxWidth,setRef,disableSuggestions,disableAutocorrection,...restProps}=props;return restProps}(props);const anchorRef=(0,react.useRef)(),{clientId}=useBlockEditContext(),{selectionStart,selectionEnd,isSelected}=(0,use_select.Z)((select=>{const{getSelectionStart,getSelectionEnd}=select(store),selectionStart=getSelectionStart(),selectionEnd=getSelectionEnd();let isSelected;return void 0===originalIsSelected?isSelected=selectionStart.clientId===clientId&&selectionEnd.clientId===clientId&&selectionStart.attributeKey===identifier:originalIsSelected&&(isSelected=selectionStart.clientId===clientId),{selectionStart:isSelected?selectionStart.offset:void 0,selectionEnd:isSelected?selectionEnd.offset:void 0,isSelected}})),{getSelectionStart,getSelectionEnd,getBlockRootClientId}=(0,use_select.Z)(store),{selectionChange}=(0,use_dispatch.Z)(store),multilineTag=getMultilineTag(multiline),adjustedAllowedFormats=getAllowedFormats({allowedFormats,disableFormats}),hasFormats=!adjustedAllowedFormats||adjustedAllowedFormats.length>0;let adjustedValue=originalValue,adjustedOnChange=originalOnChange;Array.isArray(originalValue)&&((0,deprecated_build_module.Z)("wp.blockEditor.RichText value prop as children type",{since:"6.1",version:"6.3",alternative:"value prop as string",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/"}),adjustedValue=build_module.pI.toHTML(originalValue),adjustedOnChange=newValue=>originalOnChange(build_module.pI.fromDOM((0,rich_text_build_module._b)(document,newValue).childNodes)));const onSelectionChange=(0,react.useCallback)(((start,end)=>{const selection={},unset=void 0===start&&void 0===end;if("number"==typeof start||unset){if(void 0===end&&getBlockRootClientId(clientId)!==getBlockRootClientId(getSelectionEnd().clientId))return;selection.start={clientId,attributeKey:identifier,offset:start}}if("number"==typeof end||unset){if(void 0===start&&getBlockRootClientId(clientId)!==getBlockRootClientId(getSelectionStart().clientId))return;selection.end={clientId,attributeKey:identifier,offset:end}}selectionChange(selection)}),[clientId,identifier]),{formatTypes,prepareHandlers,valueHandlers,changeHandlers,dependencies}=function useFormatTypes({clientId,identifier,withoutInteractiveFormatting,allowedFormats}){const allFormatTypes=(0,use_select.Z)(formatTypesSelector,[]),formatTypes=(0,react.useMemo)((()=>allFormatTypes.filter((({name,tagName})=>!(allowedFormats&&!allowedFormats.includes(name)||withoutInteractiveFormatting&&interactiveContentTags.has(tagName))))),[allFormatTypes,allowedFormats,interactiveContentTags]),keyedSelected=(0,use_select.Z)((select=>formatTypes.reduce(((accumulator,type)=>{return type.__experimentalGetPropsForEditableTreePreparation?{...accumulator,...(selected=type.__experimentalGetPropsForEditableTreePreparation(select,{richTextIdentifier:identifier,blockClientId:clientId}),prefix=type.name,"object"!=typeof selected?{[prefix]:selected}:Object.fromEntries(Object.entries(selected).map((([key,value])=>[`${prefix}.${key}`,value]))))}:accumulator;var selected,prefix}),{})),[formatTypes,clientId,identifier]),dispatch=(0,use_dispatch.Z)(),prepareHandlers=[],valueHandlers=[],changeHandlers=[],dependencies=[];for(const key in keyedSelected)dependencies.push(keyedSelected[key]);return formatTypes.forEach((type=>{if(type.__experimentalCreatePrepareEditableTree){const handler=type.__experimentalCreatePrepareEditableTree(getPrefixedSelectKeys(keyedSelected,type.name),{richTextIdentifier:identifier,blockClientId:clientId});type.__experimentalCreateOnChangeEditableValue?valueHandlers.push(handler):prepareHandlers.push(handler)}if(type.__experimentalCreateOnChangeEditableValue){let dispatchers={};type.__experimentalGetPropsForEditableTreeChangeHandler&&(dispatchers=type.__experimentalGetPropsForEditableTreeChangeHandler(dispatch,{richTextIdentifier:identifier,blockClientId:clientId}));const selected=getPrefixedSelectKeys(keyedSelected,type.name);changeHandlers.push(type.__experimentalCreateOnChangeEditableValue({..."object"==typeof selected?selected:{},...dispatchers},{richTextIdentifier:identifier,blockClientId:clientId}))}})),{formatTypes,prepareHandlers,valueHandlers,changeHandlers,dependencies}}({clientId,identifier,withoutInteractiveFormatting,allowedFormats:adjustedAllowedFormats});function removeEditorOnlyFormats(value){return formatTypes.forEach((formatType=>{formatType.__experimentalCreatePrepareEditableTree&&(value=(0,rich_text_build_module.Ir)(value,formatType.name,0,value.text.length))})),value.formats}const{value,getValue,onChange,ref:richTextRef}=(0,rich_text_build_module.o2)({value:adjustedValue,onChange(html,{__unstableFormats,__unstableText}){adjustedOnChange(html),Object.values(changeHandlers).forEach((changeHandler=>{changeHandler(__unstableFormats,__unstableText)}))},selectionStart,selectionEnd,onSelectionChange,placeholder,__unstableIsSelected:isSelected,__unstableMultilineTag:multilineTag,__unstableDisableFormats:disableFormats,preserveWhiteSpace,__unstableDependencies:[...dependencies,tagName],__unstableAfterParse:function addEditorOnlyFormats(value){return valueHandlers.reduce(((accumulator,fn)=>fn(accumulator,value.text)),value.formats)},__unstableBeforeSerialize:removeEditorOnlyFormats,__unstableAddInvisibleFormats:function addInvisibleFormats(value){return prepareHandlers.reduce(((accumulator,fn)=>fn(accumulator,value.text)),value.formats)}}),autocompleteProps=function useBlockEditorAutocompleteProps(props){return useAutocompleteProps({...props,completers:useCompleters(props)})}({onReplace,completers:autocompleters,record:value,onChange});!function useMarkPersistent({html,value}){const previousText=(0,react.useRef)(),hasActiveFormats=value.activeFormats&&!!value.activeFormats.length,{__unstableMarkLastChangeAsPersistent}=(0,use_dispatch.Z)(store);(0,react.useLayoutEffect)((()=>{if(previousText.current){if(previousText.current!==value.text){const timeout=window.setTimeout((()=>{__unstableMarkLastChangeAsPersistent()}),1e3);return previousText.current=value.text,()=>{window.clearTimeout(timeout)}}__unstableMarkLastChangeAsPersistent()}else previousText.current=value.text}),[html,hasActiveFormats])}({html:adjustedValue,value});const keyboardShortcuts=(0,react.useRef)(new Set),inputEvents=(0,react.useRef)(new Set);function onFocus(){anchorRef.current?.focus()}const TagName=tagName;return(0,react.createElement)(react.Fragment,null,isSelected&&(0,react.createElement)(keyboardShortcutContext.Provider,{value:keyboardShortcuts},(0,react.createElement)(inputEventContext.Provider,{value:inputEvents},(0,react.createElement)(popover.ZP.__unstableSlotNameProvider,{value:"__unstable-block-tools-after"},children&&children({value,onChange,onFocus}),(0,react.createElement)(FormatEdit,{value,onChange,onFocus,formatTypes,forwardedRef:anchorRef})))),isSelected&&hasFormats&&(0,react.createElement)(format_toolbar_container,{inline:inlineToolbar,editableContentElement:anchorRef.current,value}),(0,react.createElement)(TagName,(0,esm_extends.Z)({role:"textbox","aria-multiline":!disableLineBreaks,"aria-label":placeholder},props,autocompleteProps,{ref:(0,use_merge_refs.Z)([forwardedRef,autocompleteProps.ref,props.ref,richTextRef,useBeforeInputRules({value,onChange}),useInputRules({getValue,onChange,__unstableAllowPrefixTransformations,formatTypes,onReplace,selectionChange}),useInsertReplacementText(),(0,use_ref_effect.Z)((node=>{function onKeydown(event){(keycodes_build_module.vd.primary(event,"z")||keycodes_build_module.vd.primary(event,"y")||keycodes_build_module.vd.primaryShift(event,"z"))&&event.preventDefault()}return node.addEventListener("keydown",onKeydown),()=>{node.addEventListener("keydown",onKeydown)}}),[]),useShortcuts(keyboardShortcuts),useInputEvents(inputEvents),useUndoAutomaticChange(),usePasteHandler({isSelected,disableFormats,onChange,value,formatTypes,tagName,onReplace,onSplit,onSplitMiddle,__unstableEmbedURLOnPaste,multilineTag,preserveWhiteSpace,pastePlainText}),useDelete({value,onMerge,onRemove}),useEnter({removeEditorOnlyFormats,value,onReplace,onSplit,onSplitMiddle,multilineTag,onChange,disableLineBreaks,onSplitAtEnd}),useFirefoxCompat({value,onChange}),anchorRef]),contentEditable:!0,suppressContentEditableWarning:!0,className:classnames_default()("block-editor-rich-text__editable",props.className,"rich-text")})))}));ForwardedRichTextContainer.Content=({value,tagName:Tag,multiline,...props})=>{Array.isArray(value)&&((0,deprecated_build_module.Z)("wp.blockEditor.RichText value prop as children type",{since:"6.1",version:"6.3",alternative:"value prop as string",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/"}),value=build_module.pI.toHTML(value));const MultilineTag=getMultilineTag(multiline);!value&&MultilineTag&&(value=`<${MultilineTag}></${MultilineTag}>`);const content=(0,react.createElement)(raw_html.Z,null,value);if(Tag){const{format,...restProps}=props;return(0,react.createElement)(Tag,restProps,content)}return content},ForwardedRichTextContainer.isEmpty=value=>!value||0===value.length;const rich_text=ForwardedRichTextContainer,EditableText=(0,react.forwardRef)(((props,ref)=>(0,react.createElement)(rich_text,(0,esm_extends.Z)({ref},props,{__unstableDisableFormats:!0,preserveWhiteSpace:!0}))));EditableText.Content=({value="",tagName:Tag="div",...props})=>(0,react.createElement)(Tag,props,value);const editable_text=EditableText,plain_text=(0,react.forwardRef)((({__experimentalVersion,...props},ref)=>{if(2===__experimentalVersion)return(0,react.createElement)(editable_text,(0,esm_extends.Z)({ref},props));const{className,onChange,...remainingProps}=props;return(0,react.createElement)(lib.Z,(0,esm_extends.Z)({ref,className:classnames_default()("block-editor-plain-text",className),onChange:event=>onChange(event.target.value)},remainingProps))}));function RichTextShortcut({character,type,onUse}){const keyboardShortcuts=(0,react.useContext)(keyboardShortcutContext),onUseRef=(0,react.useRef)();return onUseRef.current=onUse,(0,react.useEffect)((()=>{function callback(event){keycodes_build_module.vd[type](event,character)&&(onUseRef.current(),event.preventDefault())}return keyboardShortcuts.current.add(callback),()=>{keyboardShortcuts.current.delete(callback)}}),[character,type]),null}function RichTextToolbarButton({name,shortcutType,shortcutCharacter,...props}){let shortcut,fillName="RichText.ToolbarControls";return name&&(fillName+=`.${name}`),shortcutType&&shortcutCharacter&&(shortcut=keycodes_build_module.E_[shortcutType](shortcutCharacter)),(0,react.createElement)(slot_fill.de,{name:fillName},(0,react.createElement)(toolbar_button.Z,(0,esm_extends.Z)({},props,{shortcut})))}function __unstableRichTextInputEvent({inputType,onInput}){const callbacks=(0,react.useContext)(inputEventContext),onInputRef=(0,react.useRef)();return onInputRef.current=onInput,(0,react.useEffect)((()=>{function callback(event){event.inputType===inputType&&(onInputRef.current(),event.preventDefault())}return callbacks.current.add(callback),()=>{callbacks.current.delete(callback)}}),[inputType]),null}var library_close=__webpack_require__("./packages/icons/build-module/library/close.js");const NEW_TAB_REL=["noreferrer","noopener"],image_url_input_ui_icon=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M0,0h24v24H0V0z",fill:"none"}),(0,react.createElement)(svg.y$,{d:"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z"}),(0,react.createElement)(svg.y$,{d:"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z"})),ImageURLInputUI=({linkDestination,onChangeUrl,url,mediaType="image",mediaUrl,mediaLink,linkTarget,linkClass,rel})=>{const[isOpen,setIsOpen]=(0,react.useState)(!1),[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null),openLinkUI=(0,react.useCallback)((()=>{setIsOpen(!0)})),[isEditingLink,setIsEditingLink]=(0,react.useState)(!1),[urlInput,setUrlInput]=(0,react.useState)(null),autocompleteRef=(0,react.useRef)(null),startEditLink=(0,react.useCallback)((()=>{"media"!==linkDestination&&"attachment"!==linkDestination||setUrlInput(""),setIsEditingLink(!0)})),stopEditLink=(0,react.useCallback)((()=>{setIsEditingLink(!1)})),closeLinkUI=(0,react.useCallback)((()=>{setUrlInput(null),stopEditLink(),setIsOpen(!1)})),onFocusOutside=(0,react.useCallback)((()=>event=>{const autocompleteElement=autocompleteRef.current;autocompleteElement&&autocompleteElement.contains(event.target)||(setIsOpen(!1),setUrlInput(null),stopEditLink())})),onSubmitLinkChange=(0,react.useCallback)((()=>event=>{if(urlInput){const selectedDestination=getLinkDestinations().find((destination=>destination.url===urlInput))?.linkDestination||"custom";onChangeUrl({href:urlInput,linkDestination:selectedDestination})}stopEditLink(),setUrlInput(null),event.preventDefault()})),onLinkRemove=(0,react.useCallback)((()=>{onChangeUrl({linkDestination:"none",href:""})})),getLinkDestinations=()=>{const linkDestinations=[{linkDestination:"media",title:(0,i18n_build_module.__)("Media File"),url:"image"===mediaType?mediaUrl:void 0,icon:image_url_input_ui_icon}];return"image"===mediaType&&mediaLink&&linkDestinations.push({linkDestination:"attachment",title:(0,i18n_build_module.__)("Attachment Page"),url:"image"===mediaType?mediaLink:void 0,icon:(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M0 0h24v24H0V0z",fill:"none"}),(0,react.createElement)(svg.y$,{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}))}),linkDestinations},advancedOptions=(0,react.createElement)(v_stack_component.Z,{spacing:"3"},(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Open in new tab"),onChange:value=>{const updatedLinkTarget=(value=>{const newLinkTarget=value?"_blank":void 0;let updatedRel;if(newLinkTarget){const rels=(null!=rel?rel:"").split(" ");NEW_TAB_REL.forEach((relVal=>{rels.includes(relVal)||rels.push(relVal)})),updatedRel=rels.join(" ")}else{const rels=(null!=rel?rel:"").split(" ").filter((relVal=>!1===NEW_TAB_REL.includes(relVal)));updatedRel=rels.length?rels.join(" "):void 0}return{linkTarget:newLinkTarget,rel:updatedRel}})(value);onChangeUrl(updatedLinkTarget)},checked:"_blank"===linkTarget}),(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Link rel"),value:null!=rel?rel:"",onChange:value=>{onChangeUrl({rel:value})}}),(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Link CSS Class"),value:linkClass||"",onChange:value=>{onChangeUrl({linkClass:value})}})),linkEditorValue=null!==urlInput?urlInput:url,urlLabel=(getLinkDestinations().find((destination=>destination.linkDestination===linkDestination))||{}).title;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toolbar_button.Z,{icon:library_link.Z,className:"components-toolbar__control",label:url?(0,i18n_build_module.__)("Edit link"):(0,i18n_build_module.__)("Insert link"),"aria-expanded":isOpen,onClick:openLinkUI,ref:setPopoverAnchor}),isOpen&&(0,react.createElement)(url_popover,{anchor:popoverAnchor,onFocusOutside:onFocusOutside(),onClose:closeLinkUI,renderSettings:()=>advancedOptions,additionalControls:!linkEditorValue&&(0,react.createElement)(navigable_container_menu.ZP,null,getLinkDestinations().map((link=>(0,react.createElement)(menu_item.Z,{key:link.linkDestination,icon:link.icon,onClick:()=>{setUrlInput(null),(value=>{const linkDestinations=getLinkDestinations();let linkDestinationInput;linkDestinationInput=value?(linkDestinations.find((destination=>destination.url===value))||{linkDestination:"custom"}).linkDestination:"none",onChangeUrl({linkDestination:linkDestinationInput,href:value})})(link.url),stopEditLink()}},link.title))))},(!url||isEditingLink)&&(0,react.createElement)(url_popover.LinkEditor,{className:"block-editor-format-toolbar__link-container-content",value:linkEditorValue,onChangeInputValue:setUrlInput,onSubmit:onSubmitLinkChange(),autocompleteRef}),url&&!isEditingLink&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(url_popover.LinkViewer,{className:"block-editor-format-toolbar__link-container-content",url,onEditLinkClick:startEditLink,urlLabel}),(0,react.createElement)(build_module_button.ZP,{icon:library_close.Z,label:(0,i18n_build_module.__)("Remove link"),onClick:onLinkRemove}))))},skip_to_selected_block=(0,with_select.Z)((select=>({selectedBlockClientId:select(store).getBlockSelectionStart()})))((({selectedBlockClientId})=>{const ref=useBlockRef(selectedBlockClientId);return selectedBlockClientId?(0,react.createElement)(build_module_button.ZP,{variant:"secondary",className:"block-editor-skip-to-selected-block",onClick:()=>{ref.current.focus()}},(0,i18n_build_module.__)("Skip to the selected block")):null}));var wordcount_build_module=__webpack_require__("./packages/wordcount/build-module/index.js");const multi_selection_inspector=(0,with_select.Z)((select=>{const{getMultiSelectedBlocks}=select(store);return{blocks:getMultiSelectedBlocks()}}))((function MultiSelectionInspector({blocks}){const words=(0,wordcount_build_module.Q)((0,build_module.qC)(blocks),"words");return(0,react.createElement)("div",{className:"block-editor-multi-selection-inspector__card"},(0,react.createElement)(block_icon,{icon:copy.Z,showColors:!0}),(0,react.createElement)("div",{className:"block-editor-multi-selection-inspector__card-content"},(0,react.createElement)("div",{className:"block-editor-multi-selection-inspector__card-title"},(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d Block","%d Blocks",blocks.length),blocks.length)),(0,react.createElement)("div",{className:"block-editor-multi-selection-inspector__card-description"},(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d word selected.","%d words selected.",words),words))))}));var menu_items_choice=__webpack_require__("./packages/components/build-module/menu-items-choice/index.js");function VariationsButtons({className,onSelectVariation,selectedValue,variations}){return(0,react.createElement)("fieldset",{className},(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},(0,i18n_build_module.__)("Transform to variation")),variations.map((variation=>(0,react.createElement)(build_module_button.ZP,{key:variation.name,icon:(0,react.createElement)(block_icon,{icon:variation.icon,showColors:!0}),isPressed:selectedValue===variation.name,label:selectedValue===variation.name?variation.title:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Transform to %s"),variation.title),onClick:()=>onSelectVariation(variation.name),"aria-label":variation.title,showTooltip:!0}))))}function VariationsDropdown({className,onSelectVariation,selectedValue,variations}){const selectOptions=variations.map((({name,title,description})=>({value:name,label:title,info:description})));return(0,react.createElement)(dropdown_menu.Z,{className,label:(0,i18n_build_module.__)("Transform to variation"),text:(0,i18n_build_module.__)("Transform to variation"),popoverProps:{position:"bottom center",className:`${className}__popover`},icon:chevron_down.Z,toggleProps:{iconPosition:"right"}},(()=>(0,react.createElement)("div",{className:`${className}__container`},(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(menu_items_choice.Z,{choices:selectOptions,value:selectedValue,onSelect:onSelectVariation})))))}const block_variation_transforms=function __experimentalBlockVariationTransforms({blockClientId}){const{updateBlockAttributes}=(0,use_dispatch.Z)(store),{activeBlockVariation,variations}=(0,use_select.Z)((select=>{const{getActiveBlockVariation,getBlockVariations}=select(build_module.h),{getBlockName,getBlockAttributes}=select(store),name=blockClientId&&getBlockName(blockClientId);return{activeBlockVariation:getActiveBlockVariation(name,getBlockAttributes(blockClientId)),variations:name&&getBlockVariations(name,"transform")}}),[blockClientId]),selectedValue=activeBlockVariation?.name,hasUniqueIcons=(0,react.useMemo)((()=>{const variationIcons=new Set;return!!variations&&(variations.forEach((variation=>{variation.icon&&variationIcons.add(variation.icon?.src||variation.icon)})),variationIcons.size===variations.length)}),[variations]);if(!variations?.length)return null;const Component=hasUniqueIcons?VariationsButtons:VariationsDropdown;return(0,react.createElement)(Component,{className:"block-editor-block-variation-transforms",onSelectVariation:variationName=>{updateBlockAttributes(blockClientId,{...variations.find((({name})=>name===variationName)).attributes})},selectedValue,variations})};function BlockStylesPreviewPanel({genericPreviewBlock,style,className,activeStyle}){const example=(0,build_module.ck)(genericPreviewBlock.name)?.example,styleClassName=replaceActiveStyle(className,activeStyle,style),previewBlocks=(0,react.useMemo)((()=>({...genericPreviewBlock,title:style.label||style.name,description:style.description,initialAttributes:{...genericPreviewBlock.attributes,className:styleClassName+" block-editor-block-styles__block-preview-container"},example})),[genericPreviewBlock,styleClassName]);return(0,react.createElement)(preview_panel,{item:previewBlocks})}const block_styles_noop=()=>{};function BlockStyles({clientId,onSwitch=block_styles_noop,onHoverClassName=block_styles_noop}){const{onSelect,stylesToRender,activeStyle,genericPreviewBlock,className:previewClassName}=useStylesForBlocks({clientId,onSwitch}),[hoveredStyle,setHoveredStyle]=(0,react.useState)(null),isMobileViewport=(0,use_viewport_match.Z)("medium","<");if(!stylesToRender||0===stylesToRender.length)return null;const debouncedSetHoveredStyle=(0,debounce.D)(setHoveredStyle,250),styleItemHandler=item=>{var _item$name;hoveredStyle!==item?(debouncedSetHoveredStyle(item),onHoverClassName(null!==(_item$name=item?.name)&&void 0!==_item$name?_item$name:null)):debouncedSetHoveredStyle.cancel()};return(0,react.createElement)("div",{className:"block-editor-block-styles"},(0,react.createElement)("div",{className:"block-editor-block-styles__variants"},stylesToRender.map((style=>{const buttonText=style.isDefault?(0,i18n_build_module.__)("Default"):style.label||style.name;return(0,react.createElement)(build_module_button.ZP,{className:classnames_default()("block-editor-block-styles__item",{"is-active":activeStyle.name===style.name}),key:style.name,variant:"secondary",label:buttonText,onMouseEnter:()=>styleItemHandler(style),onFocus:()=>styleItemHandler(style),onMouseLeave:()=>styleItemHandler(null),onBlur:()=>styleItemHandler(null),onClick:()=>(style=>{onSelect(style),onHoverClassName(null),setHoveredStyle(null),debouncedSetHoveredStyle.cancel()})(style),"aria-current":activeStyle.name===style.name},(0,react.createElement)(truncate_component.Z,{numberOfLines:1,className:"block-editor-block-styles__item-text"},buttonText))}))),hoveredStyle&&!isMobileViewport&&(0,react.createElement)(popover.ZP,{placement:"left-start",offset:20,focusOnMount:!1},(0,react.createElement)("div",{className:"block-editor-block-styles__preview-panel",onMouseLeave:()=>styleItemHandler(null)},(0,react.createElement)(BlockStylesPreviewPanel,{activeStyle,className:previewClassName,genericPreviewBlock,style:hoveredStyle}))))}const block_styles=BlockStyles;function DefaultStylePicker({blockName}){const{preferredStyle,onUpdatePreferredStyleVariations,styles}=(0,use_select.Z)((select=>{var _preferredStyleVariat;const preferredStyleVariations=select(store).getSettings().__experimentalPreferredStyleVariations;return{preferredStyle:preferredStyleVariations?.value?.[blockName],onUpdatePreferredStyleVariations:null!==(_preferredStyleVariat=preferredStyleVariations?.onChange)&&void 0!==_preferredStyleVariat?_preferredStyleVariat:null,styles:select(build_module.h).getBlockStyles(blockName)}}),[blockName]),selectOptions=(0,react.useMemo)((()=>[{label:(0,i18n_build_module.__)("Not set"),value:""},...styles.map((({label,name})=>({label,value:name})))]),[styles]),defaultStyleName=(0,react.useMemo)((()=>getDefaultStyle(styles)?.name),[styles]),selectOnChange=(0,react.useCallback)((blockStyle=>{onUpdatePreferredStyleVariations(blockName,blockStyle)}),[blockName,onUpdatePreferredStyleVariations]);return preferredStyle&&preferredStyle!==defaultStyleName?onUpdatePreferredStyleVariations&&(0,react.createElement)("div",{className:"default-style-picker__default-switcher"},(0,react.createElement)(select_control.Z,{__nextHasNoMarginBottom:!0,options:selectOptions,value:preferredStyle||"",label:(0,i18n_build_module.__)("Default Style"),onChange:selectOnChange})):null}BlockStyles.Slot=()=>((0,deprecated_build_module.Z)("BlockStyles.Slot",{version:"6.4",since:"6.2"}),null);const library_cog=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));var styles=__webpack_require__("./packages/icons/build-module/library/styles.js");const list_view=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})),TAB_SETTINGS={name:"settings",title:(0,i18n_build_module.__)("Settings"),value:"settings",icon:library_cog,className:"block-editor-block-inspector__tab-item"},TAB_STYLES={name:"styles",title:(0,i18n_build_module.__)("Styles"),value:"styles",icon:styles.Z,className:"block-editor-block-inspector__tab-item"},TAB_LIST_VIEW={name:"list",title:(0,i18n_build_module.__)("List View"),value:"list-view",icon:list_view,className:"block-editor-block-inspector__tab-item"},advanced_controls_panel=()=>{const fills=(0,use_slot_fills.Z)(InspectorAdvancedControls.slotName);return Boolean(fills&&fills.length)?(0,react.createElement)(body.ZP,{className:"block-editor-block-inspector__advanced",title:(0,i18n_build_module.__)("Advanced"),initialOpen:!1},(0,react.createElement)(inspector_controls.Slot,{group:"advanced"})):null},PositionControlsPanel=()=>{const[initialOpen,setInitialOpen]=(0,react.useState)(),{multiSelectedBlocks}=(0,use_select.Z)((select=>{const{getBlocksByClientId,getSelectedBlockClientIds}=select(store);return{multiSelectedBlocks:getBlocksByClientId(getSelectedBlockClientIds())}}),[]);return(0,react.useLayoutEffect)((()=>{void 0===initialOpen&&setInitialOpen(multiSelectedBlocks.some((({attributes})=>!!attributes?.style?.position?.type)))}),[initialOpen,multiSelectedBlocks,setInitialOpen]),(0,react.createElement)(body.ZP,{className:"block-editor-block-inspector__position",title:(0,i18n_build_module.__)("Position"),initialOpen:null!=initialOpen&&initialOpen},(0,react.createElement)(inspector_controls.Slot,{group:"position"}))},position_controls_panel=()=>{const fills=(0,use_slot_fills.Z)(inspector_controls_groups.position.Slot.__unstableName);return Boolean(fills&&fills.length)?(0,react.createElement)(PositionControlsPanel,null):null};var build_module_store=__webpack_require__("./packages/preferences/build-module/store/index.js");function InspectorControlsTabsHint(){const isInspectorControlsTabsHintVisible=(0,use_select.Z)((select=>{var _select$get;return null===(_select$get=select(build_module_store.h).get("core","isInspectorControlsTabsHintVisible"))||void 0===_select$get||_select$get}),[]),ref=(0,react.useRef)(),{set:setPreference}=(0,use_dispatch.Z)(build_module_store.h);return isInspectorControlsTabsHintVisible?(0,react.createElement)("div",{ref,className:"block-editor-inspector-controls-tabs__hint"},(0,react.createElement)("div",{className:"block-editor-inspector-controls-tabs__hint-content"},(0,i18n_build_module.__)("Looking for other block settings? They've moved to the styles tab.")),(0,react.createElement)(build_module_button.ZP,{className:"block-editor-inspector-controls-tabs__hint-dismiss",icon:library_close.Z,iconSize:"16",label:(0,i18n_build_module.__)("Dismiss hint"),onClick:()=>{const previousElement=dom_build_module.T_.tabbable.findPrevious(ref.current);previousElement?.focus(),setPreference("core","isInspectorControlsTabsHintVisible",!1)},showTooltip:!1})):null}const settings_tab=({showAdvancedControls=!1})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inspector_controls.Slot,null),(0,react.createElement)(position_controls_panel,null),showAdvancedControls&&(0,react.createElement)("div",null,(0,react.createElement)(advanced_controls_panel,null)),(0,react.createElement)(InspectorControlsTabsHint,null)),styles_tab=({blockName,clientId,hasBlockStyles})=>(0,react.createElement)(react.Fragment,null,hasBlockStyles&&(0,react.createElement)("div",null,(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Styles")},(0,react.createElement)(block_styles,{clientId}),(0,build_module.zb)(blockName,"defaultStylePicker",!0)&&(0,react.createElement)(DefaultStylePicker,{blockName}))),(0,react.createElement)(inspector_controls.Slot,{group:"color",label:(0,i18n_build_module.__)("Color"),className:"color-block-support-panel__inner-wrapper"}),(0,react.createElement)(inspector_controls.Slot,{group:"filter"}),(0,react.createElement)(inspector_controls.Slot,{group:"typography",label:(0,i18n_build_module.__)("Typography")}),(0,react.createElement)(inspector_controls.Slot,{group:"dimensions",label:(0,i18n_build_module.__)("Dimensions")}),(0,react.createElement)(inspector_controls.Slot,{group:"border",label:(0,i18n_build_module.__)("Border")}),(0,react.createElement)(inspector_controls.Slot,{group:"styles"})),allowlist=["core/navigation"],use_is_list_view_tab_disabled=blockName=>!allowlist.includes(blockName);function InspectorControlsTabs({blockName,clientId,hasBlockStyles,tabs}){const initialTabName=use_is_list_view_tab_disabled(blockName)?void 0:TAB_LIST_VIEW.name;return(0,react.createElement)(tab_panel.Z,{className:"block-editor-block-inspector__tabs",tabs,initialTabName,key:clientId},(tab=>tab.name===TAB_SETTINGS.name?(0,react.createElement)(settings_tab,{showAdvancedControls:!!blockName}):tab.name===TAB_STYLES.name?(0,react.createElement)(styles_tab,{blockName,clientId,hasBlockStyles}):tab.name===TAB_LIST_VIEW.name?(0,react.createElement)(inspector_controls.Slot,{group:"list"}):void 0))}const use_inspector_controls_tabs_EMPTY_ARRAY=[];function useInspectorControlsTabs(blockName){const tabs=[],{border:borderGroup,color:colorGroup,default:defaultGroup,dimensions:dimensionsGroup,list:listGroup,position:positionGroup,styles:stylesGroup,typography:typographyGroup}=inspector_controls_groups,listViewDisabled=use_is_list_view_tab_disabled(blockName),listFills=(0,use_slot_fills.Z)(listGroup.Slot.__unstableName),hasListFills=!listViewDisabled&&!!listFills&&listFills.length,hasStyleFills=[...(0,use_slot_fills.Z)(borderGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(colorGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(dimensionsGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(stylesGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(typographyGroup.Slot.__unstableName)||[]].length,advancedFills=(0,use_slot_fills.Z)(InspectorAdvancedControls.slotName)||[],settingsFills=[...(0,use_slot_fills.Z)(defaultGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(positionGroup.Slot.__unstableName)||[],...hasListFills&&hasStyleFills>1?advancedFills:[]];hasListFills&&tabs.push(TAB_LIST_VIEW),settingsFills.length&&tabs.push(TAB_SETTINGS),hasStyleFills&&tabs.push(TAB_STYLES);const showTabs=function getShowTabs(blockName,tabSettings={}){return void 0!==tabSettings[blockName]?tabSettings[blockName]:void 0===tabSettings.default||tabSettings.default}(blockName,(0,use_select.Z)((select=>select(store).getSettings().blockInspectorTabs),[]));return showTabs?tabs:use_inspector_controls_tabs_EMPTY_ARRAY}const{createPrivateSlotFill}=unlock(private_apis.YH),{Fill:block_info_slot_fill_Fill,Slot:block_info_slot_fill_Slot}=createPrivateSlotFill("BlockInformation"),BlockInfo=props=>useDisplayBlockControls()?(0,react.createElement)(block_info_slot_fill_Fill,props):null;BlockInfo.Slot=props=>(0,react.createElement)(block_info_slot_fill_Slot,props);const block_info_slot_fill=BlockInfo;function BlockQuickNavigation({clientIds}){return clientIds.length?(0,react.createElement)(v_stack_component.Z,{spacing:1},clientIds.map((clientId=>(0,react.createElement)(BlockQuickNavigationItem,{key:clientId,clientId})))):null}function BlockQuickNavigationItem({clientId}){const{name,icon,isSelected}=(0,use_select.Z)((select=>{const{getBlockName,getBlockAttributes,isBlockSelected,hasSelectedInnerBlock}=select(store),{getBlockType}=select(build_module.h),blockType=getBlockType(getBlockName(clientId)),attributes=getBlockAttributes(clientId);return{name:blockType&&(0,build_module.Iu)(blockType,attributes,"list-view"),icon:blockType?.icon,isSelected:isBlockSelected(clientId)||hasSelectedInnerBlock(clientId,!0)}}),[clientId]),{selectBlock}=(0,use_dispatch.Z)(store);return(0,react.createElement)(build_module_button.ZP,{isPressed:isSelected,onClick:()=>selectBlock(clientId)},(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(block_icon,{icon}),(0,react.createElement)(flex_item_component.Z,null,name)))}function BlockInspectorLockedBlocks({topLevelLockedBlock}){const contentClientIds=(0,use_select.Z)((select=>{const{getClientIdsOfDescendants,getBlockName,getBlockEditingMode}=unlock(select(store));return getClientIdsOfDescendants([topLevelLockedBlock]).filter((clientId=>"core/list-item"!==getBlockName(clientId)&&"contentOnly"===getBlockEditingMode(clientId)))}),[topLevelLockedBlock]),blockInformation=useBlockDisplayInformation(topLevelLockedBlock);return(0,react.createElement)("div",{className:"block-editor-block-inspector"},(0,react.createElement)(block_card,(0,esm_extends.Z)({},blockInformation,{className:blockInformation.isSynced&&"is-synced"})),(0,react.createElement)(block_variation_transforms,{blockClientId:topLevelLockedBlock}),(0,react.createElement)(block_info_slot_fill.Slot,null),(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Content")},(0,react.createElement)(BlockQuickNavigation,{clientIds:contentClientIds})))}const BlockInspectorSingleBlockWrapper=({animate,wrapper,children})=>animate?wrapper(children):children,AnimatedContainer=({blockInspectorAnimationSettings,selectedBlockClientId,children})=>{const animationOrigin=blockInspectorAnimationSettings&&"leftToRight"===blockInspectorAnimationSettings.enterDirection?-50:50;return(0,react.createElement)(motion.E.div,{animate:{x:0,opacity:1,transition:{ease:"easeInOut",duration:.14}},initial:{x:animationOrigin,opacity:0},key:selectedBlockClientId},children)},BlockInspectorSingleBlock=({clientId,blockName})=>{const availableTabs=useInspectorControlsTabs(blockName),showTabs=availableTabs?.length>1,hasBlockStyles=(0,use_select.Z)((select=>{const{getBlockStyles}=select(build_module.h),blockStyles=getBlockStyles(blockName);return blockStyles&&blockStyles.length>0}),[blockName]),blockInformation=useBlockDisplayInformation(clientId);return(0,react.createElement)("div",{className:"block-editor-block-inspector"},(0,react.createElement)(block_card,(0,esm_extends.Z)({},blockInformation,{className:blockInformation.isSynced&&"is-synced"})),(0,react.createElement)(block_variation_transforms,{blockClientId:clientId}),(0,react.createElement)(block_info_slot_fill.Slot,null),showTabs&&(0,react.createElement)(InspectorControlsTabs,{hasBlockStyles,clientId,blockName,tabs:availableTabs}),!showTabs&&(0,react.createElement)(react.Fragment,null,hasBlockStyles&&(0,react.createElement)("div",null,(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Styles")},(0,react.createElement)(block_styles,{clientId}),(0,build_module.zb)(blockName,"defaultStylePicker",!0)&&(0,react.createElement)(DefaultStylePicker,{blockName}))),(0,react.createElement)(inspector_controls.Slot,null),(0,react.createElement)(inspector_controls.Slot,{group:"list"}),(0,react.createElement)(inspector_controls.Slot,{group:"color",label:(0,i18n_build_module.__)("Color"),className:"color-block-support-panel__inner-wrapper"}),(0,react.createElement)(inspector_controls.Slot,{group:"typography",label:(0,i18n_build_module.__)("Typography")}),(0,react.createElement)(inspector_controls.Slot,{group:"dimensions",label:(0,i18n_build_module.__)("Dimensions")}),(0,react.createElement)(inspector_controls.Slot,{group:"border",label:(0,i18n_build_module.__)("Border")}),(0,react.createElement)(inspector_controls.Slot,{group:"styles"}),(0,react.createElement)(position_controls_panel,null),(0,react.createElement)("div",null,(0,react.createElement)(advanced_controls_panel,null))),(0,react.createElement)(skip_to_selected_block,{key:"back"}))},block_inspector=({showNoBlockSelectedMessage=!0})=>{const{count,selectedBlockName,selectedBlockClientId,blockType,topLevelLockedBlock}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId,getSelectedBlockCount,getBlockName,__unstableGetContentLockingParent,getTemplateLock}=select(store),_selectedBlockClientId=getSelectedBlockClientId(),_selectedBlockName=_selectedBlockClientId&&getBlockName(_selectedBlockClientId),_blockType=_selectedBlockName&&(0,build_module.ck)(_selectedBlockName);return{count:getSelectedBlockCount(),selectedBlockClientId:_selectedBlockClientId,selectedBlockName:_selectedBlockName,blockType:_blockType,topLevelLockedBlock:__unstableGetContentLockingParent(_selectedBlockClientId)||("contentOnly"===getTemplateLock(_selectedBlockClientId)?_selectedBlockClientId:void 0)}}),[]),availableTabs=useInspectorControlsTabs(blockType?.name),showTabs=availableTabs?.length>1,blockInspectorAnimationSettings=function useBlockInspectorAnimationSettings(blockType,selectedBlockClientId){return(0,use_select.Z)((select=>{if(blockType){const globalBlockInspectorAnimationSettings=select(store).getSettings().blockInspectorAnimation,animationParent=globalBlockInspectorAnimationSettings?.animationParent,{getSelectedBlockClientId,getBlockParentsByBlockName}=select(store);return getBlockParentsByBlockName(getSelectedBlockClientId(),animationParent,!0)[0]||blockType.name===animationParent?globalBlockInspectorAnimationSettings?.[blockType.name]:null}return null}),[selectedBlockClientId,blockType])}(blockType,selectedBlockClientId);if(count>1)return(0,react.createElement)("div",{className:"block-editor-block-inspector"},(0,react.createElement)(multi_selection_inspector,null),showTabs?(0,react.createElement)(InspectorControlsTabs,{tabs:availableTabs}):(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inspector_controls.Slot,null),(0,react.createElement)(inspector_controls.Slot,{group:"color",label:(0,i18n_build_module.__)("Color"),className:"color-block-support-panel__inner-wrapper"}),(0,react.createElement)(inspector_controls.Slot,{group:"typography",label:(0,i18n_build_module.__)("Typography")}),(0,react.createElement)(inspector_controls.Slot,{group:"dimensions",label:(0,i18n_build_module.__)("Dimensions")}),(0,react.createElement)(inspector_controls.Slot,{group:"border",label:(0,i18n_build_module.__)("Border")}),(0,react.createElement)(inspector_controls.Slot,{group:"styles"})));const isSelectedBlockUnregistered=selectedBlockName===(0,build_module.qy)();return blockType&&selectedBlockClientId&&!isSelectedBlockUnregistered?topLevelLockedBlock?(0,react.createElement)(BlockInspectorLockedBlocks,{topLevelLockedBlock}):(0,react.createElement)(BlockInspectorSingleBlockWrapper,{animate:blockInspectorAnimationSettings,wrapper:children=>(0,react.createElement)(AnimatedContainer,{blockInspectorAnimationSettings,selectedBlockClientId},children)},(0,react.createElement)(BlockInspectorSingleBlock,{clientId:selectedBlockClientId,blockName:blockType.name})):showNoBlockSelectedMessage?(0,react.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,i18n_build_module.__)("No block selected.")):null};const zoom_out_mode_inserters=function ZoomOutModeInserters({__unstableContentRef}){const[isReady,setIsReady]=(0,react.useState)(!1),blockOrder=(0,use_select.Z)((select=>select(store).getBlockOrder()),[]);return(0,react.useEffect)((()=>{const timeout=setTimeout((()=>{setIsReady(!0)}),500);return()=>{clearTimeout(timeout)}}),[]),isReady?blockOrder.map(((clientId,index)=>index===blockOrder.length-1?null:(0,react.createElement)(inbetween,{key:clientId,previousClientId:clientId,nextClientId:blockOrder[index+1],__unstableContentRef},(0,react.createElement)("div",{className:"block-editor-block-list__insertion-point-inserter is-with-inserter"},(0,react.createElement)(inserter,{position:"bottom center",clientId:blockOrder[index+1],__experimentalIsQuick:!0}))))):null};function block_tools_selector(select){const{__unstableGetEditorMode,getSettings,isTyping}=select(store);return{isZoomOutMode:"zoom-out"===__unstableGetEditorMode(),hasFixedToolbar:getSettings().hasFixedToolbar,isTyping:isTyping()}}function BlockTools({children,__unstableContentRef,...props}){const isLargeViewport=(0,use_viewport_match.Z)("medium"),{hasFixedToolbar,isZoomOutMode,isTyping}=(0,use_select.Z)(block_tools_selector,[]),isMatch=(0,keyboard_shortcuts_build_module.sx)(),{getSelectedBlockClientIds,getBlockRootClientId}=(0,use_select.Z)(store),{duplicateBlocks,removeBlocks,insertAfterBlock,insertBeforeBlock,clearSelectedBlock,moveBlocksUp,moveBlocksDown}=(0,use_dispatch.Z)(store);const blockToolbarRef=use_popover_scroll(__unstableContentRef),blockToolbarAfterRef=use_popover_scroll(__unstableContentRef);return(0,react.createElement)("div",(0,esm_extends.Z)({},props,{onKeyDown:function onKeyDown(event){if(!event.defaultPrevented)if(isMatch("core/block-editor/move-up",event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();const rootClientId=getBlockRootClientId(clientIds[0]);moveBlocksUp(clientIds,rootClientId)}}else if(isMatch("core/block-editor/move-down",event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();const rootClientId=getBlockRootClientId(clientIds[0]);moveBlocksDown(clientIds,rootClientId)}}else if(isMatch("core/block-editor/duplicate",event)){const clientIds=getSelectedBlockClientIds();clientIds.length&&(event.preventDefault(),duplicateBlocks(clientIds))}else if(isMatch("core/block-editor/remove",event)){const clientIds=getSelectedBlockClientIds();clientIds.length&&(event.preventDefault(),removeBlocks(clientIds))}else if(isMatch("core/block-editor/insert-after",event)){const clientIds=getSelectedBlockClientIds();clientIds.length&&(event.preventDefault(),insertAfterBlock(clientIds[clientIds.length-1]))}else if(isMatch("core/block-editor/insert-before",event)){const clientIds=getSelectedBlockClientIds();clientIds.length&&(event.preventDefault(),insertBeforeBlock(clientIds[0]))}else if(isMatch("core/block-editor/unselect",event)){getSelectedBlockClientIds().length&&(event.preventDefault(),clearSelectedBlock(),event.target.ownerDocument.defaultView.getSelection().removeAllRanges(),__unstableContentRef?.current.focus())}}}),(0,react.createElement)(insertion_point_InsertionPointOpenRef.Provider,{value:(0,react.useRef)(!1)},!isTyping&&(0,react.createElement)(InsertionPoint,{__unstableContentRef}),!isZoomOutMode&&(hasFixedToolbar||!isLargeViewport)&&(0,react.createElement)(block_contextual_toolbar,{isFixed:!0}),(0,react.createElement)(WrappedBlockPopover,{__unstableContentRef}),(0,react.createElement)(popover.ZP.Slot,{name:"block-toolbar",ref:blockToolbarRef}),children,(0,react.createElement)(popover.ZP.Slot,{name:"__unstable-block-tools-after",ref:blockToolbarAfterRef}),isZoomOutMode&&(0,react.createElement)(zoom_out_mode_inserters,{__unstableContentRef})))}function KeyboardShortcuts(){return null}KeyboardShortcuts.Register=function KeyboardShortcutsRegister(){const{registerShortcut}=(0,use_dispatch.Z)(keyboard_shortcuts_build_module.h);return(0,react.useEffect)((()=>{registerShortcut({name:"core/block-editor/duplicate",category:"block",description:(0,i18n_build_module.__)("Duplicate the selected block(s)."),keyCombination:{modifier:"primaryShift",character:"d"}}),registerShortcut({name:"core/block-editor/remove",category:"block",description:(0,i18n_build_module.__)("Remove the selected block(s)."),keyCombination:{modifier:"access",character:"z"}}),registerShortcut({name:"core/block-editor/insert-before",category:"block",description:(0,i18n_build_module.__)("Insert a new block before the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"t"}}),registerShortcut({name:"core/block-editor/insert-after",category:"block",description:(0,i18n_build_module.__)("Insert a new block after the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"y"}}),registerShortcut({name:"core/block-editor/delete-multi-selection",category:"block",description:(0,i18n_build_module.__)("Delete selection."),keyCombination:{character:"del"},aliases:[{character:"backspace"}]}),registerShortcut({name:"core/block-editor/select-all",category:"selection",description:(0,i18n_build_module.__)("Select all text when typing. Press again to select all blocks."),keyCombination:{modifier:"primary",character:"a"}}),registerShortcut({name:"core/block-editor/unselect",category:"selection",description:(0,i18n_build_module.__)("Clear selection."),keyCombination:{character:"escape"}}),registerShortcut({name:"core/block-editor/focus-toolbar",category:"global",description:(0,i18n_build_module.__)("Navigate to the nearest toolbar."),keyCombination:{modifier:"alt",character:"F10"}}),registerShortcut({name:"core/block-editor/move-up",category:"block",description:(0,i18n_build_module.__)("Move the selected block(s) up."),keyCombination:{modifier:"secondary",character:"t"}}),registerShortcut({name:"core/block-editor/move-down",category:"block",description:(0,i18n_build_module.__)("Move the selected block(s) down."),keyCombination:{modifier:"secondary",character:"y"}})}),[registerShortcut]),null};const keyboard_shortcuts=KeyboardShortcuts,KEY_DOWN_ELIGIBLE_KEY_CODES=new Set([keycodes_build_module.UP,keycodes_build_module.pX,keycodes_build_module.WV,keycodes_build_module.RL,keycodes_build_module.K5,keycodes_build_module.ZH]);function useTypingObserver(){const{isTyping,hasInlineToolbar}=(0,use_select.Z)((select=>{const{isTyping:_isTyping,getSettings}=select(store);return{isTyping:_isTyping(),hasInlineToolbar:getSettings().hasInlineToolbar}}),[]),{startTyping,stopTyping}=(0,use_dispatch.Z)(store),ref1=function useMouseMoveTypingReset(){const isTyping=(0,use_select.Z)((select=>select(store).isTyping()),[]),{stopTyping}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{if(!isTyping)return;const{ownerDocument}=node;let lastClientX,lastClientY;function stopTypingOnMouseMove(event){const{clientX,clientY}=event;lastClientX&&lastClientY&&(lastClientX!==clientX||lastClientY!==clientY)&&stopTyping(),lastClientX=clientX,lastClientY=clientY}return ownerDocument.addEventListener("mousemove",stopTypingOnMouseMove),()=>{ownerDocument.removeEventListener("mousemove",stopTypingOnMouseMove)}}),[isTyping,stopTyping])}(),ref2=(0,use_ref_effect.Z)((node=>{const{ownerDocument}=node,{defaultView}=ownerDocument,selection=defaultView.getSelection();if(isTyping){let timerId;function stopTypingOnNonTextField(event){const{target}=event;timerId=defaultView.setTimeout((()=>{(0,is_text_field.Z)(target)||stopTyping()}))}function stopTypingOnEscapeKey(event){const{keyCode}=event;keyCode!==keycodes_build_module.hY&&keyCode!==keycodes_build_module.Mf||stopTyping()}function stopTypingOnSelectionUncollapse(){selection.isCollapsed||stopTyping()}return node.addEventListener("focus",stopTypingOnNonTextField),node.addEventListener("keydown",stopTypingOnEscapeKey),hasInlineToolbar||ownerDocument.addEventListener("selectionchange",stopTypingOnSelectionUncollapse),()=>{defaultView.clearTimeout(timerId),node.removeEventListener("focus",stopTypingOnNonTextField),node.removeEventListener("keydown",stopTypingOnEscapeKey),ownerDocument.removeEventListener("selectionchange",stopTypingOnSelectionUncollapse)}}function startTypingInTextField(event){const{type,target}=event;(0,is_text_field.Z)(target)&&node.contains(target)&&("keydown"!==type||function isKeyDownEligibleForStartTyping(event){const{keyCode,shiftKey}=event;return!shiftKey&&KEY_DOWN_ELIGIBLE_KEY_CODES.has(keyCode)}(event))&&startTyping()}return node.addEventListener("keypress",startTypingInTextField),node.addEventListener("keydown",startTypingInTextField),()=>{node.removeEventListener("keypress",startTypingInTextField),node.removeEventListener("keydown",startTypingInTextField)}}),[isTyping,hasInlineToolbar,startTyping,stopTyping]);return(0,use_merge_refs.Z)([ref1,ref2])}const observe_typing=function ObserveTyping({children}){return(0,react.createElement)("div",{ref:useTypingObserver()},children)},RenderedRefsContext=(0,react.createContext)({});function RecursionProvider({children,uniqueId,blockName=""}){const previouslyRenderedBlocks=(0,react.useContext)(RenderedRefsContext),{name}=useBlockEditContext();blockName=blockName||name;const newRenderedBlocks=(0,react.useMemo)((()=>function addToBlockType(renderedBlocks,blockName,uniqueId){const result={...renderedBlocks,[blockName]:renderedBlocks[blockName]?new Set(renderedBlocks[blockName]):new Set};return result[blockName].add(uniqueId),result}(previouslyRenderedBlocks,blockName,uniqueId)),[previouslyRenderedBlocks,blockName,uniqueId]);return(0,react.createElement)(RenderedRefsContext.Provider,{value:newRenderedBlocks},children)}function useHasRecursion(uniqueId,blockName=""){const previouslyRenderedBlocks=(0,react.useContext)(RenderedRefsContext),{name}=useBlockEditContext();return blockName=blockName||name,Boolean(previouslyRenderedBlocks[blockName]?.has(uniqueId))}var index_es=__webpack_require__("./node_modules/use-lilius/build/index.es.js"),startOfDay=__webpack_require__("./packages/components/node_modules/date-fns/esm/startOfDay/index.js"),subMonths=__webpack_require__("./packages/components/node_modules/date-fns/esm/subMonths/index.js"),format=__webpack_require__("./packages/components/node_modules/date-fns/esm/format/index.js"),addMonths=__webpack_require__("./packages/components/node_modules/date-fns/esm/addMonths/index.js"),isSameMonth=__webpack_require__("./packages/components/node_modules/date-fns/esm/isSameMonth/index.js"),isEqual=__webpack_require__("./packages/components/node_modules/date-fns/esm/isEqual/index.js"),isSameDay=__webpack_require__("./packages/components/node_modules/date-fns/esm/isSameDay/index.js"),addDays=__webpack_require__("./packages/components/node_modules/date-fns/esm/addDays/index.js"),subWeeks=__webpack_require__("./packages/components/node_modules/date-fns/esm/subWeeks/index.js"),addWeeks=__webpack_require__("./packages/components/node_modules/date-fns/esm/addWeeks/index.js"),startOfWeek=__webpack_require__("./packages/components/node_modules/date-fns/esm/startOfWeek/index.js"),endOfWeek=__webpack_require__("./packages/components/node_modules/date-fns/esm/endOfWeek/index.js"),arrow_left=__webpack_require__("./packages/icons/build-module/library/arrow-left.js");const styles_Wrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e105ri6r5"})({name:"1khn195",styles:"box-sizing:border-box"}),Navigator=(0,emotion_styled_base_browser_esm.Z)(h_stack_component.Z,{target:"e105ri6r4"})("margin-bottom:",(0,space.D)(4),";"),NavigatorHeading=(0,emotion_styled_base_browser_esm.Z)(heading_component.Z,{target:"e105ri6r3"})("font-size:",config_values.Z.fontSize,";font-weight:",config_values.Z.fontWeight,";strong{font-weight:",config_values.Z.fontWeightHeading,";}"),Calendar=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e105ri6r2"})("column-gap:",(0,space.D)(2),";display:grid;grid-template-columns:0.5fr repeat( 5, 1fr ) 0.5fr;justify-items:center;row-gap:",(0,space.D)(2),";"),DayOfWeek=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e105ri6r1"})("color:",colors_values.D.gray[700],";font-size:",config_values.Z.fontSize,";line-height:",config_values.Z.fontLineHeightBase,";&:nth-of-type( 1 ){justify-self:start;}&:nth-of-type( 7 ){justify-self:end;}"),DayButton=(0,emotion_styled_base_browser_esm.Z)(build_module_button.ZP,{shouldForwardProp:prop=>!["column","isSelected","isToday","hasEvents"].includes(prop),target:"e105ri6r0"})("grid-column:",(props=>props.column),";position:relative;justify-content:center;",(props=>1===props.column&&"\n\t\tjustify-self: start;\n\t\t")," ",(props=>7===props.column&&"\n\t\tjustify-self: end;\n\t\t")," ",(props=>props.disabled&&"\n\t\tpointer-events: none;\n\t\t")," &&&{border-radius:100%;height:",(0,space.D)(7),";width:",(0,space.D)(7),";",(props=>props.isSelected&&`\n\t\t\tbackground: ${colors_values.D.ui.theme};\n\t\t\tcolor: ${colors_values.D.white};\n\t\t\t`)," ",(props=>!props.isSelected&&props.isToday&&`\n\t\t\tbackground: ${colors_values.D.gray[200]};\n\t\t\t`),";}",(props=>props.hasEvents&&`\n\t\t::before {\n\t\t\tbackground: ${props.isSelected?colors_values.D.white:colors_values.D.ui.theme};\n\t\t\tborder-radius: 2px;\n\t\t\tbottom: 0;\n\t\t\tcontent: " ";\n\t\t\theight: 4px;\n\t\t\tleft: 50%;\n\t\t\tmargin-left: -2px;\n\t\t\tposition: absolute;\n\t\t\twidth: 4px;\n\t\t}\n\t\t`),";");var toDate=__webpack_require__("./packages/components/node_modules/date-fns/esm/toDate/index.js");function inputToDate(input){return"string"==typeof input?new Date(input):(0,toDate.Z)(input)}function Day({day,column,isSelected,isFocusable,isFocusAllowed,isToday,isInvalid,numEvents,onClick,onKeyDown}){const ref=(0,react.useRef)();return(0,react.useEffect)((()=>{ref.current&&isFocusable&&isFocusAllowed&&ref.current.focus()}),[isFocusable]),(0,react.createElement)(DayButton,{ref,className:"components-datetime__date__day",disabled:isInvalid,tabIndex:isFocusable?0:-1,"aria-label":getDayLabel(day,isSelected,numEvents),column,isSelected,isToday,hasEvents:numEvents>0,onClick,onKeyDown},(0,date_build_module.K_)("j",day,-day.getTimezoneOffset()))}function getDayLabel(date,isSelected,numEvents){const{formats}=(0,date_build_module.Gw)(),localizedDate=(0,date_build_module.K_)(formats.date,date,-date.getTimezoneOffset());return isSelected&&numEvents>0?(0,i18n_build_module.gB)((0,i18n_build_module._n)("%1$s. Selected. There is %2$d event","%1$s. Selected. There are %2$d events",numEvents),localizedDate,numEvents):isSelected?(0,i18n_build_module.gB)((0,i18n_build_module.__)("%1$s. Selected"),localizedDate):numEvents>0?(0,i18n_build_module.gB)((0,i18n_build_module._n)("%1$s. There is %2$d event","%1$s. There are %2$d events",numEvents),localizedDate,numEvents):localizedDate}const date=function DatePicker({currentDate,onChange,events=[],isInvalidDate,onMonthPreviewed,startOfWeek:weekStartsOn=0}){const date=currentDate?inputToDate(currentDate):new Date,{calendar,viewing,setSelected,setViewing,isSelected,viewPreviousMonth,viewNextMonth}=(0,index_es.YA)({selected:[(0,startOfDay.Z)(date)],viewing:(0,startOfDay.Z)(date),weekStartsOn}),[focusable,setFocusable]=(0,react.useState)((0,startOfDay.Z)(date)),[isFocusWithinCalendar,setIsFocusWithinCalendar]=(0,react.useState)(!1),[prevCurrentDate,setPrevCurrentDate]=(0,react.useState)(currentDate);return currentDate!==prevCurrentDate&&(setPrevCurrentDate(currentDate),setSelected([(0,startOfDay.Z)(date)]),setViewing((0,startOfDay.Z)(date)),setFocusable((0,startOfDay.Z)(date))),(0,react.createElement)(styles_Wrapper,{className:"components-datetime__date",role:"application","aria-label":(0,i18n_build_module.__)("Calendar")},(0,react.createElement)(Navigator,null,(0,react.createElement)(build_module_button.ZP,{icon:(0,i18n_build_module.dZ)()?arrow_right.Z:arrow_left.Z,variant:"tertiary","aria-label":(0,i18n_build_module.__)("View previous month"),onClick:()=>{viewPreviousMonth(),setFocusable((0,subMonths.Z)(focusable,1)),onMonthPreviewed?.((0,format.Z)((0,subMonths.Z)(viewing,1),"yyyy-MM-dd'T'HH:mm:ss"))}}),(0,react.createElement)(NavigatorHeading,{level:3},(0,react.createElement)("strong",null,(0,date_build_module.K_)("F",viewing,-viewing.getTimezoneOffset()))," ",(0,date_build_module.K_)("Y",viewing,-viewing.getTimezoneOffset())),(0,react.createElement)(build_module_button.ZP,{icon:(0,i18n_build_module.dZ)()?arrow_left.Z:arrow_right.Z,variant:"tertiary","aria-label":(0,i18n_build_module.__)("View next month"),onClick:()=>{viewNextMonth(),setFocusable((0,addMonths.Z)(focusable,1)),onMonthPreviewed?.((0,format.Z)((0,addMonths.Z)(viewing,1),"yyyy-MM-dd'T'HH:mm:ss"))}})),(0,react.createElement)(Calendar,{onFocus:()=>setIsFocusWithinCalendar(!0),onBlur:()=>setIsFocusWithinCalendar(!1)},calendar[0][0].map((day=>(0,react.createElement)(DayOfWeek,{key:day.toString()},(0,date_build_module.K_)("D",day,-day.getTimezoneOffset())))),calendar[0].map((week=>week.map(((day,index)=>(0,isSameMonth.Z)(day,viewing)?(0,react.createElement)(Day,{key:day.toString(),day,column:index+1,isSelected:isSelected(day),isFocusable:(0,isEqual.Z)(day,focusable),isFocusAllowed:isFocusWithinCalendar,isToday:(0,isSameDay.Z)(day,new Date),isInvalid:!!isInvalidDate&&isInvalidDate(day),numEvents:events.filter((event=>(0,isSameDay.Z)(event.date,day))).length,onClick:()=>{setSelected([day]),setFocusable(day),onChange?.((0,format.Z)(new Date(day.getFullYear(),day.getMonth(),day.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()),"yyyy-MM-dd'T'HH:mm:ss"))},onKeyDown:event=>{let nextFocusable;"ArrowLeft"===event.key&&(nextFocusable=(0,addDays.Z)(day,(0,i18n_build_module.dZ)()?1:-1)),"ArrowRight"===event.key&&(nextFocusable=(0,addDays.Z)(day,(0,i18n_build_module.dZ)()?-1:1)),"ArrowUp"===event.key&&(nextFocusable=(0,subWeeks.Z)(day,1)),"ArrowDown"===event.key&&(nextFocusable=(0,addWeeks.Z)(day,1)),"PageUp"===event.key&&(nextFocusable=(0,subMonths.Z)(day,1)),"PageDown"===event.key&&(nextFocusable=(0,addMonths.Z)(day,1)),"Home"===event.key&&(nextFocusable=(0,startOfWeek.Z)(day)),"End"===event.key&&(nextFocusable=(0,startOfDay.Z)((0,endOfWeek.Z)(day))),nextFocusable&&(event.preventDefault(),setFocusable(nextFocusable),(0,isSameMonth.Z)(nextFocusable,viewing)||(setViewing(nextFocusable),onMonthPreviewed?.((0,format.Z)(nextFocusable,"yyyy-MM-dd'T'HH:mm:ss"))))}}):null))))))};var startOfMinute=__webpack_require__("./packages/components/node_modules/date-fns/esm/startOfMinute/index.js"),set=__webpack_require__("./packages/components/node_modules/date-fns/esm/set/index.js"),setHours=__webpack_require__("./packages/components/node_modules/date-fns/esm/setHours/index.js"),setMonth=__webpack_require__("./packages/components/node_modules/date-fns/esm/setMonth/index.js"),input_control_styles=__webpack_require__("./packages/components/build-module/input-control/styles/input-control-styles.js"),select_control_styles=__webpack_require__("./packages/components/build-module/select-control/styles/select-control-styles.js");const time_styles_Wrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"evcr23110"})("box-sizing:border-box;font-size:",config_values.Z.fontSize,";"),Fieldset=(0,emotion_styled_base_browser_esm.Z)("fieldset",{target:"evcr2319"})("border:0;margin:0 0 ",(0,space.D)(4)," 0;padding:0;&:last-child{margin-bottom:0;}"),TimeWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"evcr2318"})({name:"pd0mhc",styles:"direction:ltr;display:flex"}),baseInput=(0,emotion_react_browser_esm.iv)("&&& ",input_control_styles.II,"{padding-left:",(0,space.D)(2),";padding-right:",(0,space.D)(2),";text-align:center;}","","",""),HoursInput=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"evcr2317"})(baseInput," width:",(0,space.D)(9),";&&& ",input_control_styles.II,"{padding-right:0;}&&& ",input_control_styles.Kg,"{border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;}"),TimeSeparator=(0,emotion_styled_base_browser_esm.Z)("span",{target:"evcr2316"})("border-top:",config_values.Z.borderWidth," solid ",colors_values.D.gray[700],";border-bottom:",config_values.Z.borderWidth," solid ",colors_values.D.gray[700],";line-height:calc(\n\t\t",config_values.Z.controlHeight," - ",config_values.Z.borderWidth," * 2\n\t);display:inline-block;"),MinutesInput=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"evcr2315"})(baseInput," width:",(0,space.D)(9),";&&& ",input_control_styles.II,"{padding-left:0;}&&& ",input_control_styles.Kg,"{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;}"),MonthSelectWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"evcr2314"})({name:"1ff36h2",styles:"flex-grow:1"}),MonthSelect=(0,emotion_styled_base_browser_esm.Z)(select_control.Z,{target:"evcr2313"})("height:36px;",select_control_styles.Ph,"{line-height:30px;}"),DayInput=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"evcr2312"})(baseInput," width:",(0,space.D)(9),";"),YearInput=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"evcr2311"})(baseInput," width:",(0,space.D)(14),";"),TimeZone=(0,emotion_styled_base_browser_esm.Z)("div",{target:"evcr2310"})({name:"ebu3jh",styles:"text-decoration:underline dotted"}),timezone=()=>{const{timezone}=(0,date_build_module.Gw)(),userTimezoneOffset=(new Date).getTimezoneOffset()/60*-1;if(Number(timezone.offset)===userTimezoneOffset)return null;const offsetSymbol=Number(timezone.offset)>=0?"+":"",zoneAbbr=""!==timezone.abbr&&isNaN(Number(timezone.abbr))?timezone.abbr:`UTC${offsetSymbol}${timezone.offset}`,timezoneDetail="UTC"===timezone.string?(0,i18n_build_module.__)("Coordinated Universal Time"):`(${zoneAbbr}) ${timezone.string.replace("_"," ")}`;return(0,react.createElement)(tooltip.Z,{position:"top center",text:timezoneDetail},(0,react.createElement)(TimeZone,{className:"components-datetime__timezone"},zoneAbbr))};var actions=__webpack_require__("./packages/components/build-module/input-control/reducer/actions.js");function from12hTo24h(hours,isPm){return isPm?(hours%12+12)%24:hours%12}function buildPadInputStateReducer(pad){return(state,action)=>{const nextState={...state};return action.type!==actions.g&&action.type!==actions.Oh&&action.type!==actions.LX||void 0!==nextState.value&&(nextState.value=nextState.value.toString().padStart(pad,"0")),nextState}}const time=function TimePicker({is12Hour,currentTime,onChange}){const[date,setDate]=(0,react.useState)((()=>currentTime?(0,startOfMinute.Z)(inputToDate(currentTime)):new Date));(0,react.useEffect)((()=>{setDate(currentTime?(0,startOfMinute.Z)(inputToDate(currentTime)):new Date)}),[currentTime]);const{day,month,year,minutes,hours,am}=(0,react.useMemo)((()=>({day:(0,format.Z)(date,"dd"),month:(0,format.Z)(date,"MM"),year:(0,format.Z)(date,"yyyy"),minutes:(0,format.Z)(date,"mm"),hours:(0,format.Z)(date,is12Hour?"hh":"HH"),am:(0,format.Z)(date,"a")})),[date,is12Hour]),buildNumberControlChangeCallback=method=>(value,{event})=>{if(!(event.target instanceof HTMLInputElement))return;if(!event.target.validity.valid)return;let numberValue=Number(value);"hours"===method&&is12Hour&&(numberValue=from12hTo24h(numberValue,"PM"===am));const newDate=(0,set.Z)(date,{[method]:numberValue});setDate(newDate),onChange?.((0,format.Z)(newDate,"yyyy-MM-dd'T'HH:mm:ss"))};function buildAmPmChangeCallback(value){return()=>{if(am===value)return;const parsedHours=parseInt(hours,10),newDate=(0,setHours.Z)(date,from12hTo24h(parsedHours,"PM"===value));setDate(newDate),onChange?.((0,format.Z)(newDate,"yyyy-MM-dd'T'HH:mm:ss"))}}const dayField=(0,react.createElement)(DayInput,{className:"components-datetime__time-field components-datetime__time-field-day",label:(0,i18n_build_module.__)("Day"),hideLabelFromVision:!0,__next36pxDefaultSize:!0,value:day,step:1,min:1,max:31,required:!0,spinControls:"none",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,onChange:buildNumberControlChangeCallback("date")}),monthField=(0,react.createElement)(MonthSelectWrapper,null,(0,react.createElement)(MonthSelect,{className:"components-datetime__time-field components-datetime__time-field-month",label:(0,i18n_build_module.__)("Month"),hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,value:month,options:[{value:"01",label:(0,i18n_build_module.__)("January")},{value:"02",label:(0,i18n_build_module.__)("February")},{value:"03",label:(0,i18n_build_module.__)("March")},{value:"04",label:(0,i18n_build_module.__)("April")},{value:"05",label:(0,i18n_build_module.__)("May")},{value:"06",label:(0,i18n_build_module.__)("June")},{value:"07",label:(0,i18n_build_module.__)("July")},{value:"08",label:(0,i18n_build_module.__)("August")},{value:"09",label:(0,i18n_build_module.__)("September")},{value:"10",label:(0,i18n_build_module.__)("October")},{value:"11",label:(0,i18n_build_module.__)("November")},{value:"12",label:(0,i18n_build_module.__)("December")}],onChange:value=>{const newDate=(0,setMonth.Z)(date,Number(value)-1);setDate(newDate),onChange?.((0,format.Z)(newDate,"yyyy-MM-dd'T'HH:mm:ss"))}}));return(0,react.createElement)(time_styles_Wrapper,{className:"components-datetime__time"},(0,react.createElement)(Fieldset,null,(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend",className:"components-datetime__time-legend"},(0,i18n_build_module.__)("Time")),(0,react.createElement)(h_stack_component.Z,{className:"components-datetime__time-wrapper"},(0,react.createElement)(TimeWrapper,{className:"components-datetime__time-field components-datetime__time-field-time"},(0,react.createElement)(HoursInput,{className:"components-datetime__time-field-hours-input",label:(0,i18n_build_module.__)("Hours"),hideLabelFromVision:!0,__next36pxDefaultSize:!0,value:hours,step:1,min:is12Hour?1:0,max:is12Hour?12:23,required:!0,spinControls:"none",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,onChange:buildNumberControlChangeCallback("hours"),__unstableStateReducer:buildPadInputStateReducer(2)}),(0,react.createElement)(TimeSeparator,{className:"components-datetime__time-separator","aria-hidden":"true"},":"),(0,react.createElement)(MinutesInput,{className:"components-datetime__time-field-minutes-input",label:(0,i18n_build_module.__)("Minutes"),hideLabelFromVision:!0,__next36pxDefaultSize:!0,value:minutes,step:1,min:0,max:59,required:!0,spinControls:"none",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,onChange:buildNumberControlChangeCallback("minutes"),__unstableStateReducer:buildPadInputStateReducer(2)})),is12Hour&&(0,react.createElement)(button_group.Z,{className:"components-datetime__time-field components-datetime__time-field-am-pm"},(0,react.createElement)(build_module_button.ZP,{className:"components-datetime__time-am-button",variant:"AM"===am?"primary":"secondary",onClick:buildAmPmChangeCallback("AM")},(0,i18n_build_module.__)("AM")),(0,react.createElement)(build_module_button.ZP,{className:"components-datetime__time-pm-button",variant:"PM"===am?"primary":"secondary",onClick:buildAmPmChangeCallback("PM")},(0,i18n_build_module.__)("PM"))),(0,react.createElement)(spacer_component.Z,null),(0,react.createElement)(timezone,null))),(0,react.createElement)(Fieldset,null,(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend",className:"components-datetime__time-legend"},(0,i18n_build_module.__)("Date")),(0,react.createElement)(h_stack_component.Z,{className:"components-datetime__time-wrapper"},is12Hour?(0,react.createElement)(react.Fragment,null,monthField,dayField):(0,react.createElement)(react.Fragment,null,dayField,monthField),(0,react.createElement)(YearInput,{className:"components-datetime__time-field components-datetime__time-field-year",label:(0,i18n_build_module.__)("Year"),hideLabelFromVision:!0,__next36pxDefaultSize:!0,value:year,step:1,min:1,max:9999,required:!0,spinControls:"none",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,onChange:buildNumberControlChangeCallback("year"),__unstableStateReducer:buildPadInputStateReducer(4)}))))};const date_time_styles_Wrapper=(0,emotion_styled_base_browser_esm.Z)(v_stack_component.Z,{target:"e1p5onf00"})({name:"1khn195",styles:"box-sizing:border-box"}),date_time_noop=()=>{};const DateTimePicker=(0,react.forwardRef)((function UnforwardedDateTimePicker({currentDate,is12Hour,isInvalidDate,onMonthPreviewed=date_time_noop,onChange,events,startOfWeek},ref){return(0,react.createElement)(date_time_styles_Wrapper,{ref,className:"components-datetime",spacing:4},(0,react.createElement)(react.Fragment,null,(0,react.createElement)(time,{currentTime:currentDate,onChange,is12Hour}),(0,react.createElement)(date,{currentDate,onChange,isInvalidDate,events,onMonthPreviewed,startOfWeek})))})),build_module_date_time=DateTimePicker;function InspectorPopoverHeader({title,help,actions=[],onClose}){return(0,react.createElement)(v_stack_component.Z,{className:"block-editor-inspector-popover-header",spacing:4},(0,react.createElement)(h_stack_component.Z,{alignment:"center"},(0,react.createElement)(heading_component.Z,{className:"block-editor-inspector-popover-header__heading",level:2,size:13},title),(0,react.createElement)(spacer_component.Z,null),actions.map((({label,icon,onClick})=>(0,react.createElement)(build_module_button.ZP,{key:label,className:"block-editor-inspector-popover-header__action",label,icon,variant:!icon&&"tertiary",onClick},!icon&&label))),onClose&&(0,react.createElement)(build_module_button.ZP,{className:"block-editor-inspector-popover-header__action",label:(0,i18n_build_module.__)("Close"),icon:close_small.Z,onClick:onClose})),help&&(0,react.createElement)(text_component.Z,null,help))}const publish_date_time_picker=(0,react.forwardRef)((function PublishDateTimePicker({onClose,onChange,...additionalProps},ref){return(0,react.createElement)("div",{ref,className:"block-editor-publish-date-time-picker"},(0,react.createElement)(InspectorPopoverHeader,{title:(0,i18n_build_module.__)("Publish"),actions:[{label:(0,i18n_build_module.__)("Now"),onClick:()=>onChange?.(null)}],onClose}),(0,react.createElement)(build_module_date_time,(0,esm_extends.Z)({startOfWeek:(0,date_build_module.Gw)().l10n.startOfWeek,onChange},additionalProps)))})),ELEMENT_CLASS_NAMES={button:"wp-element-button",caption:"wp-element-caption"},__experimentalGetElementClassName=element=>ELEMENT_CLASS_NAMES[element]?ELEMENT_CLASS_NAMES[element]:"";function matchesAttributes(blockAttributes,variation){return Object.entries(variation).every((([key,value])=>"object"==typeof value&&"object"==typeof blockAttributes[key]?matchesAttributes(blockAttributes[key],value):blockAttributes[key]===value))}const __experimentalGetMatchingVariation=(blockAttributes,variations)=>{if(!variations||!blockAttributes)return;const matches=variations.filter((({attributes})=>!(!attributes||!Object.keys(attributes).length)&&matchesAttributes(blockAttributes,attributes)));return 1===matches.length?matches[0]:void 0},BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS={__experimentalBorder:"border",color:"color",spacing:"spacing",typography:"typography"};function compileStyleValue(uncompiledValue){if(uncompiledValue?.startsWith?.("var:")){return`var(--wp--${uncompiledValue.slice(4).split("|").join("--")})`}return uncompiledValue}function flattenTree(input={},prefix,token){let result=[];return Object.keys(input).forEach((key=>{const newKey=prefix+(0,lodash.kebabCase)(key.replace("/","-")),newLeaf=input[key];if(newLeaf instanceof Object){const newPrefix=newKey+token;result=[...result,...flattenTree(newLeaf,newPrefix,token)]}else result.push(`${newKey}: ${newLeaf}`)})),result}const getFeatureDeclarations=(selectors,styles)=>{const declarations={};return Object.entries(selectors).forEach((([feature,selector])=>{if("root"===feature||!styles?.[feature])return;const isShorthand="string"==typeof selector;if(isShorthand||Object.entries(selector).forEach((([subfeature,subfeatureSelector])=>{if("root"===subfeature||!styles?.[feature][subfeature])return;const newDeclarations=getStylesDeclarations({[feature]:{[subfeature]:styles[feature][subfeature]}});declarations[subfeatureSelector]=[...declarations[subfeatureSelector]||[],...newDeclarations],delete styles[feature][subfeature]})),isShorthand||selector.root){const featureSelector=isShorthand?selector:selector.root,newDeclarations=getStylesDeclarations({[feature]:styles[feature]});declarations[featureSelector]=[...declarations[featureSelector]||[],...newDeclarations],delete styles[feature]}})),declarations};function getStylesDeclarations(blockStyles={},selector="",useRootPaddingAlign,tree={}){const isRoot=ROOT_BLOCK_SELECTOR===selector,output=Object.entries(build_module.$L).reduce(((declarations,[key,{value,properties,useEngine,rootOnly}])=>{if(rootOnly&&!isRoot)return declarations;const pathToValue=value;if("elements"===pathToValue[0]||useEngine)return declarations;const styleValue=(0,lodash.get)(blockStyles,pathToValue);if("--wp--style--root--padding"===key&&("string"==typeof styleValue||!useRootPaddingAlign))return declarations;if(properties&&"string"!=typeof styleValue)Object.entries(properties).forEach((entry=>{const[name,prop]=entry;if(!(0,lodash.get)(styleValue,[prop],!1))return;const cssProperty=name.startsWith("--")?name:(0,lodash.kebabCase)(name);declarations.push(`${cssProperty}: ${compileStyleValue((0,lodash.get)(styleValue,[prop]))}`)}));else if((0,lodash.get)(blockStyles,pathToValue,!1)){const cssProperty=key.startsWith("--")?key:(0,lodash.kebabCase)(key);declarations.push(`${cssProperty}: ${compileStyleValue((0,lodash.get)(blockStyles,pathToValue))}`)}return declarations}),[]);return(0,style_engine_build_module.R)(blockStyles).forEach((rule=>{if(isRoot&&useRootPaddingAlign&&rule.key.startsWith("padding"))return;const cssProperty=rule.key.startsWith("--")?rule.key:(0,lodash.kebabCase)(rule.key);let ruleValue=rule.value;if("string"!=typeof ruleValue&&ruleValue?.ref){const refPath=ruleValue.ref.split(".");if(ruleValue=(0,lodash.get)(tree,refPath),!ruleValue||ruleValue?.ref)return}"font-size"===cssProperty&&(ruleValue=getTypographyFontSizeValue({size:ruleValue},getFluidTypographyOptionsFromSettings(tree?.settings))),output.push(`${cssProperty}: ${ruleValue}`)})),output}function getLayoutStyles({layoutDefinitions=LAYOUT_DEFINITIONS,style,selector,hasBlockGapSupport,hasFallbackGapSupport,fallbackGapValue}){let ruleset="",gapValue=hasBlockGapSupport?getGapCSSValue(style?.spacing?.blockGap):"";if(hasFallbackGapSupport&&(selector===ROOT_BLOCK_SELECTOR?gapValue=gapValue||"0.5em":!hasBlockGapSupport&&fallbackGapValue&&(gapValue=fallbackGapValue)),gapValue&&layoutDefinitions&&(Object.values(layoutDefinitions).forEach((({className,name,spacingStyles})=>{(hasBlockGapSupport||"flex"===name||"grid"===name)&&spacingStyles?.length&&spacingStyles.forEach((spacingStyle=>{const declarations=[];if(spacingStyle.rules&&Object.entries(spacingStyle.rules).forEach((([cssProperty,cssValue])=>{declarations.push(`${cssProperty}: ${cssValue||gapValue}`)})),declarations.length){let combinedSelector="";combinedSelector=hasBlockGapSupport?selector===ROOT_BLOCK_SELECTOR?`:where(${selector} .${className})${spacingStyle?.selector||""}`:`${selector}-${className}${spacingStyle?.selector||""}`:selector===ROOT_BLOCK_SELECTOR?`:where(.${className}${spacingStyle?.selector||""})`:`:where(${selector}.${className}${spacingStyle?.selector||""})`,ruleset+=`${combinedSelector} { ${declarations.join("; ")}; }`}}))})),selector===ROOT_BLOCK_SELECTOR&&hasBlockGapSupport&&(ruleset+=`${selector} { --wp--style--block-gap: ${gapValue}; }`)),selector===ROOT_BLOCK_SELECTOR&&layoutDefinitions){const validDisplayModes=["block","flex","grid"];Object.values(layoutDefinitions).forEach((({className,displayMode,baseStyles})=>{displayMode&&validDisplayModes.includes(displayMode)&&(ruleset+=`${selector} .${className} { display:${displayMode}; }`),baseStyles?.length&&baseStyles.forEach((baseStyle=>{const declarations=[];if(baseStyle.rules&&Object.entries(baseStyle.rules).forEach((([cssProperty,cssValue])=>{declarations.push(`${cssProperty}: ${cssValue}`)})),declarations.length){ruleset+=`${`${selector} .${className}${baseStyle?.selector||""}`} { ${declarations.join("; ")}; }`}}))}))}return ruleset}const STYLE_KEYS=["border","color","dimensions","spacing","typography","filter","outline","shadow"];function pickStyleKeys(treeToPickFrom){if(!treeToPickFrom)return{};const clonedEntries=Object.entries(treeToPickFrom).filter((([key])=>STYLE_KEYS.includes(key))).map((([key,style])=>[key,JSON.parse(JSON.stringify(style))]));return Object.fromEntries(clonedEntries)}const getNodesWithSettings=(tree,blockSelectors)=>{var _tree$settings$blocks;const nodes=[];if(!tree?.settings)return nodes;const pickPresets=treeToPickFrom=>{const presets={};return PRESET_METADATA.forEach((({path})=>{const value=(0,lodash.get)(treeToPickFrom,path,!1);!1!==value&&(0,lodash.set)(presets,path,value)})),presets},presets=pickPresets(tree.settings),custom=tree.settings?.custom;return(Object.keys(presets).length>0||custom)&&nodes.push({presets,custom,selector:ROOT_BLOCK_SELECTOR}),Object.entries(null!==(_tree$settings$blocks=tree.settings?.blocks)&&void 0!==_tree$settings$blocks?_tree$settings$blocks:{}).forEach((([blockName,node])=>{const blockPresets=pickPresets(node),blockCustom=node.custom;(Object.keys(blockPresets).length>0||blockCustom)&&nodes.push({presets:blockPresets,custom:blockCustom,selector:blockSelectors[blockName]?.selector})})),nodes},toCustomProperties=(tree,blockSelectors)=>{const settings=getNodesWithSettings(tree,blockSelectors);let ruleset="";return settings.forEach((({presets,custom,selector})=>{const declarations=function getPresetsDeclarations(blockPresets={},mergedSettings){return PRESET_METADATA.reduce(((declarations,{path,valueKey,valueFunc,cssVarInfix})=>{const presetByOrigin=(0,lodash.get)(blockPresets,path,[]);return["default","theme","custom"].forEach((origin=>{presetByOrigin[origin]&&presetByOrigin[origin].forEach((value=>{valueKey&&!valueFunc?declarations.push(`--wp--preset--${cssVarInfix}--${(0,lodash.kebabCase)(value.slug)}: ${value[valueKey]}`):valueFunc&&"function"==typeof valueFunc&&declarations.push(`--wp--preset--${cssVarInfix}--${(0,lodash.kebabCase)(value.slug)}: ${valueFunc(value,mergedSettings)}`)}))})),declarations}),[])}(presets,tree?.settings),customProps=flattenTree(custom,"--wp--custom--","--");customProps.length>0&&declarations.push(...customProps),declarations.length>0&&(ruleset+=`${selector}{${declarations.join(";")};}`)})),ruleset},toStyles=(tree,blockSelectors,hasBlockGapSupport,hasFallbackGapSupport,disableLayoutStyles=!1)=>{const nodesWithStyles=((tree,blockSelectors)=>{var _tree$styles$blocks;const nodes=[];if(!tree?.styles)return nodes;const styles=pickStyleKeys(tree.styles);return styles&&nodes.push({styles,selector:ROOT_BLOCK_SELECTOR}),Object.entries(build_module.qO).forEach((([name,selector])=>{tree.styles?.elements?.[name]&&nodes.push({styles:tree.styles?.elements?.[name],selector})})),Object.entries(null!==(_tree$styles$blocks=tree.styles?.blocks)&&void 0!==_tree$styles$blocks?_tree$styles$blocks:{}).forEach((([blockName,node])=>{var _node$elements;const blockStyles=pickStyleKeys(node);if(node?.variations){const variations={};Object.keys(node.variations).forEach((variation=>{variations[variation]=pickStyleKeys(node.variations[variation])})),blockStyles.variations=variations}blockStyles&&blockSelectors?.[blockName]?.selector&&nodes.push({duotoneSelector:blockSelectors[blockName].duotoneSelector,fallbackGapValue:blockSelectors[blockName].fallbackGapValue,hasLayoutSupport:blockSelectors[blockName].hasLayoutSupport,selector:blockSelectors[blockName].selector,styles:blockStyles,featureSelectors:blockSelectors[blockName].featureSelectors,styleVariationSelectors:blockSelectors[blockName].styleVariationSelectors}),Object.entries(null!==(_node$elements=node?.elements)&&void 0!==_node$elements?_node$elements:{}).forEach((([elementName,value])=>{value&&blockSelectors?.[blockName]&&build_module.qO[elementName]&&nodes.push({styles:value,selector:blockSelectors[blockName]?.selector.split(",").map((sel=>build_module.qO[elementName].split(",").map((elementSelector=>sel+" "+elementSelector)))).join(",")})}))})),nodes})(tree,blockSelectors),nodesWithSettings=getNodesWithSettings(tree,blockSelectors),useRootPaddingAlign=tree?.settings?.useRootPaddingAwareAlignments,{contentSize,wideSize}=tree?.settings?.layout||{};let ruleset="body {margin: 0;";if(contentSize&&(ruleset+=` --wp--style--global--content-size: ${contentSize};`),wideSize&&(ruleset+=` --wp--style--global--wide-size: ${wideSize};`),useRootPaddingAlign&&(ruleset+="padding-right: 0; padding-left: 0; padding-top: var(--wp--style--root--padding-top); padding-bottom: var(--wp--style--root--padding-bottom) }\n\t\t\t.has-global-padding { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t.has-global-padding :where(.has-global-padding) { padding-right: 0; padding-left: 0; }\n\t\t\t.has-global-padding > .alignfull { margin-right: calc(var(--wp--style--root--padding-right) * -1); margin-left: calc(var(--wp--style--root--padding-left) * -1); }\n\t\t\t.has-global-padding :where(.has-global-padding) > .alignfull { margin-right: 0; margin-left: 0; }\n\t\t\t.has-global-padding > .alignfull:where(:not(.has-global-padding)) > :where(.wp-block:not(.alignfull),p,h1,h2,h3,h4,h5,h6,ul,ol) { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t.has-global-padding :where(.has-global-padding) > .alignfull:where(:not(.has-global-padding)) > :where(.wp-block:not(.alignfull),p,h1,h2,h3,h4,h5,h6,ul,ol) { padding-right: 0; padding-left: 0;"),ruleset+="}",nodesWithStyles.forEach((({selector,duotoneSelector,styles,fallbackGapValue,hasLayoutSupport,featureSelectors,styleVariationSelectors})=>{if(featureSelectors){const featureDeclarations=getFeatureDeclarations(featureSelectors,styles);Object.entries(featureDeclarations).forEach((([cssSelector,declarations])=>{if(declarations.length){const rules=declarations.join(";");ruleset+=`${cssSelector}{${rules};}`}}))}if(styleVariationSelectors&&Object.entries(styleVariationSelectors).forEach((([styleVariationName,styleVariationSelector])=>{const styleVariations=styles?.variations?.[styleVariationName];if(styleVariations){if(featureSelectors){const featureDeclarations=getFeatureDeclarations(featureSelectors,styleVariations);Object.entries(featureDeclarations).forEach((([baseSelector,declarations])=>{if(declarations.length){const cssSelector=function concatFeatureVariationSelectorString(featureSelector,styleVariationSelector){const featureSelectors=featureSelector.split(","),combinedSelectors=[];return featureSelectors.forEach((selector=>{combinedSelectors.push(`${styleVariationSelector.trim()}${selector.trim()}`)})),combinedSelectors.join(", ")}(baseSelector,styleVariationSelector),rules=declarations.join(";");ruleset+=`${cssSelector}{${rules};}`}}))}const styleVariationDeclarations=getStylesDeclarations(styleVariations,styleVariationSelector,useRootPaddingAlign,tree);styleVariationDeclarations.length&&(ruleset+=`${styleVariationSelector}{${styleVariationDeclarations.join(";")};}`)}})),duotoneSelector){const duotoneStyles={};styles?.filter&&(duotoneStyles.filter=styles.filter,delete styles.filter);const duotoneDeclarations=getStylesDeclarations(duotoneStyles);duotoneDeclarations.length&&(ruleset+=`${duotoneSelector}{${duotoneDeclarations.join(";")};}`)}disableLayoutStyles||ROOT_BLOCK_SELECTOR!==selector&&!hasLayoutSupport||(ruleset+=getLayoutStyles({style:styles,selector,hasBlockGapSupport,hasFallbackGapSupport,fallbackGapValue}));const declarations=getStylesDeclarations(styles,selector,useRootPaddingAlign,tree);declarations?.length&&(ruleset+=`${selector}{${declarations.join(";")};}`);const pseudoSelectorStyles=Object.entries(styles).filter((([key])=>key.startsWith(":")));pseudoSelectorStyles?.length&&pseudoSelectorStyles.forEach((([pseudoKey,pseudoStyle])=>{const pseudoDeclarations=getStylesDeclarations(pseudoStyle);if(!pseudoDeclarations?.length)return;const pseudoRule=`${selector.split(",").map((sel=>sel+pseudoKey)).join(",")}{${pseudoDeclarations.join(";")};}`;ruleset+=pseudoRule}))})),ruleset+=".wp-site-blocks > .alignleft { float: left; margin-right: 2em; }",ruleset+=".wp-site-blocks > .alignright { float: right; margin-left: 2em; }",ruleset+=".wp-site-blocks > .aligncenter { justify-content: center; margin-left: auto; margin-right: auto; }",hasBlockGapSupport){const gapValue=getGapCSSValue(tree?.styles?.spacing?.blockGap)||"0.5em";ruleset+=`:where(.wp-site-blocks) > * { margin-block-start: ${gapValue}; margin-block-end: 0; }`,ruleset+=":where(.wp-site-blocks) > :first-child:first-child { margin-block-start: 0; }",ruleset+=":where(.wp-site-blocks) > :last-child:last-child { margin-block-end: 0; }"}return nodesWithSettings.forEach((({selector,presets})=>{ROOT_BLOCK_SELECTOR===selector&&(selector="");const classes=function getPresetsClasses(blockSelector="*",blockPresets={}){return PRESET_METADATA.reduce(((declarations,{path,cssVarInfix,classes})=>{if(!classes)return declarations;const presetByOrigin=(0,lodash.get)(blockPresets,path,[]);return["default","theme","custom"].forEach((origin=>{presetByOrigin[origin]&&presetByOrigin[origin].forEach((({slug})=>{classes.forEach((({classSuffix,propertyName})=>{const classSelectorToUse=`.has-${(0,lodash.kebabCase)(slug)}-${classSuffix}`,selectorToUse=blockSelector.split(",").map((selector=>`${selector}${classSelectorToUse}`)).join(","),value=`var(--wp--preset--${cssVarInfix}--${(0,lodash.kebabCase)(slug)})`;declarations+=`${selectorToUse}{${propertyName}: ${value} !important;}`}))}))})),declarations}),"")}(selector,presets);classes.length>0&&(ruleset+=classes)})),ruleset};function toSvgFilters(tree,blockSelectors){return getNodesWithSettings(tree,blockSelectors).flatMap((({presets})=>function getPresetsSvgFilters(blockPresets={}){return PRESET_METADATA.filter((metadata=>"duotone"===metadata.path.at(-1))).flatMap((metadata=>{const presetByOrigin=(0,lodash.get)(blockPresets,metadata.path,{});return["default","theme"].filter((origin=>presetByOrigin[origin])).flatMap((origin=>presetByOrigin[origin].map((preset=>(0,build_module_serialize.ZP)((0,react.createElement)(PresetDuotoneFilter,{preset,key:preset.slug})))))).join("")}))}(presets)))}const getBlockSelectors=(blockTypes,getBlockStyles)=>{const result={};return blockTypes.forEach((blockType=>{const name=blockType.name,selector=getBlockCSSSelector(blockType);let duotoneSelector=getBlockCSSSelector(blockType,"filter.duotone");if(!duotoneSelector){const rootSelector=getBlockCSSSelector(blockType),duotoneSupport=(0,build_module.Dx)(blockType,"color.__experimentalDuotone",!1);duotoneSelector=duotoneSupport&&scopeSelector(rootSelector,duotoneSupport)}const hasLayoutSupport=!!blockType?.supports?.layout||!!blockType?.supports?.__experimentalLayout,fallbackGapValue=blockType?.supports?.spacing?.blockGap?.__experimentalDefault,blockStyleVariations=getBlockStyles(name),styleVariationSelectors={};blockStyleVariations?.length&&blockStyleVariations.forEach((variation=>{const styleVariationSelector=`.is-style-${variation.name}${selector}`;styleVariationSelectors[variation.name]=styleVariationSelector}));const featureSelectors=((blockType,rootSelector)=>{if(blockType?.selectors&&Object.keys(blockType.selectors).length>0)return blockType.selectors;const config={root:rootSelector};return Object.entries(BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS).forEach((([featureKey,featureName])=>{const featureSelector=getBlockCSSSelector(blockType,featureKey);featureSelector&&(config[featureName]=featureSelector)})),config})(blockType,selector);result[name]={duotoneSelector,fallbackGapValue,featureSelectors:Object.keys(featureSelectors).length?featureSelectors:void 0,hasLayoutSupport,name,selector,styleVariationSelectors:Object.keys(styleVariationSelectors).length?styleVariationSelectors:void 0}})),result};const processCSSNesting=(css,blockSelector)=>{let processedCSS="";return css.split("&").forEach((part=>{processedCSS+=part.includes("{")?blockSelector+part:blockSelector+"{"+part+"}"})),processedCSS};function useGlobalStylesOutputWithConfig(mergedConfig={}){const[blockGap]=useGlobalSetting("spacing.blockGap"),hasBlockGapSupport=null!==blockGap,hasFallbackGapSupport=!hasBlockGapSupport,disableLayoutStyles=(0,use_select.Z)((select=>{const{getSettings}=select(store);return!!getSettings().disableLayoutStyles})),getBlockStyles=(0,use_select.Z)((select=>select(build_module.h).getBlockStyles),[]);return(0,react.useMemo)((()=>{var _mergedConfig$styles$;if(!mergedConfig?.styles||!mergedConfig?.settings)return[];mergedConfig=function updateConfigWithSeparator(config){return config.styles?.blocks?.["core/separator"]&&config.styles?.blocks?.["core/separator"].color?.background&&!config.styles?.blocks?.["core/separator"].color?.text&&!config.styles?.blocks?.["core/separator"].border?.color?{...config,styles:{...config.styles,blocks:{...config.styles.blocks,"core/separator":{...config.styles.blocks["core/separator"],color:{...config.styles.blocks["core/separator"].color,text:config.styles?.blocks["core/separator"].color.background}}}}}:config}(mergedConfig);const blockSelectors=getBlockSelectors((0,build_module.U8)(),getBlockStyles),customProperties=toCustomProperties(mergedConfig,blockSelectors),globalStyles=toStyles(mergedConfig,blockSelectors,hasBlockGapSupport,hasFallbackGapSupport,disableLayoutStyles),svgs=toSvgFilters(mergedConfig,blockSelectors),styles=[{css:customProperties,isGlobalStyles:!0},{css:globalStyles,isGlobalStyles:!0},{css:null!==(_mergedConfig$styles$=mergedConfig.styles.css)&&void 0!==_mergedConfig$styles$?_mergedConfig$styles$:"",isGlobalStyles:!0},{assets:svgs,__unstableType:"svg",isGlobalStyles:!0}];return(0,build_module.U8)().forEach((blockType=>{if(mergedConfig.styles.blocks[blockType.name]?.css){const selector=blockSelectors[blockType.name].selector;styles.push({css:processCSSNesting(mergedConfig.styles.blocks[blockType.name]?.css,selector),isGlobalStyles:!0})}})),[styles,mergedConfig.settings]}),[hasBlockGapSupport,hasFallbackGapSupport,mergedConfig,disableLayoutStyles])}function useGlobalStylesOutput(){const{merged:mergedConfig}=(0,react.useContext)(GlobalStylesContext);return useGlobalStylesOutputWithConfig(mergedConfig)}const library_shadow=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M12 8c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 6.5c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zM12.8 3h-1.5v3h1.5V3zm-1.6 18h1.5v-3h-1.5v3zm6.8-9.8v1.5h3v-1.5h-3zm-12 0H3v1.5h3v-1.5zm9.7 5.6 2.1 2.1 1.1-1.1-2.1-2.1-1.1 1.1zM8.3 7.2 6.2 5.1 5.1 6.2l2.1 2.1 1.1-1.1zM5.1 17.8l1.1 1.1 2.1-2.1-1.1-1.1-2.1 2.1zM18.9 6.2l-1.1-1.1-2.1 2.1 1.1 1.1 2.1-2.1z"}));function useHasEffectsPanel(settings){return useHasShadowControl(settings)}function useHasShadowControl(settings){return!!settings?.shadow}function EffectsToolsPanel({resetAllFilter,onChange,value,panelId,children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Effects"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId},children)}const effects_panel_DEFAULT_CONTROLS={shadow:!0};function EffectsPanel({as:Wrapper=EffectsToolsPanel,value,onChange,inheritedValue=value,settings,panelId,defaultControls=effects_panel_DEFAULT_CONTROLS}){const hasShadowEnabled=useHasShadowControl(settings),shadow=(rawValue=inheritedValue?.shadow,getValueFromVariable({settings},"",rawValue));var rawValue;const setShadow=newValue=>{onChange(setImmutably(value,["shadow"],newValue))},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,shadow:void 0})),[]);return(0,react.createElement)(Wrapper,{resetAllFilter,value,onChange,panelId},hasShadowEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Shadow"),hasValue:()=>!!value?.shadow,onDeselect:()=>setShadow(void 0),isShownByDefault:defaultControls.shadow,panelId},(0,react.createElement)(item_group_component.Z,{isBordered:!0,isSeparated:!0},(0,react.createElement)(ShadowPopover,{shadow,onShadowChange:setShadow,settings}))))}const ShadowPopover=({shadow,onShadowChange,settings})=>(0,react.createElement)(dropdown.Z,{popoverProps:{placement:"left-start",offset:36,shift:!0},className:"block-editor-global-styles-effects-panel__shadow-dropdown",renderToggle:({onToggle,isOpen})=>{const toggleProps={onClick:onToggle,className:classnames_default()({"is-open":isOpen}),"aria-expanded":isOpen};return(0,react.createElement)(build_module_button.ZP,toggleProps,(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(build_module_icon.Z,{className:"block-editor-global-styles-effects-panel__toggle-icon",icon:library_shadow,size:24}),(0,react.createElement)(flex_item_component.Z,null,(0,i18n_build_module.__)("Shadow"))))},renderContent:()=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"medium"},(0,react.createElement)(ShadowPopoverContainer,{shadow,onShadowChange,settings}))});function ShadowPopoverContainer({shadow,onShadowChange,settings}){const defaultShadows=settings?.shadow?.presets?.default,themeShadows=settings?.shadow?.presets?.theme,defaultPresetsEnabled=settings?.shadow?.defaultPresets,shadows=[...defaultPresetsEnabled?defaultShadows:[],...themeShadows||[]];return(0,react.createElement)("div",{className:"block-editor-global-styles-effects-panel__shadow-popover-container"},(0,react.createElement)(v_stack_component.Z,{spacing:4},(0,react.createElement)(heading_component.Z,{level:5},(0,i18n_build_module.__)("Shadow")),(0,react.createElement)(ShadowPresets,{presets:shadows,activeShadow:shadow,onSelect:onShadowChange})))}function ShadowPresets({presets,activeShadow,onSelect}){return presets?(0,react.createElement)(grid_component.Z,{columns:6,gap:0,align:"center",justify:"center"},presets.map((({name,slug,shadow})=>(0,react.createElement)(ShadowIndicator,{key:slug,label:name,isActive:shadow===activeShadow,onSelect:()=>onSelect(shadow===activeShadow?void 0:shadow),shadow})))):null}function ShadowIndicator({label,isActive,onSelect,shadow}){return(0,react.createElement)("div",{className:"block-editor-global-styles-effects-panel__shadow-indicator-wrapper"},(0,react.createElement)(build_module_button.ZP,{className:"block-editor-global-styles-effects-panel__shadow-indicator",onClick:onSelect,label,style:{boxShadow:shadow},showTooltip:!0},isActive&&(0,react.createElement)(build_module_icon.Z,{icon:library_check.Z})))}var textarea_control=__webpack_require__("./packages/components/build-module/textarea-control/index.js");function AdvancedPanel({value,onChange,inheritedValue=value}){const[cssError,setCSSError]=(0,react.useState)(null),customCSS=inheritedValue?.css;return(0,react.createElement)(v_stack_component.Z,{spacing:3},(0,react.createElement)(textarea_control.Z,{label:(0,i18n_build_module.__)("Additional CSS"),__nextHasNoMarginBottom:!0,value:customCSS,onChange:newValue=>function handleOnChange(newValue){if(onChange({...value,css:newValue}),cssError){const[transformed]=transform_styles([{css:value}],".editor-styles-wrapper");transformed&&setCSSError(null)}}(newValue),onBlur:function handleOnBlur(event){if(!event?.target?.value)return void setCSSError(null);const[transformed]=transform_styles([{css:event.target.value}],".editor-styles-wrapper");setCSSError(null===transformed?(0,i18n_build_module.__)("There is an error with your CSS structure."):null)},className:"block-editor-global-styles-advanced-panel__custom-css-input",spellCheck:!1}),cssError&&(0,react.createElement)(tooltip.Z,{text:cssError},(0,react.createElement)("div",{className:"block-editor-global-styles-advanced-panel__custom-css-validation-wrapper"},(0,react.createElement)(build_module_icon.Z,{icon:library_info,className:"block-editor-global-styles-advanced-panel__custom-css-validation-icon"}))))}var resizable_box=__webpack_require__("./packages/components/build-module/resizable-box/index.js");const DEFAULT_INIT_WINDOW_SIZE=30;const RovingTabIndexContext=(0,react.createContext)(void 0),RovingTabIndexProvider=RovingTabIndexContext.Provider;function RovingTabIndex({children}){const[lastFocusedElement,setLastFocusedElement]=(0,react.useState)(),providerValue=(0,react.useMemo)((()=>({lastFocusedElement,setLastFocusedElement})),[lastFocusedElement]);return(0,react.createElement)(RovingTabIndexProvider,{value:providerValue},children)}function getRowFocusables(rowElement){return dom_build_module.T_.focusable.find(rowElement,{sequential:!0}).filter((focusable=>focusable.closest('[role="row"]')===rowElement))}const tree_grid=(0,react.forwardRef)((function UnforwardedTreeGrid({children,onExpandRow=()=>{},onCollapseRow=()=>{},onFocusRow=()=>{},applicationAriaLabel,...props},ref){const onKeyDown=(0,react.useCallback)((event=>{const{keyCode,metaKey,ctrlKey,altKey}=event;if(metaKey||ctrlKey||altKey||![keycodes_build_module.UP,keycodes_build_module.WV,keycodes_build_module.RL,keycodes_build_module.pX,keycodes_build_module.Sd,keycodes_build_module.uR].includes(keyCode))return;event.stopPropagation();const{activeElement}=document,{currentTarget:treeGridElement}=event;if(!activeElement||!treeGridElement.contains(activeElement))return;const activeRow=activeElement.closest('[role="row"]');if(!activeRow)return;const focusablesInRow=getRowFocusables(activeRow),currentColumnIndex=focusablesInRow.indexOf(activeElement),canExpandCollapse=0===currentColumnIndex,cannotFocusNextColumn=canExpandCollapse&&("false"===activeRow.getAttribute("data-expanded")||"false"===activeRow.getAttribute("aria-expanded"))&&keyCode===keycodes_build_module.pX;if([keycodes_build_module.RL,keycodes_build_module.pX].includes(keyCode)){let nextIndex;if(nextIndex=keyCode===keycodes_build_module.RL?Math.max(0,currentColumnIndex-1):Math.min(currentColumnIndex+1,focusablesInRow.length-1),canExpandCollapse){if(keyCode===keycodes_build_module.RL){var _activeRow$getAttribu;if("true"===activeRow.getAttribute("data-expanded")||"true"===activeRow.getAttribute("aria-expanded"))return onCollapseRow(activeRow),void event.preventDefault();const level=Math.max(parseInt(null!==(_activeRow$getAttribu=activeRow?.getAttribute("aria-level"))&&void 0!==_activeRow$getAttribu?_activeRow$getAttribu:"1",10)-1,1),rows=Array.from(treeGridElement.querySelectorAll('[role="row"]'));let parentRow=activeRow;for(let i=rows.indexOf(activeRow);i>=0;i--){const ariaLevel=rows[i].getAttribute("aria-level");if(null!==ariaLevel&&parseInt(ariaLevel,10)===level){parentRow=rows[i];break}}getRowFocusables(parentRow)?.[0]?.focus()}if(keyCode===keycodes_build_module.pX){if("false"===activeRow.getAttribute("data-expanded")||"false"===activeRow.getAttribute("aria-expanded"))return onExpandRow(activeRow),void event.preventDefault();const focusableItems=getRowFocusables(activeRow);focusableItems.length>0&&focusableItems[nextIndex]?.focus()}return void event.preventDefault()}if(cannotFocusNextColumn)return;focusablesInRow[nextIndex].focus(),event.preventDefault()}else if([keycodes_build_module.UP,keycodes_build_module.WV].includes(keyCode)){const rows=Array.from(treeGridElement.querySelectorAll('[role="row"]')),currentRowIndex=rows.indexOf(activeRow);let nextRowIndex;if(nextRowIndex=keyCode===keycodes_build_module.UP?Math.max(0,currentRowIndex-1):Math.min(currentRowIndex+1,rows.length-1),nextRowIndex===currentRowIndex)return void event.preventDefault();const focusablesInNextRow=getRowFocusables(rows[nextRowIndex]);if(!focusablesInNextRow||!focusablesInNextRow.length)return void event.preventDefault();focusablesInNextRow[Math.min(currentColumnIndex,focusablesInNextRow.length-1)].focus(),onFocusRow(event,activeRow,rows[nextRowIndex]),event.preventDefault()}else if([keycodes_build_module.Sd,keycodes_build_module.uR].includes(keyCode)){const rows=Array.from(treeGridElement.querySelectorAll('[role="row"]')),currentRowIndex=rows.indexOf(activeRow);let nextRowIndex;if(nextRowIndex=keyCode===keycodes_build_module.Sd?0:rows.length-1,nextRowIndex===currentRowIndex)return void event.preventDefault();const focusablesInNextRow=getRowFocusables(rows[nextRowIndex]);if(!focusablesInNextRow||!focusablesInNextRow.length)return void event.preventDefault();focusablesInNextRow[Math.min(currentColumnIndex,focusablesInNextRow.length-1)].focus(),onFocusRow(event,activeRow,rows[nextRowIndex]),event.preventDefault()}}),[onExpandRow,onCollapseRow,onFocusRow]);return(0,react.createElement)(RovingTabIndex,null,(0,react.createElement)("div",{role:"application","aria-label":applicationAriaLabel},(0,react.createElement)("table",(0,esm_extends.Z)({},props,{role:"treegrid",onKeyDown,ref}),(0,react.createElement)("tbody",null,children))))}));const tree_grid_row=(0,react.forwardRef)((function UnforwardedTreeGridRow({children,level,positionInSet,setSize,isExpanded,...props},ref){return(0,react.createElement)("tr",(0,esm_extends.Z)({},props,{ref,role:"row","aria-level":level,"aria-posinset":positionInSet,"aria-setsize":setSize,"aria-expanded":isExpanded}),children)})),roving_tab_index_item=(0,react.forwardRef)((function UnforwardedRovingTabIndexItem({children,as:Component,...props},forwardedRef){const localRef=(0,react.useRef)(),ref=forwardedRef||localRef,{lastFocusedElement,setLastFocusedElement}=(0,react.useContext)(RovingTabIndexContext);let tabIndex;lastFocusedElement&&(tabIndex=lastFocusedElement===("current"in ref?ref.current:void 0)?0:-1);const allProps={ref,tabIndex,onFocus:event=>setLastFocusedElement?.(event.target),...props};return"function"==typeof children?children(allProps):Component?(0,react.createElement)(Component,allProps,children):null}));const item=(0,react.forwardRef)((function UnforwardedTreeGridItem({children,...props},ref){return(0,react.createElement)(roving_tab_index_item,(0,esm_extends.Z)({ref},props),children)}));const cell=(0,react.forwardRef)((function UnforwardedTreeGridCell({children,withoutGridItem=!1,...props},ref){return(0,react.createElement)("td",(0,esm_extends.Z)({},props,{role:"gridcell"}),withoutGridItem?(0,react.createElement)(react.Fragment,null,children):(0,react.createElement)(item,{ref},children))})),ListViewContext=(0,react.createContext)({}),useListViewContext=()=>(0,react.useContext)(ListViewContext);function AriaReferencedText({children,...props}){const ref=(0,react.useRef)();return(0,react.useEffect)((()=>{ref.current&&(ref.current.textContent=ref.current.textContent)}),[children]),(0,react.createElement)("div",(0,esm_extends.Z)({hidden:!0},props,{ref}),children)}const Appender=(0,react.forwardRef)((({nestingLevel,blockCount,clientId,...props},ref)=>{const{insertedBlock,setInsertedBlock}=useListViewContext(),instanceId=(0,use_instance_id.Z)(Appender),{hideInserter}=(0,use_select.Z)((select=>{const{getTemplateLock,__unstableGetEditorMode}=select(store);return{hideInserter:!!getTemplateLock(clientId)||"zoom-out"===__unstableGetEditorMode()}}),[clientId]),blockTitle=useBlockDisplayTitle({clientId,context:"list-view"}),insertedBlockTitle=useBlockDisplayTitle({clientId:insertedBlock?.clientId,context:"list-view"});if((0,react.useEffect)((()=>{insertedBlockTitle?.length&&(0,a11y_build_module.D)((0,i18n_build_module.gB)((0,i18n_build_module.__)("%s block inserted"),insertedBlockTitle),"assertive")}),[insertedBlockTitle]),hideInserter)return null;const descriptionId=`list-view-appender__${instanceId}`,description=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Append to %1$s block at position %2$d, Level %3$d"),blockTitle,blockCount+1,nestingLevel);return(0,react.createElement)("div",{className:"list-view-appender"},(0,react.createElement)(inserter,(0,esm_extends.Z)({ref,rootClientId:clientId,position:"bottom right",isAppender:!0,selectBlockOnInsert:!1,shouldDirectInsert:!1,__experimentalIsQuick:!0},props,{toggleProps:{"aria-describedby":descriptionId},onSelectOrClose:maybeInsertedBlock=>{maybeInsertedBlock?.clientId&&setInsertedBlock(maybeInsertedBlock)}})),(0,react.createElement)(AriaReferencedText,{id:descriptionId},description))})),AnimatedTreeGridRow=(0,react_spring_web_esm.q)(tree_grid_row),leaf=(0,react.forwardRef)((({isSelected,position,level,rowCount,children,className,path,...props},ref)=>{const animationRef=use_moving_animation({isSelected,adjustScrolling:!1,enableAnimation:!0,triggerAnimationOnChange:path}),mergedRef=(0,use_merge_refs.Z)([ref,animationRef]);return(0,react.createElement)(AnimatedTreeGridRow,(0,esm_extends.Z)({ref:mergedRef,className:classnames_default()("block-editor-list-view-leaf",className),level,positionInSet:position,setSize:rowCount,isExpanded:void 0},props),children)}));const lock_small=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11h-.2V9c0-1.5-1.2-2.8-2.8-2.8S9.2 7.5 9.2 9v2H9c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1h6c.6 0 1-.4 1-1v-4c0-.6-.4-1-1-1zm-1.8 0h-2.5V9c0-.7.6-1.2 1.2-1.2s1.2.6 1.2 1.2v2z"})),chevron_left_small=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"}));var chevron_right_small=__webpack_require__("./packages/icons/build-module/library/chevron-right-small.js");function ListViewExpander({onClick}){return(0,react.createElement)("span",{className:"block-editor-list-view__expander",onClick:event=>onClick(event,{forceToggle:!0}),"aria-hidden":"true","data-testid":"list-view-expander"},(0,react.createElement)(build_module_icon.Z,{icon:(0,i18n_build_module.dZ)()?chevron_left_small:chevron_right_small.Z}))}const block_select_button=(0,react.forwardRef)((function ListViewBlockSelectButton({className,block:{clientId},onClick,onToggleExpanded,tabIndex,onFocus,onDragStart,onDragEnd,draggable,isExpanded,ariaLabel,ariaDescribedBy,updateFocusAndSelection},ref){const blockInformation=useBlockDisplayInformation(clientId),blockTitle=useBlockDisplayTitle({clientId,context:"list-view"}),{isLocked}=useBlockLock(clientId),{getSelectedBlockClientIds,getPreviousBlockClientId,getBlockRootClientId,getBlockOrder,canRemoveBlocks}=(0,use_select.Z)(store),{removeBlocks}=(0,use_dispatch.Z)(store),isMatch=(0,keyboard_shortcuts_build_module.sx)();return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{className:classnames_default()("block-editor-list-view-block-select-button",className),onClick,onKeyDown:function onKeyDownHandler(event){if(event.keyCode===keycodes_build_module.K5||event.keyCode===keycodes_build_module.L_)onClick(event);else if(event.keyCode===keycodes_build_module.ZH||event.keyCode===keycodes_build_module.yY||isMatch("core/block-editor/remove",event)){var _getPreviousBlockClie;const selectedBlockClientIds=getSelectedBlockClientIds(),isDeletingSelectedBlocks=selectedBlockClientIds.includes(clientId),firstBlockClientId=isDeletingSelectedBlocks?selectedBlockClientIds[0]:clientId,firstBlockRootClientId=getBlockRootClientId(firstBlockClientId),blocksToDelete=isDeletingSelectedBlocks?selectedBlockClientIds:[clientId];if(!canRemoveBlocks(blocksToDelete,firstBlockRootClientId))return;let blockToFocus=null!==(_getPreviousBlockClie=getPreviousBlockClientId(firstBlockClientId))&&void 0!==_getPreviousBlockClie?_getPreviousBlockClie:firstBlockRootClientId;removeBlocks(blocksToDelete,!1);const shouldUpdateSelection=selectedBlockClientIds.length>0&&0===getSelectedBlockClientIds().length;blockToFocus||(blockToFocus=getBlockOrder()[0]),updateFocusAndSelection(blockToFocus,shouldUpdateSelection)}},ref,tabIndex,onFocus,onDragStart:event=>{event.dataTransfer.clearData(),onDragStart?.(event)},onDragEnd,draggable,href:`#block-${clientId}`,"aria-label":ariaLabel,"aria-describedby":ariaDescribedBy,"aria-expanded":isExpanded},(0,react.createElement)(ListViewExpander,{onClick:onToggleExpanded}),(0,react.createElement)(block_icon,{icon:blockInformation?.icon,showColors:!0,context:"list-view"}),(0,react.createElement)(h_stack_component.Z,{alignment:"center",className:"block-editor-list-view-block-select-button__label-wrapper",justify:"flex-start",spacing:1},(0,react.createElement)("span",{className:"block-editor-list-view-block-select-button__title"},(0,react.createElement)(truncate_component.Z,{ellipsizeMode:"auto"},blockTitle)),blockInformation?.anchor&&(0,react.createElement)("span",{className:"block-editor-list-view-block-select-button__anchor-wrapper"},(0,react.createElement)(truncate_component.Z,{className:"block-editor-list-view-block-select-button__anchor",ellipsizeMode:"auto"},blockInformation.anchor)),isLocked&&(0,react.createElement)("span",{className:"block-editor-list-view-block-select-button__lock"},(0,react.createElement)(build_module_icon.Z,{icon:lock_small})))))})),ListViewBlockContents=(0,react.forwardRef)((({onClick,onToggleExpanded,block,isSelected,position,siblingBlockCount,level,isExpanded,selectedClientIds,...props},ref)=>{const{clientId}=block,{blockMovingClientId,selectedBlockInBlockEditor}=(0,use_select.Z)((select=>{const{hasBlockMovingClientId,getSelectedBlockClientId}=select(store);return{blockMovingClientId:hasBlockMovingClientId(),selectedBlockInBlockEditor:getSelectedBlockClientId()}}),[]),{AdditionalBlockContent,insertedBlock,setInsertedBlock}=useListViewContext(),isBlockMoveTarget=blockMovingClientId&&selectedBlockInBlockEditor===clientId,className=classnames_default()("block-editor-list-view-block-contents",{"is-dropping-before":isBlockMoveTarget}),draggableClientIds=selectedClientIds.includes(clientId)?selectedClientIds:[clientId];return(0,react.createElement)(react.Fragment,null,AdditionalBlockContent&&(0,react.createElement)(AdditionalBlockContent,{block,insertedBlock,setInsertedBlock}),(0,react.createElement)(block_draggable,{clientIds:draggableClientIds},(({draggable,onDragStart,onDragEnd})=>(0,react.createElement)(block_select_button,(0,esm_extends.Z)({ref,className,block,onClick,onToggleExpanded,isSelected,position,siblingBlockCount,level,draggable,onDragStart,onDragEnd,isExpanded},props)))))})),block_contents=ListViewBlockContents;const list_view_block=(0,react.memo)((function ListViewBlock({block:{clientId},isDragged,isSelected,isBranchSelected,selectBlock,position,level,rowCount,siblingBlockCount,showBlockMovers,path,isExpanded,selectedClientIds,isSyncedBranch}){const cellRef=(0,react.useRef)(null),rowRef=(0,react.useRef)(null),[isHovered,setIsHovered]=(0,react.useState)(!1),{isLocked,canEdit}=useBlockLock(clientId),isFirstSelectedBlock=isSelected&&selectedClientIds[0]===clientId,isLastSelectedBlock=isSelected&&selectedClientIds[selectedClientIds.length-1]===clientId,{toggleBlockHighlight}=(0,use_dispatch.Z)(store),blockInformation=useBlockDisplayInformation(clientId),blockTitle=blockInformation?.title||(0,i18n_build_module.__)("Untitled"),block=(0,use_select.Z)((select=>select(store).getBlock(clientId)),[clientId]),blockName=(0,use_select.Z)((select=>select(store).getBlockName(clientId)),[clientId]),blockEditingMode=(0,use_select.Z)((select=>unlock(select(store)).getBlockEditingMode(clientId)),[clientId]),showBlockActions=(0,build_module.zb)(blockName,"__experimentalToolbar",!0)&&"default"===blockEditingMode,descriptionId=`list-view-block-select-button__${(0,use_instance_id.Z)(ListViewBlock)}`,blockPositionDescription=((position,siblingCount,level)=>(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$d of %2$d, Level %3$d"),position,siblingCount,level))(position,siblingBlockCount,level),blockAriaLabel=isLocked?(0,i18n_build_module.gB)((0,i18n_build_module.__)("%s (locked)"),blockTitle):blockTitle,settingsAriaLabel=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Options for %s"),blockTitle),{isTreeGridMounted,expand,collapse,BlockSettingsMenu,listViewInstanceId,expandedState,setInsertedBlock,treeGridElementRef}=useListViewContext(),hasRenderedMovers=showBlockMovers&&siblingBlockCount>0,moverCellClassName=classnames_default()("block-editor-list-view-block__mover-cell",{"is-visible":isHovered||isSelected}),listViewBlockSettingsClassName=classnames_default()("block-editor-list-view-block__menu-cell",{"is-visible":isHovered||isFirstSelectedBlock});(0,react.useEffect)((()=>{!isTreeGridMounted&&isSelected&&cellRef.current.focus()}),[]);const onMouseEnter=(0,react.useCallback)((()=>{setIsHovered(!0),toggleBlockHighlight(clientId,!0)}),[clientId,setIsHovered,toggleBlockHighlight]),onMouseLeave=(0,react.useCallback)((()=>{setIsHovered(!1),toggleBlockHighlight(clientId,!1)}),[clientId,setIsHovered,toggleBlockHighlight]),selectEditorBlock=(0,react.useCallback)((event=>{selectBlock(event,clientId),event.preventDefault()}),[clientId,selectBlock]),updateFocusAndSelection=(0,react.useCallback)(((focusClientId,shouldSelectBlock)=>{shouldSelectBlock&&selectBlock(void 0,focusClientId,null,null);const getFocusElement=()=>{const row=treeGridElementRef.current?.querySelector(`[role=row][data-block="${focusClientId}"]`);return row?dom_build_module.T_.focusable.find(row)[0]:null};let focusElement=getFocusElement();focusElement?focusElement.focus():window.requestAnimationFrame((()=>{focusElement=getFocusElement(),focusElement&&focusElement.focus()}))}),[selectBlock,treeGridElementRef]),toggleExpanded=(0,react.useCallback)((event=>{event.preventDefault(),event.stopPropagation(),!0===isExpanded?collapse(clientId):!1===isExpanded&&expand(clientId)}),[clientId,expand,collapse,isExpanded]);let colSpan;hasRenderedMovers?colSpan=2:showBlockActions||(colSpan=3);const classes=classnames_default()({"is-selected":isSelected,"is-first-selected":isFirstSelectedBlock,"is-last-selected":isLastSelectedBlock,"is-branch-selected":isBranchSelected,"is-synced-branch":isSyncedBranch,"is-dragging":isDragged,"has-single-cell":!showBlockActions,"is-synced":blockInformation?.isSynced}),dropdownClientIds=selectedClientIds.includes(clientId)?selectedClientIds:[clientId];!function useListViewScrollIntoView({isSelected,selectedClientIds,rowItemRef}){const isSingleSelection=1===selectedClientIds.length;(0,react.useLayoutEffect)((()=>{if(!isSelected||!isSingleSelection||!rowItemRef.current)return;const scrollContainer=(0,get_scroll_container.Z)(rowItemRef.current),{ownerDocument}=rowItemRef.current;if(scrollContainer===ownerDocument.body||scrollContainer===ownerDocument.documentElement||!scrollContainer)return;const rowRect=rowItemRef.current.getBoundingClientRect(),scrollContainerRect=scrollContainer.getBoundingClientRect();(rowRect.top<scrollContainerRect.top||rowRect.bottom>scrollContainerRect.bottom)&&rowItemRef.current.scrollIntoView()}),[isSelected,isSingleSelection,rowItemRef])}({isSelected,rowItemRef:rowRef,selectedClientIds});const currentlyEditingBlockInCanvas=isSelected&&1===selectedClientIds.length;return(0,react.createElement)(leaf,{className:classes,onMouseEnter,onMouseLeave,onFocus:onMouseEnter,onBlur:onMouseLeave,level,position,rowCount,path,id:`list-view-${listViewInstanceId}-block-${clientId}`,"data-block":clientId,"data-expanded":canEdit?isExpanded:void 0,ref:rowRef},(0,react.createElement)(cell,{className:"block-editor-list-view-block__contents-cell",colSpan,ref:cellRef,"aria-selected":!!isSelected},(({ref,tabIndex,onFocus})=>(0,react.createElement)("div",{className:"block-editor-list-view-block__contents-container"},(0,react.createElement)(block_contents,{block,onClick:selectEditorBlock,onToggleExpanded:toggleExpanded,isSelected,position,siblingBlockCount,level,ref,tabIndex:currentlyEditingBlockInCanvas?0:tabIndex,onFocus,isExpanded:canEdit?isExpanded:void 0,selectedClientIds,ariaLabel:blockAriaLabel,ariaDescribedBy:descriptionId,updateFocusAndSelection}),(0,react.createElement)(AriaReferencedText,{id:descriptionId},blockPositionDescription)))),hasRenderedMovers&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(cell,{className:moverCellClassName,withoutGridItem:!0},(0,react.createElement)(item,null,(({ref,tabIndex,onFocus})=>(0,react.createElement)(BlockMoverUpButton,{orientation:"vertical",clientIds:[clientId],ref,tabIndex,onFocus}))),(0,react.createElement)(item,null,(({ref,tabIndex,onFocus})=>(0,react.createElement)(BlockMoverDownButton,{orientation:"vertical",clientIds:[clientId],ref,tabIndex,onFocus}))))),showBlockActions&&BlockSettingsMenu&&(0,react.createElement)(cell,{className:listViewBlockSettingsClassName,"aria-selected":!!isSelected},(({ref,tabIndex,onFocus})=>(0,react.createElement)(BlockSettingsMenu,{clientIds:dropdownClientIds,block,icon:more_vertical.Z,label:settingsAriaLabel,toggleProps:{ref,className:"block-editor-list-view-block__menu",tabIndex,onFocus},disableOpenOnArrowDown:!0,expand,expandedState,setInsertedBlock,__experimentalSelectBlock:updateFocusAndSelection}))))}));function countBlocks(block,expandedState,draggedClientIds,isExpandedByDefault){var _expandedState$block$;const isDragged=draggedClientIds?.includes(block.clientId);if(isDragged)return 0;return(null!==(_expandedState$block$=expandedState[block.clientId])&&void 0!==_expandedState$block$?_expandedState$block$:isExpandedByDefault)?1+block.innerBlocks.reduce(countReducer(expandedState,draggedClientIds,isExpandedByDefault),0):1}const countReducer=(expandedState,draggedClientIds,isExpandedByDefault)=>(count,block)=>{var _expandedState$block$2;const isDragged=draggedClientIds?.includes(block.clientId);if(isDragged)return count;return(null!==(_expandedState$block$2=expandedState[block.clientId])&&void 0!==_expandedState$block$2?_expandedState$block$2:isExpandedByDefault)&&block.innerBlocks.length>0?count+countBlocks(block,expandedState,draggedClientIds,isExpandedByDefault):count+1},branch_noop=()=>{};const branch=(0,react.memo)((function ListViewBranch(props){const{blocks,selectBlock=branch_noop,showBlockMovers,selectedClientIds,level=1,path="",isBranchSelected=!1,listPosition=0,fixedListWindow,isExpanded,parentId,shouldShowInnerBlocks=!0,isSyncedBranch=!1,showAppender:showAppenderProp=!0}=props,parentBlockInformation=useBlockDisplayInformation(parentId),syncedBranch=isSyncedBranch||!!parentBlockInformation?.isSynced,canParentExpand=(0,use_select.Z)((select=>!parentId||select(store).canEditBlock(parentId)),[parentId]),{expandedState,draggedClientIds}=useListViewContext();if(!canParentExpand)return null;const showAppender=showAppenderProp&&1===level,filteredBlocks=blocks.filter(Boolean),blockCount=filteredBlocks.length,rowCount=showAppender?blockCount+1:blockCount;let nextPosition=listPosition;return(0,react.createElement)(react.Fragment,null,filteredBlocks.map(((block,index)=>{var _expandedState$client;const{clientId,innerBlocks}=block;index>0&&(nextPosition+=countBlocks(filteredBlocks[index-1],expandedState,draggedClientIds,isExpanded));const{itemInView}=fixedListWindow,blockInView=itemInView(nextPosition),position=index+1,updatedPath=path.length>0?`${path}_${position}`:`${position}`,hasNestedBlocks=!!innerBlocks?.length,shouldExpand=hasNestedBlocks&&shouldShowInnerBlocks?null!==(_expandedState$client=expandedState[clientId])&&void 0!==_expandedState$client?_expandedState$client:isExpanded:void 0,isDragged=!!draggedClientIds?.includes(clientId),isSelected=((clientId,selectedBlockClientIds)=>Array.isArray(selectedBlockClientIds)&&selectedBlockClientIds.length?-1!==selectedBlockClientIds.indexOf(clientId):selectedBlockClientIds===clientId)(clientId,selectedClientIds),isSelectedBranch=isBranchSelected||isSelected&&hasNestedBlocks,showBlock=isDragged||blockInView||isSelected;return(0,react.createElement)(async_mode_provider_context.ZP,{key:clientId,value:!isSelected},showBlock&&(0,react.createElement)(list_view_block,{block,selectBlock,isSelected,isBranchSelected:isSelectedBranch,isDragged,level,position,rowCount,siblingBlockCount:blockCount,showBlockMovers,path:updatedPath,isExpanded:shouldExpand,listPosition:nextPosition,selectedClientIds,isSyncedBranch:syncedBranch}),!showBlock&&(0,react.createElement)("tr",null,(0,react.createElement)("td",{className:"block-editor-list-view-placeholder"})),hasNestedBlocks&&shouldExpand&&!isDragged&&(0,react.createElement)(ListViewBranch,{parentId:clientId,blocks:innerBlocks,selectBlock,showBlockMovers,level:level+1,path:updatedPath,listPosition:nextPosition+1,fixedListWindow,isBranchSelected:isSelectedBranch,selectedClientIds,isExpanded,isSyncedBranch:syncedBranch}))})),showAppender&&(0,react.createElement)(tree_grid_row,{level,setSize:rowCount,positionInSet:rowCount,isExpanded:!0},(0,react.createElement)(cell,null,(treeGridCellProps=>(0,react.createElement)(Appender,(0,esm_extends.Z)({clientId:parentId,nestingLevel:level,blockCount},treeGridCellProps))))))}));function ListViewDropIndicator({listViewRef,blockDropTarget}){const{rootClientId,clientId,dropPosition}=blockDropTarget||{},[rootBlockElement,blockElement]=(0,react.useMemo)((()=>{if(!listViewRef.current)return[];return[rootClientId?listViewRef.current.querySelector(`[data-block="${rootClientId}"]`):void 0,clientId?listViewRef.current.querySelector(`[data-block="${clientId}"]`):void 0]}),[rootClientId,clientId]),targetElement=blockElement||rootBlockElement,rtl=(0,i18n_build_module.dZ)(),getDropIndicatorIndent=(0,react.useCallback)((targetElementRect=>{if(!rootBlockElement)return 0;const rootBlockIconRect=rootBlockElement.querySelector(".block-editor-block-icon").getBoundingClientRect();return rtl?targetElementRect.right-rootBlockIconRect.left:rootBlockIconRect.right-targetElementRect.left}),[rootBlockElement,rtl]),getDropIndicatorWidth=(0,react.useCallback)(((targetElementRect,indent)=>{if(!targetElement)return 0;let width=targetElement.offsetWidth;const scrollContainer=(0,get_scroll_container.Z)(targetElement,"horizontal"),ownerDocument=targetElement.ownerDocument,windowScroll=scrollContainer===ownerDocument.body||scrollContainer===ownerDocument.documentElement;if(scrollContainer&&!windowScroll){const scrollContainerRect=scrollContainer.getBoundingClientRect(),distanceBetweenContainerAndTarget=(0,i18n_build_module.dZ)()?scrollContainerRect.right-targetElementRect.right:targetElementRect.left-scrollContainerRect.left,scrollContainerWidth=scrollContainer.clientWidth;if(scrollContainerWidth<width+distanceBetweenContainerAndTarget&&(width=scrollContainerWidth-distanceBetweenContainerAndTarget),!rtl&&targetElementRect.left+indent<scrollContainerRect.left)return width-=scrollContainerRect.left-targetElementRect.left,width;if(rtl&&targetElementRect.right-indent>scrollContainerRect.right)return width-=targetElementRect.right-scrollContainerRect.right,width}return width-indent}),[rtl,targetElement]),style=(0,react.useMemo)((()=>{if(!targetElement)return{};const targetElementRect=targetElement.getBoundingClientRect(),indent=getDropIndicatorIndent(targetElementRect);return{width:getDropIndicatorWidth(targetElementRect,indent)}}),[getDropIndicatorIndent,getDropIndicatorWidth,targetElement]),popoverAnchor=(0,react.useMemo)((()=>{if(!targetElement||!("top"===dropPosition||"bottom"===dropPosition||"inside"===dropPosition))return;const ownerDocument=targetElement.ownerDocument;return{ownerDocument,getBoundingClientRect(){const rect=targetElement.getBoundingClientRect(),indent=getDropIndicatorIndent(rect);let left=rtl?rect.left:rect.left+indent,top=0,bottom=0;const scrollContainer=(0,get_scroll_container.Z)(targetElement,"horizontal"),windowScroll=scrollContainer===ownerDocument.body||scrollContainer===ownerDocument.documentElement;if(scrollContainer&&!windowScroll){const scrollContainerRect=scrollContainer.getBoundingClientRect(),scrollbarWidth=rtl?scrollContainer.offsetWidth-scrollContainer.clientWidth:0;left<scrollContainerRect.left+scrollbarWidth&&(left=scrollContainerRect.left+scrollbarWidth)}"top"===dropPosition?(top=rect.top,bottom=rect.top):(top=rect.bottom,bottom=rect.bottom);const width=getDropIndicatorWidth(rect,indent),height=bottom-top;return new window.DOMRect(left,top,width,height)}}}),[targetElement,dropPosition,getDropIndicatorIndent,getDropIndicatorWidth,rtl]);return targetElement?(0,react.createElement)(popover.ZP,{animate:!1,anchor:popoverAnchor,focusOnMount:!1,className:"block-editor-list-view-drop-indicator",variant:"unstyled"},(0,react.createElement)("div",{style,className:"block-editor-list-view-drop-indicator__line"})):null}function useBlockSelection(){const{clearSelectedBlock,multiSelect,selectBlock}=(0,use_dispatch.Z)(store),{getBlockName,getBlockParents,getBlockSelectionStart,getSelectedBlockClientIds,hasMultiSelection,hasSelectedBlock}=(0,use_select.Z)(store),{getBlockType}=(0,use_select.Z)(build_module.h);return{updateBlockSelection:(0,react.useCallback)((async(event,clientId,destinationClientId,focusPosition)=>{if(!event?.shiftKey)return void selectBlock(clientId,focusPosition);event.preventDefault();const isKeyPress="keydown"===event.type&&(event.keyCode===keycodes_build_module.UP||event.keyCode===keycodes_build_module.WV||event.keyCode===keycodes_build_module.Sd||event.keyCode===keycodes_build_module.uR);if(!isKeyPress&&!hasSelectedBlock()&&!hasMultiSelection())return void selectBlock(clientId,null);const selectedBlocks=getSelectedBlockClientIds(),clientIdWithParents=[...getBlockParents(clientId),clientId];isKeyPress&&!selectedBlocks.some((blockId=>clientIdWithParents.includes(blockId)))&&await clearSelectedBlock();let startTarget=getBlockSelectionStart(),endTarget=clientId;isKeyPress&&(hasSelectedBlock()||hasMultiSelection()||(startTarget=clientId),destinationClientId&&(endTarget=destinationClientId));const startParents=getBlockParents(startTarget),endParents=getBlockParents(endTarget),{start,end}=function getCommonDepthClientIds(startId,endId,startParents,endParents){const startPath=[...startParents,startId],endPath=[...endParents,endId],depth=Math.min(startPath.length,endPath.length)-1;return{start:startPath[depth],end:endPath[depth]}}(startTarget,endTarget,startParents,endParents);await multiSelect(start,end,null);const updatedSelectedBlocks=getSelectedBlockClientIds();if((event.keyCode===keycodes_build_module.Sd||event.keyCode===keycodes_build_module.uR)&&updatedSelectedBlocks.length>1)return;const selectionDiff=selectedBlocks.filter((blockId=>!updatedSelectedBlocks.includes(blockId)));let label;if(1===selectionDiff.length){const title=getBlockType(getBlockName(selectionDiff[0]))?.title;title&&(label=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%s deselected."),title))}else selectionDiff.length>1&&(label=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%s blocks deselected."),selectionDiff.length));label&&(0,a11y_build_module.D)(label,"assertive")}),[clearSelectedBlock,getBlockName,getBlockType,getBlockParents,getBlockSelectionStart,getSelectedBlockClientIds,hasMultiSelection,hasSelectedBlock,multiSelect,selectBlock])}}const NESTING_LEVEL_INDENTATION=28;function getNextNonDraggedBlock(blocksData,index){const nextBlockData=blocksData[index+1];return nextBlockData&&nextBlockData.isDraggedBlock?getNextNonDraggedBlock(blocksData,index+1):nextBlockData}const ALLOWED_DROP_EDGES=["top","bottom"];function getListViewDropTarget(blocksData,position,rtl=!1){let candidateEdge,candidateBlockData,candidateDistance,candidateRect,candidateBlockIndex;for(let i=0;i<blocksData.length;i++){const blockData=blocksData[i];if(blockData.isDraggedBlock)continue;const rect=blockData.element.getBoundingClientRect(),[distance,edge]=getDistanceToNearestEdge(position,rect,ALLOWED_DROP_EDGES),isCursorWithinBlock=isPointContainedByRect(position,rect);if(void 0===candidateDistance||distance<candidateDistance||isCursorWithinBlock){candidateDistance=distance;const index=blocksData.indexOf(blockData),previousBlockData=blocksData[index-1];if("top"===edge&&previousBlockData&&previousBlockData.rootClientId===blockData.rootClientId&&!previousBlockData.isDraggedBlock?(candidateBlockData=previousBlockData,candidateEdge="bottom",candidateRect=previousBlockData.element.getBoundingClientRect(),candidateBlockIndex=index-1):(candidateBlockData=blockData,candidateEdge=edge,candidateRect=rect,candidateBlockIndex=index),isCursorWithinBlock)break}}if(!candidateBlockData)return;const candidateBlockParents=function getCandidateBlockParents(candidateBlockData,blocksData){const candidateBlockParents=[];let currentBlockData=candidateBlockData;for(;currentBlockData;)candidateBlockParents.push({...currentBlockData}),currentBlockData=blocksData.find((blockData=>blockData.clientId===currentBlockData.rootClientId));return candidateBlockParents}(candidateBlockData,blocksData),isDraggingBelow="bottom"===candidateEdge;if(isDraggingBelow&&candidateBlockData.canInsertDraggedBlocksAsChild&&(candidateBlockData.innerBlockCount>0&&candidateBlockData.isExpanded||function isNestingGesture(point,rect,nestingLevel=1,rtl=!1){const blockIndentPosition=rtl?rect.right-nestingLevel*NESTING_LEVEL_INDENTATION:rect.left+nestingLevel*NESTING_LEVEL_INDENTATION;return(rtl?point.x<blockIndentPosition-NESTING_LEVEL_INDENTATION:point.x>blockIndentPosition+NESTING_LEVEL_INDENTATION)&&point.y<rect.bottom}(position,candidateRect,candidateBlockParents.length,rtl))){const newBlockIndex=candidateBlockData.isExpanded?0:candidateBlockData.innerBlockCount||0;return{rootClientId:candidateBlockData.clientId,blockIndex:newBlockIndex,dropPosition:"inside"}}if(isDraggingBelow&&candidateBlockData.rootClientId&&function isUpGesture(point,rect,nestingLevel=1,rtl=!1){const blockIndentPosition=rtl?rect.right-nestingLevel*NESTING_LEVEL_INDENTATION:rect.left+nestingLevel*NESTING_LEVEL_INDENTATION;return rtl?point.x>blockIndentPosition:point.x<blockIndentPosition}(position,candidateRect,candidateBlockParents.length,rtl)){const nextBlock=getNextNonDraggedBlock(blocksData,candidateBlockIndex),currentLevel=candidateBlockData.nestingLevel,nextLevel=nextBlock?nextBlock.nestingLevel:1;if(currentLevel&&nextLevel){const desiredRelativeLevel=function getDesiredRelativeParentLevel(point,rect,nestingLevel=1,rtl=!1){const blockIndentPosition=rtl?rect.right-nestingLevel*NESTING_LEVEL_INDENTATION:rect.left+nestingLevel*NESTING_LEVEL_INDENTATION,distanceBetweenPointAndBlockIndentPosition=rtl?blockIndentPosition-point.x:point.x-blockIndentPosition,desiredParentLevel=Math.round(distanceBetweenPointAndBlockIndentPosition/NESTING_LEVEL_INDENTATION);return Math.abs(desiredParentLevel)}(position,candidateRect,candidateBlockParents.length,rtl),targetParentIndex=Math.max(Math.min(desiredRelativeLevel,currentLevel-nextLevel),0);if(candidateBlockParents[targetParentIndex]){let newBlockIndex=candidateBlockData.blockIndex;if(candidateBlockParents[targetParentIndex].nestingLevel===nextBlock?.nestingLevel)newBlockIndex=nextBlock?.blockIndex;else for(let i=candidateBlockIndex;i>=0;i--){const blockData=blocksData[i];if(blockData.rootClientId===candidateBlockParents[targetParentIndex].rootClientId){newBlockIndex=blockData.blockIndex+1;break}}return{rootClientId:candidateBlockParents[targetParentIndex].rootClientId,clientId:candidateBlockData.clientId,blockIndex:newBlockIndex,dropPosition:candidateEdge}}}}if(!candidateBlockData.canInsertDraggedBlocksAsSibling)return;const offset=isDraggingBelow?1:0;return{rootClientId:candidateBlockData.rootClientId,clientId:candidateBlockData.clientId,blockIndex:candidateBlockData.blockIndex+offset,dropPosition:candidateEdge}}const expanded=(state,action)=>Array.isArray(action.clientIds)?{...state,...action.clientIds.reduce(((newState,id)=>({...newState,[id]:"expand"===action.type})),{})}:state;const PrivateListView=(0,react.forwardRef)((function ListViewComponent({id,blocks,dropZoneElement,showBlockMovers=!1,isExpanded=!1,showAppender=!1,blockSettingsMenu:BlockSettingsMenu=BlockSettingsDropdown,rootClientId,description,onSelect,additionalBlockContent:AdditionalBlockContent},ref){blocks&&(0,deprecated_build_module.Z)("`blocks` property in `wp.blockEditor.__experimentalListView`",{since:"6.3",alternative:"`rootClientId` property"});const instanceId=(0,use_instance_id.Z)(ListViewComponent),{clientIdsTree,draggedClientIds,selectedClientIds}=function useListViewClientIds({blocks,rootClientId}){return(0,use_select.Z)((select=>{const{getDraggedBlockClientIds,getSelectedBlockClientIds,__unstableGetClientIdsTree,getBlockEditingMode}=unlock(select(store)),removeDisabledBlocks=tree=>tree.flatMap((({clientId,innerBlocks,...rest})=>"disabled"===getBlockEditingMode(clientId)?removeDisabledBlocks(innerBlocks):[{clientId,innerBlocks:removeDisabledBlocks(innerBlocks),...rest}]));return{selectedClientIds:getSelectedBlockClientIds(),draggedClientIds:getDraggedBlockClientIds(),clientIdsTree:removeDisabledBlocks(null!=blocks?blocks:__unstableGetClientIdsTree(rootClientId))}}),[blocks,rootClientId])}({blocks,rootClientId}),{getBlock}=(0,use_select.Z)(store),{visibleBlockCount,shouldShowInnerBlocks}=(0,use_select.Z)((select=>{const{getGlobalBlockCount,getClientIdsOfDescendants,__unstableGetEditorMode}=select(store),draggedBlockCount=draggedClientIds?.length>0?getClientIdsOfDescendants(draggedClientIds).length+1:0;return{visibleBlockCount:getGlobalBlockCount()-draggedBlockCount,shouldShowInnerBlocks:"zoom-out"!==__unstableGetEditorMode()}}),[draggedClientIds]),{updateBlockSelection}=useBlockSelection(),[expandedState,setExpandedState]=(0,react.useReducer)(expanded,{}),{ref:dropZoneRef,target:blockDropTarget}=function useListViewDropZone({dropZoneElement}){const{getBlockRootClientId,getBlockIndex,getBlockCount,getDraggedBlockClientIds,canInsertBlocks}=(0,use_select.Z)(store),[target,setTarget]=(0,react.useState)(),{rootClientId:targetRootClientId,blockIndex:targetBlockIndex}=target||{},onBlockDrop=useOnBlockDrop(targetRootClientId,targetBlockIndex),rtl=(0,i18n_build_module.dZ)(),draggedBlockClientIds=getDraggedBlockClientIds(),throttled=(0,use_throttle.Z)((0,react.useCallback)(((event,currentTarget)=>{const position={x:event.clientX,y:event.clientY},isBlockDrag=!!draggedBlockClientIds?.length,newTarget=getListViewDropTarget(Array.from(currentTarget.querySelectorAll("[data-block]")).map((blockElement=>{const clientId=blockElement.dataset.block,isExpanded="true"===blockElement.dataset.expanded,nestingLevel=parseInt(blockElement.getAttribute("aria-level"),10),rootClientId=getBlockRootClientId(clientId);return{clientId,isExpanded,rootClientId,blockIndex:getBlockIndex(clientId),element:blockElement,nestingLevel:nestingLevel||void 0,isDraggedBlock:!!isBlockDrag&&draggedBlockClientIds.includes(clientId),innerBlockCount:getBlockCount(clientId),canInsertDraggedBlocksAsSibling:!isBlockDrag||canInsertBlocks(draggedBlockClientIds,rootClientId),canInsertDraggedBlocksAsChild:!isBlockDrag||canInsertBlocks(draggedBlockClientIds,clientId)}})),position,rtl);newTarget&&setTarget(newTarget)}),[canInsertBlocks,draggedBlockClientIds,getBlockCount,getBlockIndex,getBlockRootClientId,rtl]),200);return{ref:(0,use_drop_zone.Z)({dropZoneElement,onDrop:onBlockDrop,onDragLeave(){throttled.cancel(),setTarget(null)},onDragOver(event){throttled(event,event.currentTarget)},onDragEnd(){throttled.cancel(),setTarget(null)}}),target}}({dropZoneElement}),elementRef=(0,react.useRef)(),treeGridRef=(0,use_merge_refs.Z)([elementRef,dropZoneRef,ref]),isMounted=(0,react.useRef)(!1),[insertedBlock,setInsertedBlock]=(0,react.useState)(null),{setSelectedTreeId}=function useListViewExpandSelectedItem({firstSelectedBlockClientId,setExpandedState}){const[selectedTreeId,setSelectedTreeId]=(0,react.useState)(null),{selectedBlockParentClientIds}=(0,use_select.Z)((select=>{const{getBlockParents}=select(store);return{selectedBlockParentClientIds:getBlockParents(firstSelectedBlockClientId,!1)}}),[firstSelectedBlockClientId]),parentClientIds=Array.isArray(selectedBlockParentClientIds)&&selectedBlockParentClientIds.length?selectedBlockParentClientIds:null;return(0,react.useEffect)((()=>{selectedTreeId!==firstSelectedBlockClientId&&parentClientIds&&setExpandedState({type:"expand",clientIds:selectedBlockParentClientIds})}),[firstSelectedBlockClientId]),{setSelectedTreeId}}({firstSelectedBlockClientId:selectedClientIds[0],setExpandedState}),selectEditorBlock=(0,react.useCallback)(((event,blockClientId,focusPosition)=>{updateBlockSelection(event,blockClientId,null,focusPosition),setSelectedTreeId(blockClientId),onSelect&&onSelect(getBlock(blockClientId))}),[setSelectedTreeId,updateBlockSelection,onSelect,getBlock]);(0,react.useEffect)((()=>{isMounted.current=!0}),[]);const[fixedListWindow]=function useFixedWindowList(elementRef,itemHeight,totalItems,options){var _options$initWindowSi,_options$useWindowing;const initWindowSize=null!==(_options$initWindowSi=options?.initWindowSize)&&void 0!==_options$initWindowSi?_options$initWindowSi:DEFAULT_INIT_WINDOW_SIZE,useWindowing=null===(_options$useWindowing=options?.useWindowing)||void 0===_options$useWindowing||_options$useWindowing,[fixedListWindow,setFixedListWindow]=(0,react.useState)({visibleItems:initWindowSize,start:0,end:initWindowSize,itemInView:index=>index>=0&&index<=initWindowSize});return(0,react.useLayoutEffect)((()=>{if(!useWindowing)return;const scrollContainer=(0,get_scroll_container.Z)(elementRef.current),measureWindow=initRender=>{var _options$windowOversc;if(!scrollContainer)return;const visibleItems=Math.ceil(scrollContainer.clientHeight/itemHeight),windowOverscan=initRender?visibleItems:null!==(_options$windowOversc=options?.windowOverscan)&&void 0!==_options$windowOversc?_options$windowOversc:visibleItems,firstViewableIndex=Math.floor(scrollContainer.scrollTop/itemHeight),start=Math.max(0,firstViewableIndex-windowOverscan),end=Math.min(totalItems-1,firstViewableIndex+visibleItems+windowOverscan);setFixedListWindow((lastWindow=>{const nextWindow={visibleItems,start,end,itemInView:index=>start<=index&&index<=end};return lastWindow.start!==nextWindow.start||lastWindow.end!==nextWindow.end||lastWindow.visibleItems!==nextWindow.visibleItems?nextWindow:lastWindow}))};measureWindow(!0);const debounceMeasureList=(0,debounce.D)((()=>{measureWindow()}),16);return scrollContainer?.addEventListener("scroll",debounceMeasureList),scrollContainer?.ownerDocument?.defaultView?.addEventListener("resize",debounceMeasureList),scrollContainer?.ownerDocument?.defaultView?.addEventListener("resize",debounceMeasureList),()=>{scrollContainer?.removeEventListener("scroll",debounceMeasureList),scrollContainer?.ownerDocument?.defaultView?.removeEventListener("resize",debounceMeasureList)}}),[itemHeight,elementRef,totalItems]),(0,react.useLayoutEffect)((()=>{if(!useWindowing)return;const scrollContainer=(0,get_scroll_container.Z)(elementRef.current),handleKeyDown=event=>{switch(event.keyCode){case keycodes_build_module.Sd:return scrollContainer?.scrollTo({top:0});case keycodes_build_module.uR:return scrollContainer?.scrollTo({top:totalItems*itemHeight});case keycodes_build_module.wx:return scrollContainer?.scrollTo({top:scrollContainer.scrollTop-fixedListWindow.visibleItems*itemHeight});case keycodes_build_module.Bi:return scrollContainer?.scrollTo({top:scrollContainer.scrollTop+fixedListWindow.visibleItems*itemHeight})}};return scrollContainer?.ownerDocument?.defaultView?.addEventListener("keydown",handleKeyDown),()=>{scrollContainer?.ownerDocument?.defaultView?.removeEventListener("keydown",handleKeyDown)}}),[totalItems,itemHeight,elementRef,fixedListWindow.visibleItems]),[fixedListWindow,setFixedListWindow]}(elementRef,36,visibleBlockCount,{useWindowing:!0,windowOverscan:40}),expand=(0,react.useCallback)((clientId=>{clientId&&setExpandedState({type:"expand",clientIds:[clientId]})}),[setExpandedState]),collapse=(0,react.useCallback)((clientId=>{clientId&&setExpandedState({type:"collapse",clientIds:[clientId]})}),[setExpandedState]),expandRow=(0,react.useCallback)((row=>{expand(row?.dataset?.block)}),[expand]),collapseRow=(0,react.useCallback)((row=>{collapse(row?.dataset?.block)}),[collapse]),focusRow=(0,react.useCallback)(((event,startRow,endRow)=>{event.shiftKey&&updateBlockSelection(event,startRow?.dataset?.block,endRow?.dataset?.block)}),[updateBlockSelection]),contextValue=(0,react.useMemo)((()=>({isTreeGridMounted:isMounted.current,draggedClientIds,expandedState,expand,collapse,BlockSettingsMenu,listViewInstanceId:instanceId,AdditionalBlockContent,insertedBlock,setInsertedBlock,treeGridElementRef:elementRef})),[draggedClientIds,expandedState,expand,collapse,BlockSettingsMenu,instanceId,AdditionalBlockContent,insertedBlock,setInsertedBlock]);return clientIdsTree.length||showAppender?(0,react.createElement)(async_mode_provider_context.ZP,{value:!0},(0,react.createElement)(ListViewDropIndicator,{listViewRef:elementRef,blockDropTarget}),(0,react.createElement)(tree_grid,{id,className:"block-editor-list-view-tree","aria-label":(0,i18n_build_module.__)("Block navigation structure"),ref:treeGridRef,onCollapseRow:collapseRow,onExpandRow:expandRow,onFocusRow:focusRow,applicationAriaLabel:(0,i18n_build_module.__)("Block navigation structure"),"aria-description":description},(0,react.createElement)(ListViewContext.Provider,{value:contextValue},(0,react.createElement)(branch,{blocks:clientIdsTree,parentId:rootClientId,selectBlock:selectEditorBlock,showBlockMovers,fixedListWindow,selectedClientIds,isExpanded,shouldShowInnerBlocks,showAppender})))):null})),privateApis=((0,react.forwardRef)(((props,ref)=>(0,react.createElement)(PrivateListView,(0,esm_extends.Z)({ref},props,{showAppender:!1,rootClientId:null,onSelect:null,additionalBlockContent:null,blockSettingsMenu:void 0})))),{});lock(privateApis,{...global_styles_namespaceObject,ExperimentalBlockEditorProvider,PrivateInserter:ComposedPrivateInserter,PrivateListView,ResizableBoxPopover:function ResizableBoxPopover({clientId,resizableBoxProps,...props}){return(0,react.createElement)(block_popover,(0,esm_extends.Z)({clientId,__unstableCoverTarget:!0,__unstablePopoverSlot:"block-toolbar",shift:!1},props),(0,react.createElement)(resizable_box.Z,resizableBoxProps))},BlockInfo:block_info_slot_fill,useShouldContextualToolbarShow,cleanEmptyObject:utils_cleanEmptyObject,useBlockEditingMode,BlockQuickNavigation,LayoutStyle,useLayoutClasses,useLayoutStyles:function useLayoutStyles(blockAttributes={},blockName,selector){const{layout={},style={}}=blockAttributes,usedLayout=layout?.inherit||layout?.contentSize||layout?.wideSize?{...layout,type:"constrained"}:layout||{},fullLayoutType=getLayoutType(usedLayout?.type||"default"),hasBlockGapSupport=null!==use_setting_useSetting("spacing.blockGap"),css=fullLayoutType?.getLayoutStyle?.({blockName,selector,layout,style,hasBlockGapSupport});return css}})},"./packages/components/build-module/border-box-control/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{gH:()=>getBorderDiff,TZ:()=>getCommonBorder,vw:()=>getSplitBorders,Le:()=>hasMixedBorders,Al:()=>hasSplitBorders,n7:()=>isCompleteBorder,lX:()=>isDefinedBorder,TT:()=>isEmptyBorder});const UNITED_VALUE_REGEX=/^([\d.\-+]*)\s*(fr|cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|vw|vh|vmin|vmax|%|cap|ic|rlh|vi|vb|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?$/;const sides=["top","right","bottom","left"],borderProps=["color","style","width"],isEmptyBorder=border=>!border||!borderProps.some((prop=>void 0!==border[prop])),isDefinedBorder=border=>{if(!border)return!1;if(hasSplitBorders(border)){return!sides.every((side=>isEmptyBorder(border[side])))}return!isEmptyBorder(border)},isCompleteBorder=border=>!!border&&borderProps.every((prop=>void 0!==border[prop])),hasSplitBorders=(border={})=>Object.keys(border).some((side=>-1!==sides.indexOf(side))),hasMixedBorders=borders=>{if(!hasSplitBorders(borders))return!1;const shorthandBorders=sides.map((side=>getShorthandBorderStyle(borders?.[side])));return!shorthandBorders.every((border=>border===shorthandBorders[0]))},getSplitBorders=border=>{if(border&&!isEmptyBorder(border))return{top:border,right:border,bottom:border,left:border}},getBorderDiff=(original,updated)=>{const diff={};return original.color!==updated.color&&(diff.color=updated.color),original.style!==updated.style&&(diff.style=updated.style),original.width!==updated.width&&(diff.width=updated.width),diff},getCommonBorder=borders=>{if(!borders)return;const colors=[],styles=[],widths=[];sides.forEach((side=>{colors.push(borders[side]?.color),styles.push(borders[side]?.style),widths.push(borders[side]?.width)}));const allColorsMatch=colors.every((value=>value===colors[0])),allStylesMatch=styles.every((value=>value===styles[0])),allWidthsMatch=widths.every((value=>value===widths[0]));return{color:allColorsMatch?colors[0]:void 0,style:allStylesMatch?styles[0]:void 0,width:allWidthsMatch?widths[0]:getMostCommonUnit(widths)}},getShorthandBorderStyle=(border,fallbackBorder)=>{if(isEmptyBorder(border))return fallbackBorder;const{color:fallbackColor,style:fallbackStyle,width:fallbackWidth}=fallbackBorder||{},{color=fallbackColor,style=fallbackStyle,width=fallbackWidth}=border;return[width,!!width&&"0"!==width||!!color?style||"solid":style,color].filter(Boolean).join(" ")},getMostCommonUnit=values=>function mode(values){if(0===values.length)return;const map={};let currentMode,maxCount=0;return values.forEach((value=>{map[value]=void 0===map[value]?1:map[value]+1,map[value]>maxCount&&(currentMode=value,maxCount=map[value])})),currentMode}(values.map((value=>void 0===value?void 0:function parseCSSUnitValue(toParse){const matched=toParse.trim().match(UNITED_VALUE_REGEX);if(!matched)return[void 0,void 0];const[,num,unit]=matched;let numParsed=parseFloat(num);return numParsed=Number.isNaN(numParsed)?void 0:numParsed,[numParsed,unit]}(`${value}`)[1])).filter((value=>void 0!==value)))},"./packages/components/build-module/button-group/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((function UnforwardedButtonGroup(props,ref){const{className,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-button-group",className);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__.Z)({ref,role:"group",className:classes},restProps))}))},"./packages/components/build-module/circular-option-picker/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/icons/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/icons/build-module/library/check.js"),_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/build-module/button/index.js"),_dropdown__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/dropdown/index.js"),_tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/tooltip/index.js");function CircularOptionPicker(props){const{actions,className,options,children}=props;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-circular-option-picker",className)},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{className:"components-circular-option-picker__swatches"},options),children,actions&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{className:"components-circular-option-picker__custom-clear-wrapper"},actions))}CircularOptionPicker.Option=function Option({className,isSelected,selectedIconProps,tooltipText,...additionalProps}){const optionButton=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_button__WEBPACK_IMPORTED_MODULE_2__.ZP,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({isPressed:isSelected,className:"components-circular-option-picker__option"},additionalProps));return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()(className,"components-circular-option-picker__option-wrapper")},tooltipText?(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_tooltip__WEBPACK_IMPORTED_MODULE_4__.Z,{text:tooltipText},optionButton):optionButton,isSelected&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_5__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__.Z},selectedIconProps||{})))},CircularOptionPicker.ButtonAction=function ButtonAction({className,children,...additionalProps}){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_button__WEBPACK_IMPORTED_MODULE_2__.ZP,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-circular-option-picker__clear",className),variant:"tertiary"},additionalProps),children)},CircularOptionPicker.DropdownLinkAction=function DropdownLinkAction({buttonProps,className,dropdownProps,linkText}){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_dropdown__WEBPACK_IMPORTED_MODULE_7__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-circular-option-picker__dropdown-link-action",className),renderToggle:({isOpen,onToggle})=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_button__WEBPACK_IMPORTED_MODULE_2__.ZP,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({"aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,variant:"link"},buttonProps),linkText)},dropdownProps))};const __WEBPACK_DEFAULT_EXPORT__=CircularOptionPicker},"./packages/components/build-module/color-indicator/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((function UnforwardedColorIndicator(props,forwardedRef){const{className,colorValue,...additionalProps}=props;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("span",(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__.Z)({className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("component-color-indicator",className),style:{background:colorValue},ref:forwardedRef},additionalProps))}))},"./packages/components/build-module/color-palette/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qK:()=>CustomColorPickerDropdown,ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/index.js"),colord__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/colord/index.mjs"),colord_plugins_names__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/colord/plugins/names.mjs"),colord_plugins_a11y__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/colord/plugins/a11y.mjs"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/i18n/build-module/index.js"),_dropdown__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/components/build-module/dropdown/index.js"),_color_picker__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/components/build-module/color-picker/legacy-adapter.js"),_circular_option_picker__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/circular-option-picker/index.js"),_v_stack__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/v-stack/component.js"),_truncate__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/components/build-module/truncate/component.js"),_styles__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/components/build-module/color-palette/styles.js"),_dropdown_dropdown_content_wrapper__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/components/build-module/dropdown/dropdown-content-wrapper.js"),_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/components/build-module/color-palette/utils.js");function SinglePalette({className,clearColor,colors,onChange,value,actions}){const colorOptions=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.useMemo)((()=>colors.map((({color,name},index)=>{const colordColor=(0,colord__WEBPACK_IMPORTED_MODULE_2__.Vi)(color),isSelected=value===color;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_6__.ZP.Option,{key:`${color}-${index}`,isSelected,selectedIconProps:isSelected?{fill:colordColor.contrast()>colordColor.contrast("#000")?"#fff":"#000"}:{},tooltipText:name||(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Color code: %s"),color),style:{backgroundColor:color,color},onClick:isSelected?clearColor:()=>onChange(color,index),"aria-label":name?(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Color: %s"),name):(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Color code: %s"),color)})}))),[colors,value,onChange,clearColor]);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_6__.ZP,{className,options:colorOptions,actions})}function MultiplePalettes({className,clearColor,colors,onChange,value,actions,headingLevel}){return 0===colors.length?null:(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_7__.Z,{spacing:3,className},colors.map((({name,colors:colorPalette},index)=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_7__.Z,{spacing:2,key:index},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_styles__WEBPACK_IMPORTED_MODULE_8__.A,{level:headingLevel},name),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(SinglePalette,{clearColor,colors:colorPalette,onChange:newColor=>onChange(newColor,index),value,actions:colors.length===index+1?actions:null})))))}function CustomColorPickerDropdown({isRenderedInSidebar,popoverProps:receivedPopoverProps,...props}){const popoverProps=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.useMemo)((()=>({shift:!0,...isRenderedInSidebar?{placement:"left-start",offset:34}:{placement:"bottom",offset:8},...receivedPopoverProps})),[isRenderedInSidebar,receivedPopoverProps]);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_dropdown__WEBPACK_IMPORTED_MODULE_9__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_10__.Z)({contentClassName:"components-color-palette__custom-color-dropdown-content",popoverProps},props))}(0,colord__WEBPACK_IMPORTED_MODULE_2__.l7)([colord_plugins_names__WEBPACK_IMPORTED_MODULE_3__.Z,colord_plugins_a11y__WEBPACK_IMPORTED_MODULE_4__.Z]);const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.forwardRef)((function UnforwardedColorPalette(props,forwardedRef){const{clearable=!0,colors=[],disableCustomColors=!1,enableAlpha=!1,onChange,value,__experimentalIsRenderedInSidebar=!1,headingLevel=2,...otherProps}=props,[normalizedColorValue,setNormalizedColorValue]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.useState)(value),clearColor=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.useCallback)((()=>onChange(void 0)),[onChange]),customColorPaletteCallbackRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.useCallback)((node=>{setNormalizedColorValue((0,_utils__WEBPACK_IMPORTED_MODULE_11__.SE)(value,node))}),[value]),hasMultipleColorOrigins=(0,_utils__WEBPACK_IMPORTED_MODULE_11__.v9)(colors),buttonLabelName=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.useMemo)((()=>(0,_utils__WEBPACK_IMPORTED_MODULE_11__.OC)(value,colors,hasMultipleColorOrigins)),[value,colors,hasMultipleColorOrigins]),isHex=value?.startsWith("#"),displayValue=value?.replace(/^var\((.+)\)$/,"$1"),customColorAccessibleLabel=displayValue?(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Custom color picker. The currently selected color is called "%1$s" and has a value of "%2$s".'),buttonLabelName,isHex?displayValue.split("").join("-"):displayValue):(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Custom color picker."),paletteCommonProps={clearable,clearColor,onChange,value,actions:!!clearable&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_6__.ZP.ButtonAction,{onClick:clearColor},(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Clear")),headingLevel};return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_7__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_10__.Z)({spacing:3,ref:forwardedRef},otherProps),!disableCustomColors&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(CustomColorPickerDropdown,{isRenderedInSidebar:__experimentalIsRenderedInSidebar,renderContent:()=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_dropdown_dropdown_content_wrapper__WEBPACK_IMPORTED_MODULE_12__.Z,{paddingSize:"none"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_color_picker__WEBPACK_IMPORTED_MODULE_13__.A,{color:normalizedColorValue,onChange:color=>onChange(color),enableAlpha})),renderToggle:({isOpen,onToggle})=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_7__.Z,{className:"components-color-palette__custom-color-wrapper",spacing:0},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)("button",{ref:customColorPaletteCallbackRef,className:"components-color-palette__custom-color-button","aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,"aria-label":customColorAccessibleLabel,style:{background:value}}),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_7__.Z,{className:"components-color-palette__custom-color-text-wrapper",spacing:.5},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_truncate__WEBPACK_IMPORTED_MODULE_14__.Z,{className:"components-color-palette__custom-color-name"},value?buttonLabelName:"No color selected"),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(_truncate__WEBPACK_IMPORTED_MODULE_14__.Z,{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-color-palette__custom-color-value",{"components-color-palette__custom-color-value--is-hex":isHex})},displayValue)))}),hasMultipleColorOrigins?(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(MultiplePalettes,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_10__.Z)({},paletteCommonProps,{colors})):(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.createElement)(SinglePalette,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_10__.Z)({},paletteCommonProps,{colors})))}))},"./packages/components/build-module/color-palette/styles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ColorHeading});var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),_heading__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/heading/component.js");const ColorHeading=(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__.Z)(_heading__WEBPACK_IMPORTED_MODULE_1__.Z,{target:"ev9wop70"})({name:"13lxv2o",styles:"text-transform:uppercase;line-height:24px;font-weight:500;&&&{font-size:11px;margin-bottom:0;}"})},"./packages/components/build-module/color-palette/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{OC:()=>extractColorNameFromCurrentValue,v9:()=>isMultiplePaletteArray,SE:()=>normalizeColorValue});var colord__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/colord/index.mjs"),colord_plugins_names__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/colord/plugins/names.mjs"),colord_plugins_a11y__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/colord/plugins/a11y.mjs"),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/build-module/index.js");(0,colord__WEBPACK_IMPORTED_MODULE_1__.l7)([colord_plugins_names__WEBPACK_IMPORTED_MODULE_2__.Z,colord_plugins_a11y__WEBPACK_IMPORTED_MODULE_3__.Z]);const extractColorNameFromCurrentValue=(currentValue,colors=[],showMultiplePalettes=!1)=>{if(!currentValue)return"";const currentValueIsCssVariable=/^var\(/.test(currentValue),normalizedCurrentValue=currentValueIsCssVariable?currentValue:(0,colord__WEBPACK_IMPORTED_MODULE_1__.Vi)(currentValue).toHex(),colorPalettes=showMultiplePalettes?colors:[{colors}];for(const{colors:paletteColors}of colorPalettes)for(const{name:colorName,color:colorValue}of paletteColors){if(normalizedCurrentValue===(currentValueIsCssVariable?colorValue:(0,colord__WEBPACK_IMPORTED_MODULE_1__.Vi)(colorValue).toHex()))return colorName}return(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Custom")},isMultiplePaletteArray=arr=>arr.length>0&&arr.every((colorObj=>{return obj=colorObj,Array.isArray(obj.colors)&&!("color"in obj);var obj})),normalizeColorValue=(value,element)=>{if(!/^var\(/.test(null!=value?value:"")||null===element)return value;const{ownerDocument}=element,{defaultView}=ownerDocument,computedBackgroundColor=defaultView?.getComputedStyle(element).backgroundColor;return computedBackgroundColor?(0,colord__WEBPACK_IMPORTED_MODULE_1__.Vi)(computedBackgroundColor).toHex():value}},"./packages/components/build-module/color-picker/legacy-adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>LegacyAdapter});var tooltip_styles_namespaceObject={};__webpack_require__.r(tooltip_styles_namespaceObject),__webpack_require__.d(tooltip_styles_namespaceObject,{TooltipContent:()=>TooltipContent,TooltipPopoverView:()=>TooltipPopoverView,TooltipShortcut:()=>TooltipShortcut,noOutline:()=>noOutline});var react=__webpack_require__("./node_modules/react/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),colord=__webpack_require__("./node_modules/colord/index.mjs"),names=__webpack_require__("./node_modules/colord/plugins/names.mjs"),use_debounce=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),use_context_system=__webpack_require__("./packages/components/build-module/ui/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/build-module/ui/context/context-connect.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),number_control=__webpack_require__("./packages/components/build-module/number-control/index.js"),select_control=__webpack_require__("./packages/components/build-module/select-control/index.js"),range_control=__webpack_require__("./packages/components/build-module/range-control/index.js"),space=__webpack_require__("./packages/components/build-module/ui/utils/space.js"),box_sizing=__webpack_require__("./packages/components/build-module/utils/box-sizing.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),h_stack_component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),input_control_styles=__webpack_require__("./packages/components/build-module/input-control/styles/input-control-styles.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");const NumberControlWrapper=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"ez9hsf47"})(input_control_styles.W2,"{width:",(0,space.D)(24),";}"),SelectControl=(0,emotion_styled_base_browser_esm.Z)(select_control.Z,{target:"ez9hsf46"})("margin-left:",(0,space.D)(-2),";width:5em;select:not( :focus )~",input_control_styles.Kg,input_control_styles.Kg,input_control_styles.Kg,"{border-color:transparent;}"),RangeControl=(0,emotion_styled_base_browser_esm.Z)(range_control.Z,{target:"ez9hsf45"})("flex:1;margin-right:",(0,space.D)(2),";"),interactiveHueStyles=`\n.react-colorful__interactive {\n\twidth: calc( 100% - ${(0,space.D)(2)} );\n\tmargin-left: ${(0,space.D)(1)};\n}`,AuxiliaryColorArtefactWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ez9hsf44"})("padding-top:",(0,space.D)(2),";padding-right:0;padding-left:0;padding-bottom:0;"),AuxiliaryColorArtefactHStackHeader=(0,emotion_styled_base_browser_esm.Z)(h_stack_component.Z,{target:"ez9hsf43"})("padding-left:",(0,space.D)(4),";padding-right:",(0,space.D)(4),";"),ColorInputWrapper=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"ez9hsf42"})("padding-top:",(0,space.D)(4),";padding-left:",(0,space.D)(4),";padding-right:",(0,space.D)(3),";padding-bottom:",(0,space.D)(5),";"),ColorfulWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ez9hsf41"})(box_sizing.p,";width:216px;.react-colorful{display:flex;flex-direction:column;align-items:center;width:216px;height:auto;overflow:hidden;}.react-colorful__saturation{width:100%;border-radius:0;height:216px;margin-bottom:",(0,space.D)(4),";border-bottom:none;}.react-colorful__hue,.react-colorful__alpha{width:184px;height:16px;border-radius:16px;margin-bottom:",(0,space.D)(2),";}.react-colorful__pointer{height:16px;width:16px;border:none;box-shadow:0 0 2px 0 rgba( 0, 0, 0, 0.25 );outline:2px solid transparent;}.react-colorful__pointer-fill{box-shadow:inset 0 0 0 ",config_values.Z.borderWidthFocus," #fff;}",interactiveHueStyles,";"),CopyButton=(0,emotion_styled_base_browser_esm.Z)(build_module_button.ZP,{target:"ez9hsf40"})("&&&&&{min-width:",(0,space.D)(6),";padding:0;>svg{margin-right:0;}}");var use_copy_to_clipboard=__webpack_require__("./packages/compose/build-module/hooks/use-copy-to-clipboard/index.js"),copy=__webpack_require__("./packages/icons/build-module/library/copy.js"),text_component=__webpack_require__("./packages/components/build-module/text/component.js"),TooltipState=__webpack_require__("./packages/components/node_modules/reakit/es/Tooltip/TooltipState.js"),TooltipReference=__webpack_require__("./packages/components/node_modules/reakit/es/Tooltip/TooltipReference.js");const TooltipContext=(0,react.createContext)({});var Tooltip=__webpack_require__("./packages/components/node_modules/reakit/es/Tooltip/Tooltip.js"),view_component=__webpack_require__("./packages/components/build-module/view/component.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");const shortcut_component=(0,context_connect.Iq)((function Shortcut(props,forwardedRef){const{as:asProp="span",shortcut,className,...otherProps}=(0,use_context_system.y)(props,"Shortcut");if(!shortcut)return null;let displayText,ariaLabel;return"string"==typeof shortcut?displayText=shortcut:(displayText=shortcut.display,ariaLabel=shortcut.ariaLabel),(0,react.createElement)(view_component.Z,(0,esm_extends.Z)({as:asProp,className,"aria-label":ariaLabel,ref:forwardedRef},otherProps),displayText)}),"Shortcut");var colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js");const TooltipContent=(0,emotion_react_browser_esm.iv)("z-index:",1000002,";box-sizing:border-box;opacity:0;outline:none;transform-origin:top center;transition:opacity ",config_values.Z.transitionDurationFastest," ease;font-size:",config_values.Z.fontSize,";&[data-enter]{opacity:1;}","","",""),TooltipPopoverView=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e7tfjmw1"})("background:rgba( 0, 0, 0, 0.8 );border-radius:2px;box-shadow:0 0 0 1px rgba( 255, 255, 255, 0.04 );color:",colors_values.D.white,";padding:4px 8px;"),noOutline={name:"12mkfdx",styles:"outline:none"},TooltipShortcut=(0,emotion_styled_base_browser_esm.Z)(shortcut_component,{target:"e7tfjmw0"})("display:inline-block;margin-left:",(0,space.D)(1),";");var use_cx=__webpack_require__("./packages/components/build-module/utils/hooks/use-cx.js");const{TooltipPopoverView:content_TooltipPopoverView}=tooltip_styles_namespaceObject;const tooltip_content=(0,context_connect.Iq)((function content_TooltipContent(props,forwardedRef){const{children,className,...otherProps}=(0,use_context_system.y)(props,"TooltipContent"),{tooltip}=(0,react.useContext)(TooltipContext),classes=(0,use_cx.I)()(TooltipContent,className);return(0,react.createElement)(Tooltip.u,(0,esm_extends.Z)({as:view_component.Z},otherProps,tooltip,{className:classes,ref:forwardedRef}),(0,react.createElement)(content_TooltipPopoverView,null,children))}),"TooltipContent");const tooltip_component=(0,context_connect.Iq)((function component_Tooltip(props,forwardedRef){const{animated=!0,animationDuration=160,baseId,children,content,focusable=!0,gutter=4,id,modal=!0,placement,visible=!1,shortcut,...otherProps}=(0,use_context_system.y)(props,"Tooltip"),tooltip=(0,TooltipState.K)({animated:animated?animationDuration:void 0,baseId:baseId||id,gutter,placement,visible,...otherProps}),contextProps=(0,react.useMemo)((()=>({tooltip})),[tooltip]);return(0,react.createElement)(TooltipContext.Provider,{value:contextProps},content&&(0,react.createElement)(tooltip_content,{unstable_portal:modal,ref:forwardedRef},content,shortcut&&(0,react.createElement)(TooltipShortcut,{shortcut})),children&&(0,react.createElement)(TooltipReference.v,(0,esm_extends.Z)({},tooltip,children.props,{ref:children?.ref}),(referenceProps=>(focusable||(referenceProps.tabIndex=void 0),(0,react.cloneElement)(children,referenceProps)))))}),"Tooltip"),ColorCopyButton=props=>{const{color,colorType}=props,[copiedColor,setCopiedColor]=(0,react.useState)(null),copyTimer=(0,react.useRef)(),copyRef=(0,use_copy_to_clipboard.Z)((()=>{switch(colorType){case"hsl":return color.toHslString();case"rgb":return color.toRgbString();default:return color.toHex()}}),(()=>{copyTimer.current&&clearTimeout(copyTimer.current),setCopiedColor(color.toHex()),copyTimer.current=setTimeout((()=>{setCopiedColor(null),copyTimer.current=void 0}),3e3)}));return(0,react.useEffect)((()=>()=>{copyTimer.current&&clearTimeout(copyTimer.current)}),[]),(0,react.createElement)(tooltip_component,{content:(0,react.createElement)(text_component.Z,{color:"white"},copiedColor===color.toHex()?(0,build_module.__)("Copied!"):(0,build_module.__)("Copy")),placement:"bottom"},(0,react.createElement)(CopyButton,{isSmall:!0,ref:copyRef,icon:copy.Z,showTooltip:!1}))};var spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js");const InputWithSlider=({min,max,label,abbreviation,onChange,value})=>(0,react.createElement)(h_stack_component.Z,{spacing:4},(0,react.createElement)(NumberControlWrapper,{min,max,label,hideLabelFromVision:!0,value,onChange:newValue=>{onChange(newValue?"string"!=typeof newValue?newValue:parseInt(newValue,10):0)},prefix:(0,react.createElement)(spacer_component.Z,{as:text_component.Z,paddingLeft:(0,space.D)(4),color:colors_values.D.ui.theme,lineHeight:1},abbreviation),spinControls:"none",size:"__unstable-large"}),(0,react.createElement)(RangeControl,{__nextHasNoMarginBottom:!0,label,hideLabelFromVision:!0,min,max,value,onChange,withInputField:!1})),RgbInput=({color,onChange,enableAlpha})=>{const{r,g,b,a}=color.toRgb();return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(InputWithSlider,{min:0,max:255,label:"Red",abbreviation:"R",value:r,onChange:nextR=>onChange((0,colord.Vi)({r:nextR,g,b,a}))}),(0,react.createElement)(InputWithSlider,{min:0,max:255,label:"Green",abbreviation:"G",value:g,onChange:nextG=>onChange((0,colord.Vi)({r,g:nextG,b,a}))}),(0,react.createElement)(InputWithSlider,{min:0,max:255,label:"Blue",abbreviation:"B",value:b,onChange:nextB=>onChange((0,colord.Vi)({r,g,b:nextB,a}))}),enableAlpha&&(0,react.createElement)(InputWithSlider,{min:0,max:100,label:"Alpha",abbreviation:"A",value:Math.trunc(100*a),onChange:nextA=>onChange((0,colord.Vi)({r,g,b,a:nextA/100}))}))},HslInput=({color,onChange,enableAlpha})=>{const{h,s,l,a}=color.toHsl();return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(InputWithSlider,{min:0,max:359,label:"Hue",abbreviation:"H",value:h,onChange:nextH=>{onChange((0,colord.Vi)({h:nextH,s,l,a}))}}),(0,react.createElement)(InputWithSlider,{min:0,max:100,label:"Saturation",abbreviation:"S",value:s,onChange:nextS=>{onChange((0,colord.Vi)({h,s:nextS,l,a}))}}),(0,react.createElement)(InputWithSlider,{min:0,max:100,label:"Lightness",abbreviation:"L",value:l,onChange:nextL=>{onChange((0,colord.Vi)({h,s,l:nextL,a}))}}),enableAlpha&&(0,react.createElement)(InputWithSlider,{min:0,max:100,label:"Alpha",abbreviation:"A",value:Math.trunc(100*a),onChange:nextA=>{onChange((0,colord.Vi)({h,s,l,a:nextA/100}))}}))};var input_control=__webpack_require__("./packages/components/build-module/input-control/index.js");const HexInput=({color,onChange,enableAlpha})=>(0,react.createElement)(input_control.gs,{prefix:(0,react.createElement)(spacer_component.Z,{as:text_component.Z,marginLeft:(0,space.D)(4),color:colors_values.D.ui.theme,lineHeight:1},"#"),value:color.toHex().slice(1).toUpperCase(),onChange:nextValue=>{if(!nextValue)return;const hexValue=nextValue.startsWith("#")?nextValue:"#"+nextValue;onChange((0,colord.Vi)(hexValue))},maxLength:enableAlpha?9:7,label:(0,build_module.__)("Hex color"),hideLabelFromVision:!0,size:"__unstable-large",__unstableStateReducer:(state,action)=>{const nativeEvent=action.payload?.event?.nativeEvent;if("insertFromPaste"!==nativeEvent?.inputType)return{...state};const value=state.value?.startsWith("#")?state.value.slice(1).toUpperCase():state.value?.toUpperCase();return{...state,value}},__unstableInputWidth:"9em"}),ColorInput=({colorType,color,onChange,enableAlpha})=>{const props={color,onChange,enableAlpha};switch(colorType){case"hsl":return(0,react.createElement)(HslInput,props);case"rgb":return(0,react.createElement)(RgbInput,props);default:return(0,react.createElement)(HexInput,props)}};var index_module=__webpack_require__("./node_modules/react-colorful/dist/index.module.js");const Picker=({color,enableAlpha,onChange})=>{const Component=enableAlpha?index_module.ef:index_module.W_,rgbColor=(0,react.useMemo)((()=>color.toRgbString()),[color]);return(0,react.createElement)(Component,{color:rgbColor,onChange:nextColor=>{onChange((0,colord.Vi)(nextColor))}})};var use_controlled_value=__webpack_require__("./packages/components/build-module/utils/hooks/use-controlled-value.js");(0,colord.l7)([names.Z]);const options=[{label:"RGB",value:"rgb"},{label:"HSL",value:"hsl"},{label:"Hex",value:"hex"}],color_picker_component=(0,context_connect.Iq)(((props,forwardedRef)=>{const{enableAlpha=!1,color:colorProp,onChange,defaultValue="#fff",copyFormat,...divProps}=(0,use_context_system.y)(props,"ColorPicker"),[color,setColor]=(0,use_controlled_value.O)({onChange,value:colorProp,defaultValue}),safeColordColor=(0,react.useMemo)((()=>(0,colord.Vi)(color||"")),[color]),debouncedSetColor=(0,use_debounce.Z)(setColor),handleChange=(0,react.useCallback)((nextValue=>{debouncedSetColor(nextValue.toHex())}),[debouncedSetColor]),[colorType,setColorType]=(0,react.useState)(copyFormat||"hex");return(0,react.createElement)(ColorfulWrapper,(0,esm_extends.Z)({ref:forwardedRef},divProps),(0,react.createElement)(Picker,{onChange:handleChange,color:safeColordColor,enableAlpha}),(0,react.createElement)(AuxiliaryColorArtefactWrapper,null,(0,react.createElement)(AuxiliaryColorArtefactHStackHeader,{justify:"space-between"},(0,react.createElement)(SelectControl,{__nextHasNoMarginBottom:!0,options,value:colorType,onChange:nextColorType=>setColorType(nextColorType),label:(0,build_module.__)("Color format"),hideLabelFromVision:!0}),(0,react.createElement)(ColorCopyButton,{color:safeColordColor,colorType:copyFormat||colorType})),(0,react.createElement)(ColorInputWrapper,{direction:"column",gap:2},(0,react.createElement)(ColorInput,{colorType,color:safeColordColor,onChange:handleChange,enableAlpha}))))}),"ColorPicker");function getColorFromLegacyProps(color){if(void 0!==color)return"string"==typeof color?color:color.hex?color.hex:void 0}const transformColorStringToLegacyColor=(0,__webpack_require__("./node_modules/memize/dist/index.js").Z)((color=>{const colordColor=(0,colord.Vi)(color),hex=colordColor.toHex(),rgb=colordColor.toRgb(),hsv=colordColor.toHsv(),hsl=colordColor.toHsl();return{hex,rgb,hsv,hsl,source:"hex",oldHue:hsl.h}}));const LegacyAdapter=props=>(0,react.createElement)(color_picker_component,function useDeprecatedProps(props){const{onChangeComplete}=props,legacyChangeHandler=(0,react.useCallback)((color=>{onChangeComplete(transformColorStringToLegacyColor(color))}),[onChangeComplete]);return function isLegacyProps(props){return void 0!==props.onChangeComplete||void 0!==props.disableAlpha||"string"==typeof props.color?.hex}(props)?{color:getColorFromLegacyProps(props.color),enableAlpha:!props.disableAlpha,onChange:legacyChangeHandler}:{...props,color:props.color,enableAlpha:props.enableAlpha,onChange:props.onChange}}(props))},"./packages/components/build-module/custom-gradient-picker/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ob:()=>DEFAULT_GRADIENT,KE:()=>DEFAULT_LINEAR_GRADIENT_ANGLE,Pg:()=>HORIZONTAL_GRADIENT_ORIENTATION,C6:()=>GRADIENT_OPTIONS,dk:()=>DIRECTIONAL_ORIENTATION_ANGLE_MAP});var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/build-module/index.js");const DEFAULT_GRADIENT="linear-gradient(135deg, rgba(6, 147, 227, 1) 0%, rgb(155, 81, 224) 100%)",DEFAULT_LINEAR_GRADIENT_ANGLE=180,HORIZONTAL_GRADIENT_ORIENTATION={type:"angular",value:"90"},GRADIENT_OPTIONS=[{value:"linear-gradient",label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Linear")},{value:"radial-gradient",label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Radial")}],DIRECTIONAL_ORIENTATION_ANGLE_MAP={top:0,"top right":45,"right top":45,right:90,"right bottom":135,"bottom right":135,bottom:180,"bottom left":225,"left bottom":225,left:270,"top left":315,"left top":315}},"./packages/components/build-module/custom-gradient-picker/gradient-bar/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>CustomGradientBar});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),colord=__webpack_require__("./node_modules/colord/index.mjs"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),plus=__webpack_require__("./packages/icons/build-module/library/plus.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),legacy_adapter=__webpack_require__("./packages/components/build-module/color-picker/legacy-adapter.js"),visually_hidden_component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),color_palette=__webpack_require__("./packages/components/build-module/color-palette/index.js");const MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT=10,MINIMUM_DISTANCE_BETWEEN_POINTS=0,KEYBOARD_CONTROL_POINT_VARIATION=MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT;function clampPercent(value){return Math.max(0,Math.min(100,value))}function updateControlPoint(points,index,newPoint){const newValue=points.slice();return newValue[index]=newPoint,newValue}function updateControlPointPosition(points,index,newPosition){if(function isOverlapping(value,initialIndex,newPosition,minDistance=MINIMUM_DISTANCE_BETWEEN_POINTS){const initialPosition=value[initialIndex].position,minPosition=Math.min(initialPosition,newPosition),maxPosition=Math.max(initialPosition,newPosition);return value.some((({position},index)=>index!==initialIndex&&(Math.abs(position-newPosition)<minDistance||minPosition<position&&position<maxPosition)))}(points,index,newPosition))return points;return updateControlPoint(points,index,{...points[index],position:newPosition})}function updateControlPointColor(points,index,newColor){return updateControlPoint(points,index,{...points[index],color:newColor})}function getHorizontalRelativeGradientPosition(mouseXCoordinate,containerElement){if(!containerElement)return;const{x,width}=containerElement.getBoundingClientRect(),absolutePositionValue=mouseXCoordinate-x;return Math.round(clampPercent(100*absolutePositionValue/width))}function ControlPointButton({isOpen,position,color,...additionalProps}){const descriptionId=`components-custom-gradient-picker__control-point-button-description-${(0,use_instance_id.Z)(ControlPointButton)}`;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,(0,esm_extends.Z)({"aria-label":(0,build_module.gB)((0,build_module.__)("Gradient control point at position %1$s%% with color code %2$s."),position,color),"aria-describedby":descriptionId,"aria-haspopup":"true","aria-expanded":isOpen,className:classnames_default()("components-custom-gradient-picker__control-point-button",{"is-active":isOpen})},additionalProps)),(0,react.createElement)(visually_hidden_component.Z,{id:descriptionId},(0,build_module.__)("Use your left or right arrow keys or drag and drop with the mouse to change the gradient position. Press the button to change the color or remove the control point.")))}function GradientColorPickerDropdown({isRenderedInSidebar,className,...props}){const popoverProps=(0,react.useMemo)((()=>({placement:"bottom",offset:8})),[]),mergedClassName=classnames_default()("components-custom-gradient-picker__control-point-dropdown",className);return(0,react.createElement)(color_palette.qK,(0,esm_extends.Z)({isRenderedInSidebar,popoverProps,className:mergedClassName},props))}function ControlPoints({disableRemove,disableAlpha,gradientPickerDomRef,ignoreMarkerPosition,value:controlPoints,onChange,onStartControlPointChange,onStopControlPointChange,__experimentalIsRenderedInSidebar}){const controlPointMoveState=(0,react.useRef)(),onMouseMove=event=>{if(void 0===controlPointMoveState.current||null===gradientPickerDomRef.current)return;const relativePosition=getHorizontalRelativeGradientPosition(event.clientX,gradientPickerDomRef.current),{initialPosition,index,significantMoveHappened}=controlPointMoveState.current;!significantMoveHappened&&Math.abs(initialPosition-relativePosition)>=5&&(controlPointMoveState.current.significantMoveHappened=!0),onChange(updateControlPointPosition(controlPoints,index,relativePosition))},cleanEventListeners=()=>{window&&window.removeEventListener&&controlPointMoveState.current&&controlPointMoveState.current.listenersActivated&&(window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("mouseup",cleanEventListeners),onStopControlPointChange(),controlPointMoveState.current.listenersActivated=!1)},cleanEventListenersRef=(0,react.useRef)();return cleanEventListenersRef.current=cleanEventListeners,(0,react.useEffect)((()=>()=>{cleanEventListenersRef.current?.()}),[]),(0,react.createElement)(react.Fragment,null,controlPoints.map(((point,index)=>{const initialPosition=point?.position;return ignoreMarkerPosition!==initialPosition&&(0,react.createElement)(GradientColorPickerDropdown,{isRenderedInSidebar:__experimentalIsRenderedInSidebar,key:index,onClose:onStopControlPointChange,renderToggle:({isOpen,onToggle})=>(0,react.createElement)(ControlPointButton,{key:index,onClick:()=>{controlPointMoveState.current&&controlPointMoveState.current.significantMoveHappened||(isOpen?onStopControlPointChange():onStartControlPointChange(),onToggle())},onMouseDown:()=>{window&&window.addEventListener&&(controlPointMoveState.current={initialPosition,index,significantMoveHappened:!1,listenersActivated:!0},onStartControlPointChange(),window.addEventListener("mousemove",onMouseMove),window.addEventListener("mouseup",cleanEventListeners))},onKeyDown:event=>{"ArrowLeft"===event.code?(event.stopPropagation(),onChange(updateControlPointPosition(controlPoints,index,clampPercent(point.position-KEYBOARD_CONTROL_POINT_VARIATION)))):"ArrowRight"===event.code&&(event.stopPropagation(),onChange(updateControlPointPosition(controlPoints,index,clampPercent(point.position+KEYBOARD_CONTROL_POINT_VARIATION))))},isOpen,position:point.position,color:point.color}),renderContent:({onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(legacy_adapter.A,{enableAlpha:!disableAlpha,color:point.color,onChange:color=>{onChange(updateControlPointColor(controlPoints,index,(0,colord.Vi)(color).toRgbString()))}}),!disableRemove&&controlPoints.length>2&&(0,react.createElement)(component.Z,{className:"components-custom-gradient-picker__remove-control-point-wrapper",alignment:"center"},(0,react.createElement)(build_module_button.ZP,{onClick:()=>{onChange(function removeControlPoint(points,index){return points.filter(((_point,pointIndex)=>pointIndex!==index))}(controlPoints,index)),onClose()},variant:"link"},(0,build_module.__)("Remove Control Point")))),style:{left:`${point.position}%`,transform:"translateX( -50% )"}})})))}ControlPoints.InsertPoint=function InsertPoint({value:controlPoints,onChange,onOpenInserter,onCloseInserter,insertPosition,disableAlpha,__experimentalIsRenderedInSidebar}){const[alreadyInsertedPoint,setAlreadyInsertedPoint]=(0,react.useState)(!1);return(0,react.createElement)(GradientColorPickerDropdown,{isRenderedInSidebar:__experimentalIsRenderedInSidebar,className:"components-custom-gradient-picker__inserter",onClose:()=>{onCloseInserter()},renderToggle:({isOpen,onToggle})=>(0,react.createElement)(build_module_button.ZP,{"aria-expanded":isOpen,"aria-haspopup":"true",onClick:()=>{isOpen?onCloseInserter():(setAlreadyInsertedPoint(!1),onOpenInserter()),onToggle()},className:"components-custom-gradient-picker__insert-point-dropdown",icon:plus.Z}),renderContent:()=>(0,react.createElement)(legacy_adapter.A,{enableAlpha:!disableAlpha,onChange:color=>{alreadyInsertedPoint?onChange(function updateControlPointColorByPosition(points,position,newColor){const index=points.findIndex((point=>point.position===position));return updateControlPointColor(points,index,newColor)}(controlPoints,insertPosition,(0,colord.Vi)(color).toRgbString())):(onChange(function addControlPoint(points,position,color){const nextIndex=points.findIndex((point=>point.position>position)),newPoint={color,position},newPoints=points.slice();return newPoints.splice(nextIndex-1,0,newPoint),newPoints}(controlPoints,insertPosition,(0,colord.Vi)(color).toRgbString())),setAlreadyInsertedPoint(!0))}}),style:null!==insertPosition?{left:`${insertPosition}%`,transform:"translateX( -50% )"}:void 0})};const control_points=ControlPoints,customGradientBarReducer=(state,action)=>{switch(action.type){case"MOVE_INSERTER":if("IDLE"===state.id||"MOVING_INSERTER"===state.id)return{id:"MOVING_INSERTER",insertPosition:action.insertPosition};break;case"STOP_INSERTER_MOVE":if("MOVING_INSERTER"===state.id)return{id:"IDLE"};break;case"OPEN_INSERTER":if("MOVING_INSERTER"===state.id)return{id:"INSERTING_CONTROL_POINT",insertPosition:state.insertPosition};break;case"CLOSE_INSERTER":if("INSERTING_CONTROL_POINT"===state.id)return{id:"IDLE"};break;case"START_CONTROL_CHANGE":if("IDLE"===state.id)return{id:"MOVING_CONTROL_POINT"};break;case"STOP_CONTROL_CHANGE":if("MOVING_CONTROL_POINT"===state.id)return{id:"IDLE"}}return state},customGradientBarReducerInitialState={id:"IDLE"};function CustomGradientBar({background,hasGradient,value:controlPoints,onChange,disableInserter=!1,disableAlpha=!1,__experimentalIsRenderedInSidebar=!1}){const gradientMarkersContainerDomRef=(0,react.useRef)(null),[gradientBarState,gradientBarStateDispatch]=(0,react.useReducer)(customGradientBarReducer,customGradientBarReducerInitialState),onMouseEnterAndMove=event=>{if(!gradientMarkersContainerDomRef.current)return;const insertPosition=getHorizontalRelativeGradientPosition(event.clientX,gradientMarkersContainerDomRef.current);controlPoints.some((({position})=>Math.abs(insertPosition-position)<MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT))?"MOVING_INSERTER"===gradientBarState.id&&gradientBarStateDispatch({type:"STOP_INSERTER_MOVE"}):gradientBarStateDispatch({type:"MOVE_INSERTER",insertPosition})},isMovingInserter="MOVING_INSERTER"===gradientBarState.id,isInsertingControlPoint="INSERTING_CONTROL_POINT"===gradientBarState.id;return(0,react.createElement)("div",{className:classnames_default()("components-custom-gradient-picker__gradient-bar",{"has-gradient":hasGradient}),onMouseEnter:onMouseEnterAndMove,onMouseMove:onMouseEnterAndMove,onMouseLeave:()=>{gradientBarStateDispatch({type:"STOP_INSERTER_MOVE"})}},(0,react.createElement)("div",{className:"components-custom-gradient-picker__gradient-bar-background",style:{background,opacity:hasGradient?1:.4}}),(0,react.createElement)("div",{ref:gradientMarkersContainerDomRef,className:"components-custom-gradient-picker__markers-container"},!disableInserter&&(isMovingInserter||isInsertingControlPoint)&&(0,react.createElement)(control_points.InsertPoint,{__experimentalIsRenderedInSidebar,disableAlpha,insertPosition:gradientBarState.insertPosition,value:controlPoints,onChange,onOpenInserter:()=>{gradientBarStateDispatch({type:"OPEN_INSERTER"})},onCloseInserter:()=>{gradientBarStateDispatch({type:"CLOSE_INSERTER"})}}),(0,react.createElement)(control_points,{__experimentalIsRenderedInSidebar,disableAlpha,disableRemove:disableInserter,gradientPickerDomRef:gradientMarkersContainerDomRef,ignoreMarkerPosition:isInsertingControlPoint?gradientBarState.insertPosition:void 0,value:controlPoints,onChange,onStartControlPointChange:()=>{gradientBarStateDispatch({type:"START_CONTROL_CHANGE"})},onStopControlPointChange:()=>{gradientBarStateDispatch({type:"STOP_CONTROL_CHANGE"})}})))}},"./packages/components/build-module/custom-gradient-picker/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>custom_gradient_picker});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),component=__webpack_require__("./packages/components/build-module/flex/flex-block/component.js"),spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js"),number_control=__webpack_require__("./packages/components/build-module/number-control/index.js"),use_dragging=__webpack_require__("./packages/compose/build-module/hooks/use-dragging/index.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),flex_component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),space=__webpack_require__("./packages/components/build-module/ui/utils/space.js"),text_component=__webpack_require__("./packages/components/build-module/text/component.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");const deprecatedBottomMargin=({__nextHasNoMarginBottom})=>__nextHasNoMarginBottom?"":(0,emotion_react_browser_esm.iv)("margin-bottom:",(0,space.D)(2),";","","",""),Root=(0,emotion_styled_base_browser_esm.Z)(flex_component.Z,{target:"eln3bjz4"})(deprecatedBottomMargin,";"),CircleRoot=(0,emotion_styled_base_browser_esm.Z)("div",{target:"eln3bjz3"})("border-radius:50%;border:",config_values.Z.borderWidth," solid ",colors_values.D.ui.border,";box-sizing:border-box;cursor:grab;height:",32,"px;overflow:hidden;width:",32,"px;:active{cursor:grabbing;}"),CircleIndicatorWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"eln3bjz2"})({name:"1r307gh",styles:"box-sizing:border-box;position:relative;width:100%;height:100%;:focus-visible{outline:none;}"}),CircleIndicator=(0,emotion_styled_base_browser_esm.Z)("div",{target:"eln3bjz1"})("background:",colors_values.D.ui.theme,";border-radius:50%;box-sizing:border-box;display:block;left:50%;top:4px;transform:translateX( -50% );position:absolute;width:",6,"px;height:",6,"px;"),UnitText=(0,emotion_styled_base_browser_esm.Z)(text_component.Z,{target:"eln3bjz0"})("color:",colors_values.D.ui.theme,";margin-right:",(0,space.D)(3),";");const angle_circle=function AngleCircle({value,onChange,...props}){const angleCircleRef=(0,react.useRef)(null),angleCircleCenter=(0,react.useRef)(),previousCursorValue=(0,react.useRef)(),changeAngleToPosition=event=>{if(void 0!==event&&(event.preventDefault(),event.target?.focus(),void 0!==angleCircleCenter.current&&void 0!==onChange)){const{x:centerX,y:centerY}=angleCircleCenter.current;onChange(function getAngle(centerX,centerY,pointX,pointY){const y=pointY-centerY,x=pointX-centerX,angleInRadians=Math.atan2(y,x),angleInDeg=Math.round(angleInRadians*(180/Math.PI))+90;if(angleInDeg<0)return 360+angleInDeg;return angleInDeg}(centerX,centerY,event.clientX,event.clientY))}},{startDrag,isDragging}=(0,use_dragging.Z)({onDragStart:event=>{(()=>{if(null===angleCircleRef.current)return;const rect=angleCircleRef.current.getBoundingClientRect();angleCircleCenter.current={x:rect.x+rect.width/2,y:rect.y+rect.height/2}})(),changeAngleToPosition(event)},onDragMove:changeAngleToPosition,onDragEnd:changeAngleToPosition});return(0,react.useEffect)((()=>{isDragging?(void 0===previousCursorValue.current&&(previousCursorValue.current=document.body.style.cursor),document.body.style.cursor="grabbing"):(document.body.style.cursor=previousCursorValue.current||"",previousCursorValue.current=void 0)}),[isDragging]),(0,react.createElement)(CircleRoot,(0,esm_extends.Z)({ref:angleCircleRef,onMouseDown:startDrag,className:"components-angle-picker-control__angle-circle"},props),(0,react.createElement)(CircleIndicatorWrapper,{style:value?{transform:`rotate(${value}deg)`}:void 0,className:"components-angle-picker-control__angle-circle-indicator-wrapper",tabIndex:-1},(0,react.createElement)(CircleIndicator,{className:"components-angle-picker-control__angle-circle-indicator"})))};const angle_picker_control=(0,react.forwardRef)((function UnforwardedAnglePickerControl(props,ref){const{__nextHasNoMarginBottom=!1,className,label=(0,i18n_build_module.__)("Angle"),onChange,value,...restProps}=props;__nextHasNoMarginBottom||(0,build_module.Z)("Bottom margin styles for wp.components.AnglePickerControl",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version."});const classes=classnames_default()("components-angle-picker-control",className),unitText=(0,react.createElement)(UnitText,null,"°"),[prefixedUnitText,suffixedUnitText]=(0,i18n_build_module.dZ)()?[unitText,null]:[null,unitText];return(0,react.createElement)(Root,(0,esm_extends.Z)({},restProps,{ref,__nextHasNoMarginBottom,className:classes,gap:2}),(0,react.createElement)(component.Z,null,(0,react.createElement)(number_control.Z,{label,className:"components-angle-picker-control__input-field",max:360,min:0,onChange:unprocessedValue=>{if(void 0===onChange)return;const inputValue=void 0!==unprocessedValue&&""!==unprocessedValue?parseInt(unprocessedValue,10):0;onChange(inputValue)},size:"__unstable-large",step:"1",value,spinControls:"none",prefix:prefixedUnitText,suffix:suffixedUnitText})),(0,react.createElement)(spacer_component.Z,{marginBottom:"1",marginTop:"auto"},(0,react.createElement)(angle_circle,{"aria-hidden":"true",value,onChange})))}));var gradient_bar=__webpack_require__("./packages/components/build-module/custom-gradient-picker/gradient-bar/index.js"),select_control=__webpack_require__("./packages/components/build-module/select-control/index.js"),v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),node=__webpack_require__("./node_modules/gradient-parser/build/node.js"),colord=__webpack_require__("./node_modules/colord/index.mjs"),names=__webpack_require__("./node_modules/colord/plugins/names.mjs"),constants=__webpack_require__("./packages/components/build-module/custom-gradient-picker/constants.js");function serializeGradientColorStop({type,value,length}){return`${function serializeGradientColor({type,value}){return"literal"===type?value:"hex"===type?`#${value}`:`${type}(${value.join(",")})`}({type,value})} ${function serializeGradientPosition(position){if(!position)return"";const{value,type}=position;return`${value}${type}`}(length)}`}function serializeGradient({type,orientation,colorStops}){const serializedOrientation=function serializeGradientOrientation(orientation){if(!Array.isArray(orientation)&&orientation&&"angular"===orientation.type)return`${orientation.value}deg`}(orientation);return`${type}(${[serializedOrientation,...colorStops.sort(((colorStop1,colorStop2)=>{const getNumericStopValue=colorStop=>void 0===colorStop?.length?.value?0:parseInt(colorStop.length.value);return getNumericStopValue(colorStop1)-getNumericStopValue(colorStop2)})).map(serializeGradientColorStop)].filter(Boolean).join(",")})`}function hasUnsupportedLength(item){return void 0===item.length||"%"!==item.length.type}function getStopCssColor(colorStop){switch(colorStop.type){case"hex":return`#${colorStop.value}`;case"literal":return colorStop.value;case"rgb":case"rgba":return`${colorStop.type}(${colorStop.value.join(",")})`;default:return"transparent"}}(0,colord.l7)([names.Z]);const SelectWrapper=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e10bzpgi1"})({name:"1gvx10y",styles:"flex-grow:5"}),AccessoryWrapper=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e10bzpgi0"})({name:"1gvx10y",styles:"flex-grow:5"}),GradientAnglePicker=({gradientAST,hasGradient,onChange})=>{var _gradientAST$orientat;const angle=null!==(_gradientAST$orientat=gradientAST?.orientation?.value)&&void 0!==_gradientAST$orientat?_gradientAST$orientat:constants.KE;return(0,react.createElement)(angle_picker_control,{__nextHasNoMarginBottom:!0,onChange:newAngle=>{onChange(serializeGradient({...gradientAST,orientation:{type:"angular",value:`${newAngle}`}}))},value:hasGradient?angle:""})},GradientTypePicker=({gradientAST,hasGradient,onChange})=>{const{type}=gradientAST;return(0,react.createElement)(select_control.Z,{__nextHasNoMarginBottom:!0,className:"components-custom-gradient-picker__type-picker",label:(0,i18n_build_module.__)("Type"),labelPosition:"top",onChange:next=>{"linear-gradient"===next&&onChange(serializeGradient({...gradientAST,orientation:gradientAST.orientation?void 0:constants.Pg,type:"linear-gradient"})),"radial-gradient"===next&&(()=>{const{orientation,...restGradientAST}=gradientAST;onChange(serializeGradient({...restGradientAST,type:"radial-gradient"}))})()},options:constants.C6,size:"__unstable-large",value:hasGradient?type:void 0})};const custom_gradient_picker=function CustomGradientPicker({__nextHasNoMargin=!1,value,onChange,__experimentalIsRenderedInSidebar=!1}){const{gradientAST,hasGradient}=function getGradientAstWithDefault(value){let gradientAST,hasGradient=!!value;const valueToParse=null!=value?value:constants.ob;try{gradientAST=node.parse(valueToParse)[0]}catch(error){console.warn("wp.components.CustomGradientPicker failed to parse the gradient with error",error),gradientAST=node.parse(constants.ob)[0],hasGradient=!1}if(Array.isArray(gradientAST.orientation)||"directional"!==gradientAST.orientation?.type||(gradientAST.orientation={type:"angular",value:constants.dk[gradientAST.orientation.value].toString()}),gradientAST.colorStops.some(hasUnsupportedLength)){const{colorStops}=gradientAST,step=100/(colorStops.length-1);colorStops.forEach(((stop,index)=>{stop.length={value:""+step*index,type:"%"}}))}return{gradientAST,hasGradient}}(value),background=function getLinearGradientRepresentation(gradientAST){return serializeGradient({type:"linear-gradient",orientation:constants.Pg,colorStops:gradientAST.colorStops})}(gradientAST),controlPoints=gradientAST.colorStops.map((colorStop=>({color:getStopCssColor(colorStop),position:parseInt(colorStop.length.value)})));return __nextHasNoMargin||(0,build_module.Z)("Outer margin styles for wp.components.CustomGradientPicker",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMargin` prop to true to start opting into the new styles, which will become the default in a future version"}),(0,react.createElement)(v_stack_component.Z,{spacing:4,className:classnames_default()("components-custom-gradient-picker",{"is-next-has-no-margin":__nextHasNoMargin})},(0,react.createElement)(gradient_bar.Z,{__experimentalIsRenderedInSidebar,background,hasGradient,value:controlPoints,onChange:newControlPoints=>{onChange(serializeGradient(function getGradientAstWithControlPoints(gradientAST,newControlPoints){return{...gradientAST,colorStops:newControlPoints.map((({position,color})=>{const{r,g,b,a}=(0,colord.Vi)(color).toRgb();return{length:{type:"%",value:position?.toString()},type:a<1?"rgba":"rgb",value:a<1?[`${r}`,`${g}`,`${b}`,`${a}`]:[`${r}`,`${g}`,`${b}`]}}))}}(gradientAST,newControlPoints)))}}),(0,react.createElement)(flex_component.Z,{gap:3,className:"components-custom-gradient-picker__ui-line"},(0,react.createElement)(SelectWrapper,null,(0,react.createElement)(GradientTypePicker,{gradientAST,hasGradient,onChange})),(0,react.createElement)(AccessoryWrapper,null,"linear-gradient"===gradientAST.type&&(0,react.createElement)(GradientAnglePicker,{gradientAST,hasGradient,onChange}))))}},"./packages/components/build-module/drop-zone/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/icons/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/icons/build-module/library/upload.js"),_wordpress_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/dom/build-module/data-transfer.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-drop-zone/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/compose/build-module/hooks/use-reduced-motion/index.js"),_animation__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs"),_animation__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");const __WEBPACK_DEFAULT_EXPORT__=function DropZoneComponent({className,label,onFilesDrop,onHTMLDrop,onDrop,...restProps}){const[isDraggingOverDocument,setIsDraggingOverDocument]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(),[isDraggingOverElement,setIsDraggingOverElement]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(),[type,setType]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(),ref=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)({onDrop(event){const files=event.dataTransfer?(0,_wordpress_dom__WEBPACK_IMPORTED_MODULE_4__.f)(event.dataTransfer):[],html=event.dataTransfer?.getData("text/html");html&&onHTMLDrop?onHTMLDrop(html):files.length&&onFilesDrop?onFilesDrop(files):onDrop&&onDrop(event)},onDragStart(event){setIsDraggingOverDocument(!0);let _type="default";event.dataTransfer?.types.includes("text/html")?_type="html":(event.dataTransfer?.types.includes("Files")||(event.dataTransfer?(0,_wordpress_dom__WEBPACK_IMPORTED_MODULE_4__.f)(event.dataTransfer):[]).length>0)&&(_type="file"),setType(_type)},onDragEnd(){setIsDraggingOverDocument(!1),setType(void 0)},onDragEnter(){setIsDraggingOverElement(!0)},onDragLeave(){setIsDraggingOverElement(!1)}}),disableMotion=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__.Z)();let children;const backdrop={hidden:{opacity:0},show:{opacity:1,transition:{type:"tween",duration:.2,delay:0,delayChildren:.1}},exit:{opacity:0,transition:{duration:.2,delayChildren:0}}},foreground={hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1,transition:{duration:.1}},exit:{opacity:0,scale:.9}};isDraggingOverElement&&(children=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_animation__WEBPACK_IMPORTED_MODULE_6__.E.div,{variants:backdrop,initial:disableMotion?"show":"hidden",animate:"show",exit:disableMotion?"show":"exit",className:"components-drop-zone__content",style:{pointerEvents:"none"}},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_animation__WEBPACK_IMPORTED_MODULE_6__.E.div,{variants:foreground},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z,className:"components-drop-zone__content-icon"}),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("span",{className:"components-drop-zone__content-text"},label||(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Drop files to upload")))));const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-drop-zone",className,{"is-active":(isDraggingOverDocument||isDraggingOverElement)&&("file"===type&&onFilesDrop||"html"===type&&onHTMLDrop||"default"===type&&onDrop),"is-dragging-over-document":isDraggingOverDocument,"is-dragging-over-element":isDraggingOverElement,[`is-dragging-${type}`]:!!type});return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_9__.Z)({},restProps,{ref,className:classes}),disableMotion?children:(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_animation__WEBPACK_IMPORTED_MODULE_10__.M,null,children))}},"./packages/components/build-module/dropdown/dropdown-content-wrapper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>dropdown_content_wrapper});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),use_context_system=__webpack_require__("./packages/components/build-module/ui/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/build-module/ui/context/context-connect.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),space=__webpack_require__("./packages/components/build-module/ui/utils/space.js");const DropdownContentWrapperDiv=(0,emotion_styled_base_browser_esm.Z)("div",{target:"eovvns30"})("margin-left:",(0,space.D)(-2),";margin-right:",(0,space.D)(-2),";&:first-of-type{margin-top:",(0,space.D)(-2),";}&:last-of-type{margin-bottom:",(0,space.D)(-2),";}",(({paddingSize="small"})=>{if("none"===paddingSize)return;const paddingValues={small:(0,space.D)(2),medium:(0,space.D)(4)};return(0,emotion_react_browser_esm.iv)("padding:",paddingValues[paddingSize]||paddingValues.small,";","","","")}),";");const dropdown_content_wrapper=(0,context_connect.Iq)((function UnconnectedDropdownContentWrapper(props,forwardedRef){const{paddingSize="small",...derivedProps}=(0,use_context_system.y)(props,"DropdownContentWrapper");return(0,react.createElement)(DropdownContentWrapperDiv,(0,esm_extends.Z)({},derivedProps,{paddingSize,ref:forwardedRef}))}),"DropdownContentWrapper")},"./packages/components/build-module/duotone-picker/duotone-picker.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>duotone_picker});var react=__webpack_require__("./node_modules/react/index.js"),es6=__webpack_require__("./node_modules/fast-deep-equal/es6/index.js"),es6_default=__webpack_require__.n(es6),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),swatch=__webpack_require__("./packages/icons/build-module/library/swatch.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),color_palette=__webpack_require__("./packages/components/build-module/color-palette/index.js"),color_indicator=__webpack_require__("./packages/components/build-module/color-indicator/index.js"),icon=__webpack_require__("./packages/components/build-module/icon/index.js"),component=__webpack_require__("./packages/components/build-module/h-stack/component.js");function ColorOption({label,value,colors,disableCustomColors,enableAlpha,onChange}){const[isOpen,setIsOpen]=(0,react.useState)(!1);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{className:"components-color-list-picker__swatch-button",onClick:()=>setIsOpen((prev=>!prev))},(0,react.createElement)(component.Z,{justify:"flex-start",spacing:2},value?(0,react.createElement)(color_indicator.Z,{colorValue:value,className:"components-color-list-picker__swatch-color"}):(0,react.createElement)(icon.Z,{icon:swatch.Z}),(0,react.createElement)("span",null,label))),isOpen&&(0,react.createElement)(color_palette.ZP,{className:"components-color-list-picker__color-picker",colors,value,clearable:!1,onChange,disableCustomColors,enableAlpha}))}const color_list_picker=function ColorListPicker({colors,labels,value=[],disableCustomColors,enableAlpha,onChange}){return(0,react.createElement)("div",{className:"components-color-list-picker"},labels.map(((label,index)=>(0,react.createElement)(ColorOption,{key:index,label,value:value[index],colors,disableCustomColors,enableAlpha,onChange:newColor=>{const newColors=value.slice();newColors[index]=newColor,onChange(newColors)}}))))};var circular_option_picker=__webpack_require__("./packages/components/build-module/circular-option-picker/index.js"),v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),gradient_bar=__webpack_require__("./packages/components/build-module/custom-gradient-picker/gradient-bar/index.js"),utils=__webpack_require__("./packages/components/build-module/duotone-picker/utils.js");const PLACEHOLDER_VALUES=["#333","#CCC"];function CustomDuotoneBar({value,onChange}){const hasGradient=!!value,values=hasGradient?value:PLACEHOLDER_VALUES,background=(0,utils.ZU)(values),controlPoints=(0,utils.YK)(values);return(0,react.createElement)(gradient_bar.Z,{disableInserter:!0,background,hasGradient,value:controlPoints,onChange:newColorStops=>{const newValue=(0,utils.Aw)(newColorStops);onChange(newValue)}})}var spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js");const duotone_picker=function DuotonePicker({clearable=!0,unsetable=!0,colorPalette,duotonePalette,disableCustomColors,disableCustomDuotone,value,onChange}){const[defaultDark,defaultLight]=(0,react.useMemo)((()=>(0,utils.fy)(colorPalette)),[colorPalette]),isUnset="unset"===value,unsetOption=(0,react.createElement)(circular_option_picker.ZP.Option,{key:"unset",value:"unset",isSelected:isUnset,tooltipText:(0,build_module.__)("Unset"),className:"components-duotone-picker__color-indicator",onClick:()=>{onChange(isUnset?void 0:"unset")}}),options=duotonePalette.map((({colors,slug,name})=>{const style={background:(0,utils.ZU)(colors,"135deg"),color:"transparent"},tooltipText=null!=name?name:(0,build_module.gB)((0,build_module.__)("Duotone code: %s"),slug),label=name?(0,build_module.gB)((0,build_module.__)("Duotone: %s"),name):tooltipText,isSelected=es6_default()(colors,value);return(0,react.createElement)(circular_option_picker.ZP.Option,{key:slug,value:colors,isSelected,"aria-label":label,tooltipText,style,onClick:()=>{onChange(isSelected?void 0:colors)}})}));return(0,react.createElement)(circular_option_picker.ZP,{options:unsetable?[unsetOption,...options]:options,actions:!!clearable&&(0,react.createElement)(circular_option_picker.ZP.ButtonAction,{onClick:()=>onChange(void 0)},(0,build_module.__)("Clear"))},(0,react.createElement)(spacer_component.Z,{paddingTop:4},(0,react.createElement)(v_stack_component.Z,{spacing:3},!disableCustomColors&&!disableCustomDuotone&&(0,react.createElement)(CustomDuotoneBar,{value:isUnset?void 0:value,onChange}),!disableCustomDuotone&&(0,react.createElement)(color_list_picker,{labels:[(0,build_module.__)("Shadows"),(0,build_module.__)("Highlights")],colors:colorPalette,value:isUnset?void 0:value,disableCustomColors,enableAlpha:!0,onChange:newColors=>{newColors[0]||(newColors[0]=defaultDark),newColors[1]||(newColors[1]=defaultLight);const newValue=newColors.length>=2?newColors:void 0;onChange(newValue)}}))))}},"./packages/components/build-module/duotone-picker/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{fy:()=>getDefaultColors,ZU:()=>getGradientFromCSSColors,YK:()=>getColorStopsFromColors,Aw:()=>getColorsFromColorStops});var colord__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/colord/index.mjs"),colord_plugins_names__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/colord/plugins/names.mjs");function getDefaultColors(palette){return!palette||palette.length<2?["#000","#fff"]:palette.map((({color})=>({color,brightness:(0,colord__WEBPACK_IMPORTED_MODULE_0__.Vi)(color).brightness()}))).reduce((([min,max],current)=>[current.brightness<=min.brightness?current:min,current.brightness>=max.brightness?current:max]),[{brightness:1,color:""},{brightness:0,color:""}]).map((({color})=>color))}function getGradientFromCSSColors(colors=[],angle="90deg"){const l=100/colors.length;return`linear-gradient( ${angle}, ${colors.map(((c,i)=>`${c} ${i*l}%, ${c} ${(i+1)*l}%`)).join(", ")} )`}function getColorStopsFromColors(colors){return colors.map(((color,i)=>({position:100*i/(colors.length-1),color})))}function getColorsFromColorStops(colorStops=[]){return colorStops.map((({color})=>color))}(0,colord__WEBPACK_IMPORTED_MODULE_0__.l7)([colord_plugins_names__WEBPACK_IMPORTED_MODULE_1__.Z])},"./packages/components/build-module/external-link/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>external_link});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),external=__webpack_require__("./packages/icons/build-module/library/external.js"),component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),icon=__webpack_require__("./packages/icons/build-module/icon/index.js");const StyledIcon=(0,emotion_styled_base_browser_esm.Z)(icon.Z,{target:"esh4a730"})({name:"rvs7bx",styles:"width:1em;height:1em;margin:0;vertical-align:middle;fill:currentColor"});const external_link=(0,react.forwardRef)((function UnforwardedExternalLink(props,ref){const{href,children,className,rel="",...additionalProps}=props,optimizedRel=[...new Set([...rel.split(" "),"external","noreferrer","noopener"].filter(Boolean))].join(" "),classes=classnames_default()("components-external-link",className),isInternalAnchor=!!href?.startsWith("#");return(0,react.createElement)("a",(0,esm_extends.Z)({},additionalProps,{className:classes,href,onClick:event=>{isInternalAnchor&&event.preventDefault(),props.onClick&&props.onClick(event)},target:"_blank",rel:optimizedRel,ref}),children,(0,react.createElement)(component.Z,{as:"span"},(0,build_module.__)("(opens in a new tab)")),(0,react.createElement)(StyledIcon,{icon:external.Z,className:"components-external-link__icon"}))}))},"./packages/components/build-module/form-file-upload/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/button/index.js");const __WEBPACK_DEFAULT_EXPORT__=function FormFileUpload({accept,children,multiple=!1,onChange,onClick,render,...props}){const ref=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),openFileDialog=()=>{ref.current?.click()},ui=render?render({openFileDialog}):(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_button__WEBPACK_IMPORTED_MODULE_1__.ZP,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__.Z)({onClick:openFileDialog},props),children);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"components-form-file-upload"},ui,(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("input",{type:"file",ref,multiple,style:{display:"none"},accept,onChange,onClick,"data-testid":"form-file-upload-input"}))}},"./packages/components/build-module/gradient-picker/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/deprecated/build-module/index.js"),_circular_option_picker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/build-module/circular-option-picker/index.js"),_custom_gradient_picker__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/components/build-module/custom-gradient-picker/index.js"),_v_stack__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/build-module/v-stack/component.js"),_color_palette_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/color-palette/styles.js"),_spacer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/spacer/component.js");const isMultipleOriginArray=arr=>arr.length>0&&arr.every((gradientObj=>{return obj=gradientObj,Array.isArray(obj.gradients)&&!("gradient"in obj);var obj}));function SingleOrigin({className,clearGradient,gradients,onChange,value,actions}){const gradientOptions=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>gradients.map((({gradient,name},index)=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_2__.ZP.Option,{key:gradient,value:gradient,isSelected:value===gradient,tooltipText:name||(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Gradient code: %s"),gradient),style:{color:"rgba( 0,0,0,0 )",background:gradient},onClick:value===gradient?clearGradient:()=>onChange(gradient,index),"aria-label":name?(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Gradient: %s"),name):(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Gradient code: %s"),gradient)})))),[gradients,value,onChange,clearGradient]);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_2__.ZP,{className,options:gradientOptions,actions})}function MultipleOrigin({className,clearGradient,gradients,onChange,value,actions,headingLevel}){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_3__.Z,{spacing:3,className},gradients.map((({name,gradients:gradientSet},index)=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_3__.Z,{spacing:2,key:index},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_color_palette_styles__WEBPACK_IMPORTED_MODULE_4__.A,{level:headingLevel},name),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(SingleOrigin,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__.Z)({clearGradient,gradients:gradientSet,onChange:gradient=>onChange(gradient,index),value},gradients.length===index+1?{actions}:{}))))))}function Component(props){return isMultipleOriginArray(props.gradients)?(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(MultipleOrigin,props):(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(SingleOrigin,props)}const __WEBPACK_DEFAULT_EXPORT__=function GradientPicker({__nextHasNoMargin=!1,className,gradients=[],onChange,value,clearable=!0,disableCustomGradients=!1,__experimentalIsRenderedInSidebar,headingLevel=2}){const clearGradient=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>onChange(void 0)),[onChange]);__nextHasNoMargin||(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_6__.Z)("Outer margin styles for wp.components.GradientPicker",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMargin` prop to true to start opting into the new styles, which will become the default in a future version"});const deprecatedMarginSpacerProps=__nextHasNoMargin?{}:{marginTop:gradients.length?void 0:3,marginBottom:clearable?0:6};return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_spacer__WEBPACK_IMPORTED_MODULE_7__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__.Z)({marginBottom:0},deprecatedMarginSpacerProps),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_3__.Z,{spacing:gradients.length?4:0},!disableCustomGradients&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_custom_gradient_picker__WEBPACK_IMPORTED_MODULE_8__.Z,{__nextHasNoMargin:!0,__experimentalIsRenderedInSidebar,value,onChange}),(gradients.length||clearable)&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(Component,{className,clearGradient,gradients,onChange,value,actions:clearable&&!disableCustomGradients&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_2__.ZP.ButtonAction,{onClick:clearGradient},(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Clear")),headingLevel})))}},"./packages/components/build-module/higher-order/with-spoken-messages/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),_wordpress_a11y__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/a11y/build-module/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__.o)((Component=>props=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(Component,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},props,{speak:_wordpress_a11y__WEBPACK_IMPORTED_MODULE_0__.D,debouncedSpeak:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.Z)(_wordpress_a11y__WEBPACK_IMPORTED_MODULE_0__.D,500)}))),"withSpokenMessages")},"./packages/components/build-module/menu-items-choice/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/icons/build-module/library/check.js"),_menu_item__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/menu-item/index.js");const noop=()=>{};const __WEBPACK_DEFAULT_EXPORT__=function MenuItemsChoice({choices=[],onHover=noop,onSelect,value}){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,choices.map((item=>{const isSelected=value===item.value;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_menu_item__WEBPACK_IMPORTED_MODULE_1__.Z,{key:item.value,role:"menuitemradio",icon:isSelected&&_wordpress_icons__WEBPACK_IMPORTED_MODULE_2__.Z,info:item.info,isSelected,shortcut:item.shortcut,className:"components-menu-items-choice",onClick:()=>{isSelected||onSelect(item.value)},onMouseEnter:()=>onHover(item.value),onMouseLeave:()=>onHover(null),"aria-label":item["aria-label"]},item.label)})))}},"./packages/components/build-module/notice/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/element/build-module/serialize.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/element/build-module/raw-html.js"),_wordpress_a11y__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/a11y/build-module/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/icons/build-module/library/close.js"),_button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/button/index.js");const noop=()=>{};function getDefaultPoliteness(status){switch(status){case"success":case"warning":case"info":return"polite";default:return"assertive"}}const __WEBPACK_DEFAULT_EXPORT__=function Notice({className,status="info",children,spokenMessage=children,onRemove=noop,isDismissible=!0,actions=[],politeness=getDefaultPoliteness(status),__unstableHTML,onDismiss=noop}){!function useSpokenMessage(message,politeness){const spokenMessage="string"==typeof message?message:(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.ZP)(message);(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)((()=>{spokenMessage&&(0,_wordpress_a11y__WEBPACK_IMPORTED_MODULE_2__.D)(spokenMessage,politeness)}),[spokenMessage,politeness])}(spokenMessage,politeness);const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()(className,"components-notice","is-"+status,{"is-dismissible":isDismissible});return __unstableHTML&&"string"==typeof children&&(children=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createElement)(_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.Z,null,children)),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createElement)("div",{className:classes},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createElement)("div",{className:"components-notice__content"},children,(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createElement)("div",{className:"components-notice__actions"},actions.map((({className:buttonCustomClasses,label,isPrimary,variant,noDefaultClasses=!1,onClick,url},index)=>{let computedVariant=variant;return"primary"===variant||noDefaultClasses||(computedVariant=url?"link":"secondary"),void 0===computedVariant&&isPrimary&&(computedVariant="primary"),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createElement)(_button__WEBPACK_IMPORTED_MODULE_6__.ZP,{key:index,href:url,variant:computedVariant,onClick:url?void 0:onClick,className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-notice__action",buttonCustomClasses)},label)})))),isDismissible&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createElement)(_button__WEBPACK_IMPORTED_MODULE_6__.ZP,{className:"components-notice__dismiss",icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__.Z,label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Dismiss this notice"),onClick:event=>{event?.preventDefault?.(),onDismiss(),onRemove()},showTooltip:!1}))}},"./packages/components/build-module/panel/body.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-reduced-motion/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/icons/build-module/library/chevron-up.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/icons/build-module/library/chevron-down.js"),_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/button/index.js"),_icon__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/components/build-module/icon/index.js"),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/utils/hooks/use-controlled-state.js"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/utils/hooks/use-update-effect.js");const noop=()=>{};const PanelBodyTitle=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((({isOpened,icon,title,...props},ref)=>title?(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("h2",{className:"components-panel__body-title"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_button__WEBPACK_IMPORTED_MODULE_7__.ZP,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({className:"components-panel__body-toggle","aria-expanded":isOpened,ref},props),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("span",{"aria-hidden":"true"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_icon__WEBPACK_IMPORTED_MODULE_8__.Z,{className:"components-panel__arrow",icon:isOpened?_wordpress_icons__WEBPACK_IMPORTED_MODULE_9__.Z:_wordpress_icons__WEBPACK_IMPORTED_MODULE_10__.Z})),title,icon&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_icon__WEBPACK_IMPORTED_MODULE_8__.Z,{icon,className:"components-panel__icon",size:20}))):null)),__WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((function UnforwardedPanelBody(props,ref){const{buttonProps={},children,className,icon,initialOpen,onToggle=noop,opened,title,scrollAfterOpen=!0}=props,[isOpened,setIsOpened]=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.Z)(opened,{initial:void 0===initialOpen||initialOpen,fallback:!1}),nodeRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),scrollBehavior=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)()?"auto":"smooth",scrollAfterOpenRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useRef)();scrollAfterOpenRef.current=scrollAfterOpen,(0,_utils__WEBPACK_IMPORTED_MODULE_4__.Z)((()=>{isOpened&&scrollAfterOpenRef.current&&nodeRef.current?.scrollIntoView&&nodeRef.current.scrollIntoView({inline:"nearest",block:"nearest",behavior:scrollBehavior})}),[isOpened,scrollBehavior]);const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-panel__body",className,{"is-opened":isOpened});return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("div",{className:classes,ref:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__.Z)([nodeRef,ref])},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(PanelBodyTitle,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({icon,isOpened:Boolean(isOpened),onClick:event=>{event.preventDefault();const next=!isOpened;setIsOpened(next),onToggle(next)},title},buttonProps)),"function"==typeof children?children({opened:Boolean(isOpened)}):isOpened&&children)}))},"./packages/components/build-module/placeholder/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-resize-observer/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),_icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/icon/index.js");const PlaceholderIllustration=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_2__.Wj,{className:"components-placeholder__illustration",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60",preserveAspectRatio:"none"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_2__.y$,{vectorEffect:"non-scaling-stroke",d:"M60 60 0 0"}));const __WEBPACK_DEFAULT_EXPORT__=function Placeholder(props){const{icon,children,label,instructions,className,notices,preview,isColumnLayout,withIllustration,...additionalProps}=props,[resizeListener,{width}]=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)();let modifierClassNames;"number"==typeof width&&(modifierClassNames={"is-large":width>=480,"is-medium":width>=160&&width<480,"is-small":width<160});const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-placeholder",className,modifierClassNames,withIllustration?"has-illustration":null),fieldsetClasses=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-placeholder__fieldset",{"is-column-layout":isColumnLayout});return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({},additionalProps,{className:classes}),withIllustration?PlaceholderIllustration:null,resizeListener,notices,preview&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{className:"components-placeholder__preview"},preview),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("div",{className:"components-placeholder__label"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_icon__WEBPACK_IMPORTED_MODULE_5__.Z,{icon}),label),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("fieldset",{className:fieldsetClasses},!!instructions&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("legend",{className:"components-placeholder__instructions"},instructions),children))}},"./packages/components/build-module/resizable-box/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>resizable_box});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lib=__webpack_require__("./node_modules/re-resizable/lib/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),use_resize_observer=__webpack_require__("./packages/compose/build-module/hooks/use-resize-observer/index.js");const noop=()=>{},POSITIONS={bottom:"bottom",corner:"corner"};function useResizeLabel({axis,fadeTimeout=180,onResize=noop,position=POSITIONS.bottom,showPx=!1}){const[resizeListener,sizes]=(0,use_resize_observer.Z)(),isAxisControlled=!!axis,[moveX,setMoveX]=(0,react.useState)(!1),[moveY,setMoveY]=(0,react.useState)(!1),{width,height}=sizes,heightRef=(0,react.useRef)(height),widthRef=(0,react.useRef)(width),moveTimeoutRef=(0,react.useRef)(),debounceUnsetMoveXY=(0,react.useCallback)((()=>{moveTimeoutRef.current&&window.clearTimeout(moveTimeoutRef.current),moveTimeoutRef.current=window.setTimeout((()=>{isAxisControlled||(setMoveX(!1),setMoveY(!1))}),fadeTimeout)}),[fadeTimeout,isAxisControlled]);(0,react.useEffect)((()=>{if(!(null!==width||null!==height))return;const didWidthChange=width!==widthRef.current,didHeightChange=height!==heightRef.current;if(didWidthChange||didHeightChange){if(width&&!widthRef.current&&height&&!heightRef.current)return widthRef.current=width,void(heightRef.current=height);didWidthChange&&(setMoveX(!0),widthRef.current=width),didHeightChange&&(setMoveY(!0),heightRef.current=height),onResize({width,height}),debounceUnsetMoveXY()}}),[width,height,onResize,debounceUnsetMoveXY]);const label=function getSizeLabel({axis,height,moveX=!1,moveY=!1,position=POSITIONS.bottom,showPx=!1,width}){if(!moveX&&!moveY)return;if(position===POSITIONS.corner)return`${width} x ${height}`;const labelUnit=showPx?" px":"";if(axis){if("x"===axis&&moveX)return`${width}${labelUnit}`;if("y"===axis&&moveY)return`${height}${labelUnit}`}if(moveX&&moveY)return`${width} x ${height}`;if(moveX)return`${width}${labelUnit}`;if(moveY)return`${height}${labelUnit}`;return}({axis,height,moveX,moveY,position,showPx,width});return{label,resizeListener}}var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),component=__webpack_require__("./packages/components/build-module/text/component.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),font=__webpack_require__("./packages/components/build-module/utils/font.js");const Root=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1wq7y4k3"})({name:"1cd7zoc",styles:"bottom:0;box-sizing:border-box;left:0;pointer-events:none;position:absolute;right:0;top:0"}),TooltipWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1wq7y4k2"})({name:"ajymcs",styles:"align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;opacity:0;pointer-events:none;transition:opacity 120ms linear"}),Tooltip=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1wq7y4k1"})("background:",colors_values.D.gray[900],";border-radius:2px;box-sizing:border-box;font-family:",(0,font.L)("default.fontFamily"),";font-size:12px;color:",colors_values.D.ui.textDark,";padding:4px 8px;position:relative;"),LabelText=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1wq7y4k0"})("&&&{color:",colors_values.D.ui.textDark,";display:block;font-size:13px;line-height:1.4;white-space:nowrap;}");const resize_tooltip_label=(0,react.forwardRef)((function Label({label,position=POSITIONS.corner,zIndex=1e3,...props},ref){const showLabel=!!label,isBottom=position===POSITIONS.bottom,isCorner=position===POSITIONS.corner;if(!showLabel)return null;let style={opacity:showLabel?1:void 0,zIndex},labelStyle={};return isBottom&&(style={...style,position:"absolute",bottom:-10,left:"50%",transform:"translate(-50%, 0)"},labelStyle={transform:"translate(0, 100%)"}),isCorner&&(style={...style,position:"absolute",top:4,right:(0,build_module.dZ)()?void 0:4,left:(0,build_module.dZ)()?4:void 0}),(0,react.createElement)(TooltipWrapper,(0,esm_extends.Z)({"aria-hidden":"true",className:"components-resizable-tooltip__tooltip-wrapper",ref,style},props),(0,react.createElement)(Tooltip,{className:"components-resizable-tooltip__tooltip",style:labelStyle},(0,react.createElement)(LabelText,{as:"span"},label)))})),resize_tooltip_noop=()=>{};const resize_tooltip=(0,react.forwardRef)((function ResizeTooltip({axis,className,fadeTimeout=180,isVisible=!0,labelRef,onResize=resize_tooltip_noop,position=POSITIONS.bottom,showPx=!0,zIndex=1e3,...props},ref){const{label,resizeListener}=useResizeLabel({axis,fadeTimeout,onResize,showPx,position});if(!isVisible)return null;const classes=classnames_default()("components-resize-tooltip",className);return(0,react.createElement)(Root,(0,esm_extends.Z)({"aria-hidden":"true",className:classes,ref},props),resizeListener,(0,react.createElement)(resize_tooltip_label,{"aria-hidden":props["aria-hidden"],label,position,ref:labelRef,zIndex}))})),HANDLE_CLASS_NAME="components-resizable-box__handle",SIDE_HANDLE_CLASS_NAME="components-resizable-box__side-handle",CORNER_HANDLE_CLASS_NAME="components-resizable-box__corner-handle",HANDLE_CLASSES={top:classnames_default()(HANDLE_CLASS_NAME,SIDE_HANDLE_CLASS_NAME,"components-resizable-box__handle-top"),right:classnames_default()(HANDLE_CLASS_NAME,SIDE_HANDLE_CLASS_NAME,"components-resizable-box__handle-right"),bottom:classnames_default()(HANDLE_CLASS_NAME,SIDE_HANDLE_CLASS_NAME,"components-resizable-box__handle-bottom"),left:classnames_default()(HANDLE_CLASS_NAME,SIDE_HANDLE_CLASS_NAME,"components-resizable-box__handle-left"),topLeft:classnames_default()(HANDLE_CLASS_NAME,CORNER_HANDLE_CLASS_NAME,"components-resizable-box__handle-top","components-resizable-box__handle-left"),topRight:classnames_default()(HANDLE_CLASS_NAME,CORNER_HANDLE_CLASS_NAME,"components-resizable-box__handle-top","components-resizable-box__handle-right"),bottomRight:classnames_default()(HANDLE_CLASS_NAME,CORNER_HANDLE_CLASS_NAME,"components-resizable-box__handle-bottom","components-resizable-box__handle-right"),bottomLeft:classnames_default()(HANDLE_CLASS_NAME,CORNER_HANDLE_CLASS_NAME,"components-resizable-box__handle-bottom","components-resizable-box__handle-left")},HANDLE_STYLES_OVERRIDES={width:void 0,height:void 0,top:void 0,right:void 0,bottom:void 0,left:void 0},HANDLE_STYLES={top:HANDLE_STYLES_OVERRIDES,right:HANDLE_STYLES_OVERRIDES,bottom:HANDLE_STYLES_OVERRIDES,left:HANDLE_STYLES_OVERRIDES,topLeft:HANDLE_STYLES_OVERRIDES,topRight:HANDLE_STYLES_OVERRIDES,bottomRight:HANDLE_STYLES_OVERRIDES,bottomLeft:HANDLE_STYLES_OVERRIDES};const resizable_box=(0,react.forwardRef)((function UnforwardedResizableBox({className,children,showHandle=!0,__experimentalShowTooltip:showTooltip=!1,__experimentalTooltipProps:tooltipProps={},...props},ref){return(0,react.createElement)(lib.e,(0,esm_extends.Z)({className:classnames_default()("components-resizable-box__container",showHandle&&"has-show-handle",className),handleClasses:HANDLE_CLASSES,handleStyles:HANDLE_STYLES,ref},props),children,showTooltip&&(0,react.createElement)(resize_tooltip,tooltipProps))}))},"./packages/components/build-module/select-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>SelectControl,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_base_control__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/build-module/base-control/index.js"),_input_control_input_base__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/input-control/input-base.js"),_styles_select_control_styles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/select-control/styles/select-control-styles.js"),_chevron_down__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/select-control/chevron-down.js");const noop=()=>{};const SelectControl=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((function UnforwardedSelectControl(props,ref){const{className,disabled=!1,help,hideLabelFromVision,id:idProp,label,multiple=!1,onBlur=noop,onChange,onFocus=noop,options=[],size="default",value:valueProp,labelPosition="top",children,prefix,suffix,__next36pxDefaultSize=!1,__nextHasNoMarginBottom=!1,...restProps}=props,[isFocused,setIsFocused]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),id=function useUniqueId(idProp){const instanceId=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__.Z)(SelectControl);return idProp||`inspector-select-control-${instanceId}`}(idProp),helpId=help?`${id}__help`:void 0;if(!options?.length&&!children)return null;const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-select-control",className);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_base_control__WEBPACK_IMPORTED_MODULE_3__.ZP,{help,id,__nextHasNoMarginBottom},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_input_control_input_base__WEBPACK_IMPORTED_MODULE_4__.Z,{className:classes,disabled,hideLabelFromVision,id,isFocused,label,size,suffix:suffix||!multiple&&(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_chevron_down__WEBPACK_IMPORTED_MODULE_5__.Z,null),prefix,labelPosition,__next36pxDefaultSize},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(_styles_select_control_styles__WEBPACK_IMPORTED_MODULE_6__.Ph,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_7__.Z)({},restProps,{__next36pxDefaultSize,"aria-describedby":helpId,className:"components-select-control__input",disabled,id,multiple,onBlur:event=>{onBlur(event),setIsFocused(!1)},onChange:event=>{if(props.multiple){const newValues=Array.from(event.target.options).filter((({selected})=>selected)).map((({value})=>value));props.onChange?.(newValues,{event})}else props.onChange?.(event.target.value,{event})},onFocus:event=>{onFocus(event),setIsFocused(!0)},ref,selectSize:size,value:valueProp}),children||options.map(((option,index)=>{const key=option.id||`${option.label}-${option.value}-${index}`;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)("option",{key,value:option.value,disabled:option.disabled},option.label)})))))})),__WEBPACK_DEFAULT_EXPORT__=SelectControl},"./packages/components/build-module/text-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_base_control__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/build-module/base-control/index.js");const TextControl=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((function UnforwardedTextControl(props,ref){const{__nextHasNoMarginBottom,label,hideLabelFromVision,value,help,className,onChange,type="text",...additionalProps}=props,id=`inspector-text-control-${(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__.Z)(TextControl)}`;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_base_control__WEBPACK_IMPORTED_MODULE_2__.ZP,{__nextHasNoMarginBottom,label,hideLabelFromVision,id,help,className},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)("input",(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({className:"components-text-control__input",type,id,value,onChange:event=>onChange(event.target.value),"aria-describedby":help?id+"__help":void 0,ref},additionalProps)))})),__WEBPACK_DEFAULT_EXPORT__=TextControl},"./packages/components/build-module/textarea-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>textarea_control});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");const inputStyleNeutral=(0,emotion_react_browser_esm.iv)("box-shadow:0 0 0 transparent;transition:box-shadow 0.1s linear;border-radius:",config_values.Z.radiusBlockUi,";border:",config_values.Z.borderWidth," solid ",colors_values.D.ui.border,";","","",""),inputStyleFocus=(0,emotion_react_browser_esm.iv)("border-color:",colors_values.D.ui.theme,";box-shadow:0 0 0 calc( ",config_values.Z.borderWidthFocus," - ",config_values.Z.borderWidth," ) ",colors_values.D.ui.theme,";outline:2px solid transparent;","","","");var font=__webpack_require__("./packages/components/build-module/utils/font.js");const breakpoint_values={huge:"1440px",wide:"1280px","x-large":"1080px",large:"960px",medium:"782px",small:"600px",mobile:"480px","zoomed-in":"280px"},inputControl=(0,emotion_react_browser_esm.iv)("display:block;font-family:",(0,font.L)("default.fontFamily"),";padding:6px 8px;",inputStyleNeutral,";font-size:",(0,font.L)("mobileTextMinFontSize"),";line-height:normal;",`@media (min-width: ${breakpoint_values["small"]})`,"{font-size:",(0,font.L)("default.fontSize"),";line-height:normal;}&:focus{",inputStyleFocus,";}&::-webkit-input-placeholder{color:",colors_values.D.ui.darkGrayPlaceholder,";}&::-moz-placeholder{opacity:1;color:",colors_values.D.ui.darkGrayPlaceholder,";}&:-ms-input-placeholder{color:",colors_values.D.ui.darkGrayPlaceholder,";}.is-dark-theme &{&::-webkit-input-placeholder{color:",colors_values.D.ui.lightGrayPlaceholder,";}&::-moz-placeholder{opacity:1;color:",colors_values.D.ui.lightGrayPlaceholder,";}&:-ms-input-placeholder{color:",colors_values.D.ui.lightGrayPlaceholder,";}}","","","");const StyledTextarea=(0,emotion_styled_base_browser_esm.Z)("textarea",{target:"e1w5nnrk0"})("width:100%;",inputControl,";");const textarea_control=function TextareaControl(props){const{__nextHasNoMarginBottom,label,hideLabelFromVision,value,help,onChange,rows=4,className,...additionalProps}=props,id=`inspector-textarea-control-${(0,use_instance_id.Z)(TextareaControl)}`;return(0,react.createElement)(base_control.ZP,{__nextHasNoMarginBottom,label,hideLabelFromVision,id,help,className},(0,react.createElement)(StyledTextarea,(0,esm_extends.Z)({className:"components-textarea-control__input",id,rows,onChange:event=>onChange(event.target.value),"aria-describedby":help?id+"__help":void 0,value},additionalProps)))}},"./packages/components/build-module/toggle-group-control/toggle-group-control-option/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_toggle_group_control_option_base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option-base/component.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function UnforwardedToggleGroupControlOption(props,ref){const{label,...restProps}=props,optionLabel=restProps["aria-label"]||label;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_toggle_group_control_option_base__WEBPACK_IMPORTED_MODULE_1__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__.Z)({},restProps,{"aria-label":optionLabel,ref}),label)}))},"./packages/components/build-module/tools-panel/tools-panel-item/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>tools_panel_item_component});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),use_previous=__webpack_require__("./packages/compose/build-module/hooks/use-previous/index.js"),styles=__webpack_require__("./packages/components/build-module/tools-panel/styles.js"),context=__webpack_require__("./packages/components/build-module/tools-panel/context.js"),use_context_system=__webpack_require__("./packages/components/build-module/ui/context/use-context-system.js"),use_cx=__webpack_require__("./packages/components/build-module/utils/hooks/use-cx.js");const noop=()=>{};var component=__webpack_require__("./packages/components/build-module/view/component.js");const tools_panel_item_component=(0,__webpack_require__("./packages/components/build-module/ui/context/context-connect.js").Iq)(((props,forwardedRef)=>{const{children,isShown,shouldRenderPlaceholder,...toolsPanelItemProps}=function useToolsPanelItem(props){const{className,hasValue,isShownByDefault=!1,label,panelId,resetAllFilter=noop,onDeselect,onSelect,...otherProps}=(0,use_context_system.y)(props,"ToolsPanelItem"),{panelId:currentPanelId,menuItems,registerResetAllFilter,deregisterResetAllFilter,registerPanelItem,deregisterPanelItem,flagItemCustomization,isResetting,shouldRenderPlaceholderItems:shouldRenderPlaceholder,firstDisplayedItem,lastDisplayedItem,__experimentalFirstVisibleItemClass,__experimentalLastVisibleItemClass}=(0,context.K)(),hasValueCallback=(0,react.useCallback)(hasValue,[panelId,hasValue]),resetAllFilterCallback=(0,react.useCallback)(resetAllFilter,[panelId,resetAllFilter]),previousPanelId=(0,use_previous.Z)(currentPanelId),hasMatchingPanel=currentPanelId===panelId||null===currentPanelId;(0,react.useEffect)((()=>(hasMatchingPanel&&null!==previousPanelId&&registerPanelItem({hasValue:hasValueCallback,isShownByDefault,label,panelId}),()=>{(null===previousPanelId&&currentPanelId||currentPanelId===panelId)&&deregisterPanelItem(label)})),[currentPanelId,hasMatchingPanel,isShownByDefault,label,hasValueCallback,panelId,previousPanelId,registerPanelItem,deregisterPanelItem]),(0,react.useEffect)((()=>(hasMatchingPanel&&registerResetAllFilter(resetAllFilterCallback),()=>{hasMatchingPanel&&deregisterResetAllFilter(resetAllFilterCallback)})),[registerResetAllFilter,deregisterResetAllFilter,resetAllFilterCallback,hasMatchingPanel]);const menuGroup=isShownByDefault?"default":"optional",isMenuItemChecked=menuItems?.[menuGroup]?.[label],wasMenuItemChecked=(0,use_previous.Z)(isMenuItemChecked),isRegistered=void 0!==menuItems?.[menuGroup]?.[label],isValueSet=hasValue(),wasValueSet=(0,use_previous.Z)(isValueSet),newValueSet=isValueSet&&!wasValueSet;(0,react.useEffect)((()=>{newValueSet&&(isShownByDefault||null===currentPanelId)&&flagItemCustomization(label,menuGroup)}),[currentPanelId,newValueSet,isShownByDefault,menuGroup,label,flagItemCustomization]),(0,react.useEffect)((()=>{isRegistered&&!isResetting&&hasMatchingPanel&&(!isMenuItemChecked||isValueSet||wasMenuItemChecked||onSelect?.(),!isMenuItemChecked&&wasMenuItemChecked&&onDeselect?.())}),[hasMatchingPanel,isMenuItemChecked,isRegistered,isResetting,isValueSet,wasMenuItemChecked,onSelect,onDeselect]);const isShown=isShownByDefault?void 0!==menuItems?.[menuGroup]?.[label]:isMenuItemChecked,cx=(0,use_cx.I)(),classes=(0,react.useMemo)((()=>{const placeholderStyle=shouldRenderPlaceholder&&!isShown&&styles.rg,firstItemStyle=firstDisplayedItem===label&&__experimentalFirstVisibleItemClass,lastItemStyle=lastDisplayedItem===label&&__experimentalLastVisibleItemClass;return cx(styles.VY,placeholderStyle,className,firstItemStyle,lastItemStyle)}),[isShown,shouldRenderPlaceholder,className,cx,firstDisplayedItem,lastDisplayedItem,__experimentalFirstVisibleItemClass,__experimentalLastVisibleItemClass,label]);return{...otherProps,isShown,shouldRenderPlaceholder,className:classes}}(props);return isShown?(0,react.createElement)(component.Z,(0,esm_extends.Z)({},toolsPanelItemProps,{ref:forwardedRef}),children):shouldRenderPlaceholder?(0,react.createElement)(component.Z,(0,esm_extends.Z)({},toolsPanelItemProps,{ref:forwardedRef})):null}),"ToolsPanelItem")},"./packages/components/build-module/utils/hooks/use-controlled-value.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>useControlledValue});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useControlledValue({defaultValue,onChange,value:valueProp}){const hasValue=void 0!==valueProp,initialValue=hasValue?valueProp:defaultValue,[state,setState]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(initialValue);let setValue;return setValue=hasValue&&"function"==typeof onChange?onChange:hasValue||"function"!=typeof onChange?setState:nextValue=>{onChange(nextValue),setState(nextValue)},[hasValue?valueProp:state,setValue]}},"./packages/components/build-module/utils/strings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>normalizeTextString,h:()=>escapeRegExp});var remove_accents__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(remove_accents__WEBPACK_IMPORTED_MODULE_0__);const ALL_UNICODE_DASH_CHARACTERS=new RegExp(`[${["-","~","­","֊","־","᐀","᠆","‐","‑","‒","–","—","―","⁓","⁻","₋","−","⸗","⸺","⸻","〜","〰","゠","︱","︲","﹘","﹣","－"].join("")}]`,"g"),normalizeTextString=value=>remove_accents__WEBPACK_IMPORTED_MODULE_0___default()(value).toLocaleLowerCase().replace(ALL_UNICODE_DASH_CHARACTERS,"-");function escapeRegExp(string){return string.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}},"./packages/components/build-module/z-stack/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>component});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),get_valid_children=__webpack_require__("./packages/components/build-module/ui/utils/get-valid-children.js"),use_context_system=__webpack_require__("./packages/components/build-module/ui/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/build-module/ui/context/context-connect.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),rtl=__webpack_require__("./packages/components/build-module/utils/rtl.js");const ZStackView=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ebn2ljm1"})({name:"5ob2ly",styles:"display:flex;position:relative"}),ZStackChildView=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ebn2ljm0"})((({isLayered,offsetAmount})=>isLayered?(0,emotion_react_browser_esm.iv)((0,rtl.b)({marginLeft:offsetAmount})(),"","","",""):(0,emotion_react_browser_esm.iv)((0,rtl.b)({right:-1*offsetAmount})(),"","","",""))," ",(({isLayered})=>isLayered?positionAbsolute:positionRelative)," ",(({zIndex})=>(0,emotion_react_browser_esm.iv)({zIndex},"","","","")),";"),positionAbsolute={name:"a4hmbt",styles:"position:absolute"},positionRelative={name:"bjn8wh",styles:"position:relative"};const component=(0,context_connect.Iq)((function UnconnectedZStack(props,forwardedRef){const{children,className,isLayered=!0,isReversed=!1,offset=0,...otherProps}=(0,use_context_system.y)(props,"ZStack"),validChildren=(0,get_valid_children.W)(children),childrenLastIndex=validChildren.length-1,clonedChildren=validChildren.map(((child,index)=>{const zIndex=isReversed?childrenLastIndex-index:index,offsetAmount=offset*index,key=(0,react.isValidElement)(child)?child.key:index;return(0,react.createElement)(ZStackChildView,{isLayered,offsetAmount,zIndex,key},child)}));return(0,react.createElement)(ZStackView,(0,esm_extends.Z)({},otherProps,{className,ref:forwardedRef}),clonedChildren)}),"ZStack")},"./packages/compose/build-module/higher-order/with-instance-id/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_0__.o)((WrappedComponent=>props=>{const instanceId=(0,_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_1__.Z)(WrappedComponent);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(WrappedComponent,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},props,{instanceId}))}),"instanceId")},"./packages/compose/build-module/higher-order/with-safe-timeout/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js").o)((OriginalComponent=>class WrappedComponent extends _wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(props){super(props),this.timeouts=[],this.setTimeout=this.setTimeout.bind(this),this.clearTimeout=this.clearTimeout.bind(this)}componentWillUnmount(){this.timeouts.forEach(clearTimeout)}setTimeout(fn,delay){const id=setTimeout((()=>{fn(),this.clearTimeout(id)}),delay);return this.timeouts.push(id),id}clearTimeout(id){clearTimeout(id),this.timeouts=this.timeouts.filter((timeoutId=>timeoutId!==id))}render(){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(OriginalComponent,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__.Z)({},this.props,{setTimeout:this.setTimeout,clearTimeout:this.clearTimeout}))}}),"withSafeTimeout")},"./packages/compose/build-module/hooks/use-dragging/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>useDragging});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/hooks/use-isomorphic-layout-effect/index.js");function useDragging({onDragStart,onDragMove,onDragEnd}){const[isDragging,setIsDragging]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),eventsRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)({onDragStart,onDragMove,onDragEnd});(0,_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__.Z)((()=>{eventsRef.current.onDragStart=onDragStart,eventsRef.current.onDragMove=onDragMove,eventsRef.current.onDragEnd=onDragEnd}),[onDragStart,onDragMove,onDragEnd]);const onMouseMove=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>eventsRef.current.onDragMove&&eventsRef.current.onDragMove(event)),[]),endDrag=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{eventsRef.current.onDragEnd&&eventsRef.current.onDragEnd(event),document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",endDrag),setIsDragging(!1)}),[]),startDrag=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{eventsRef.current.onDragStart&&eventsRef.current.onDragStart(event),document.addEventListener("mousemove",onMouseMove),document.addEventListener("mouseup",endDrag),setIsDragging(!0)}),[]);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{isDragging&&(document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",endDrag))}),[isDragging]),{startDrag,endDrag,isDragging}}},"./packages/date/build-module/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Gw:()=>getSettings,WU:()=>format,K_:()=>dateI18n,_3:()=>getDate,n_:()=>humanTimeDiff});var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__("./node_modules/moment-timezone/moment-timezone.js"),__webpack_require__("./node_modules/moment-timezone/moment-timezone-utils.js");const WP_ZONE="WP",VALID_UTC_OFFSET=/^[+-][0-1][0-9](:?[0-9][0-9])?$/;let settings={l10n:{locale:"en",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],meridiem:{am:"am",pm:"pm",AM:"AM",PM:"PM"},relative:{future:"%s from now",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},startOfWeek:0},formats:{time:"g: i a",date:"F j, Y",datetime:"F j, Y g: i a",datetimeAbbreviated:"M j, Y g: i a"},timezone:{offset:"0",string:"",abbr:""}};function getSettings(){return settings}function setupWPTimezone(){moment__WEBPACK_IMPORTED_MODULE_0___default().tz.add(moment__WEBPACK_IMPORTED_MODULE_0___default().tz.pack({name:WP_ZONE,abbrs:[WP_ZONE],untils:[null],offsets:[60*-settings.timezone.offset||0]}))}const formatMap={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S(momentDate){const num=momentDate.format("D");return momentDate.format("Do").replace(num,"")},w:"d",z:momentDate=>(parseInt(momentDate.format("DDD"),10)-1).toString(),W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:momentDate=>momentDate.daysInMonth(),L:momentDate=>momentDate.isLeapYear()?"1":"0",o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B(momentDate){const timezoned=moment__WEBPACK_IMPORTED_MODULE_0___default()(momentDate).utcOffset(60),seconds=parseInt(timezoned.format("s"),10),minutes=parseInt(timezoned.format("m"),10),hours=parseInt(timezoned.format("H"),10);return parseInt(((seconds+60*minutes+3600*hours)/86.4).toString(),10)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSSSSS",v:"SSS",e:"zz",I:momentDate=>momentDate.isDST()?"1":"0",O:"ZZ",P:"Z",T:"z",Z(momentDate){const offset=momentDate.format("Z"),sign="-"===offset[0]?-1:1,parts=offset.substring(1).split(":").map((n=>parseInt(n,10)));return sign*(60*parts[0]+parts[1])*60},c:"YYYY-MM-DDTHH:mm:ssZ",r:momentDate=>momentDate.locale("en").format("ddd, DD MMM YYYY HH:mm:ss ZZ"),U:"X"};function format(dateFormat,dateValue=new Date){let i,char;const newFormat=[],momentDate=moment__WEBPACK_IMPORTED_MODULE_0___default()(dateValue);for(i=0;i<dateFormat.length;i++)if(char=dateFormat[i],"\\"!==char)if(char in formatMap){const formatter=formatMap[char];"string"!=typeof formatter?newFormat.push("["+formatter(momentDate)+"]"):newFormat.push(formatter)}else newFormat.push("["+char+"]");else i++,newFormat.push("["+dateFormat[i]+"]");return momentDate.format(newFormat.join("[]"))}function dateI18n(dateFormat,dateValue=new Date,timezone){if(!0===timezone)return function gmdateI18n(dateFormat,dateValue=new Date){const dateMoment=moment__WEBPACK_IMPORTED_MODULE_0___default()(dateValue).utc();return dateMoment.locale(settings.l10n.locale),format(dateFormat,dateMoment)}(dateFormat,dateValue);!1===timezone&&(timezone=void 0);const dateMoment=buildMoment(dateValue,timezone);return dateMoment.locale(settings.l10n.locale),format(dateFormat,dateMoment)}function getDate(dateString){return dateString?moment__WEBPACK_IMPORTED_MODULE_0___default().tz(dateString,WP_ZONE).toDate():moment__WEBPACK_IMPORTED_MODULE_0___default().tz(WP_ZONE).toDate()}function humanTimeDiff(from,to){const fromMoment=moment__WEBPACK_IMPORTED_MODULE_0___default().tz(from,WP_ZONE),toMoment=to?moment__WEBPACK_IMPORTED_MODULE_0___default().tz(to,WP_ZONE):moment__WEBPACK_IMPORTED_MODULE_0___default().tz(WP_ZONE);return fromMoment.from(toMoment)}function buildMoment(dateValue,timezone=""){const dateMoment=moment__WEBPACK_IMPORTED_MODULE_0___default()(dateValue);return timezone&&!isUTCOffset(timezone)?dateMoment.tz(timezone):timezone&&isUTCOffset(timezone)?dateMoment.utcOffset(timezone):settings.timezone.string?dateMoment.tz(settings.timezone.string):dateMoment.utcOffset(+settings.timezone.offset)}function isUTCOffset(offset){return"number"==typeof offset||VALID_UTC_OFFSET.test(offset)}setupWPTimezone()},"./packages/icons/build-module/library/align-center.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M16.4 4.2H7.6v1.5h8.9V4.2zM4 11.2v1.5h16v-1.5H4zm3.6 8.6h8.9v-1.5H7.6v1.5z"}))},"./packages/icons/build-module/library/align-left.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M4 19.8h8.9v-1.5H4v1.5zm8.9-15.6H4v1.5h8.9V4.2zm-8.9 7v1.5h16v-1.5H4z"}))},"./packages/icons/build-module/library/align-right.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M11.1 19.8H20v-1.5h-8.9v1.5zm0-15.6v1.5H20V4.2h-8.9zM4 12.8h16v-1.5H4v1.5z"}))},"./packages/icons/build-module/library/arrow-left.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"}))},"./packages/icons/build-module/library/category.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"}))},"./packages/icons/build-module/library/edit.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>edit});var react=__webpack_require__("./node_modules/react/index.js"),svg=__webpack_require__("./packages/primitives/build-module/svg/index.js");const edit=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"}))},"./packages/icons/build-module/library/file.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M19 6.2h-5.9l-.6-1.1c-.3-.7-1-1.1-1.8-1.1H5c-1.1 0-2 .9-2 2v11.8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8.2c0-1.1-.9-2-2-2zm.5 11.6c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h5.8c.2 0 .4.1.4.3l1 2H19c.3 0 .5.2.5.5v9.5z"}))},"./packages/icons/build-module/library/format-capitalize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M7.1 6.8L3.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H7.1zm-.8 6.8L8 8.9l1.7 4.7H6.3zm14.5-1.5c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2 .1.8-.2 1.4-.6 2z"}))},"./packages/icons/build-module/library/format-lowercase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M11 16.8c-.1-.1-.2-.3-.3-.5v-2.6c0-.9-.1-1.7-.3-2.2-.2-.5-.5-.9-.9-1.2-.4-.2-.9-.3-1.6-.3-.5 0-1 .1-1.5.2s-.9.3-1.2.6l.2 1.2c.4-.3.7-.4 1.1-.5.3-.1.7-.2 1-.2.6 0 1 .1 1.3.4.3.2.4.7.4 1.4-1.2 0-2.3.2-3.3.7s-1.4 1.1-1.4 2.1c0 .7.2 1.2.7 1.6.4.4 1 .6 1.8.6.9 0 1.7-.4 2.4-1.2.1.3.2.5.4.7.1.2.3.3.6.4.3.1.6.1 1.1.1h.1l.2-1.2h-.1c-.4.1-.6 0-.7-.1zM9.2 16c-.2.3-.5.6-.9.8-.3.1-.7.2-1.1.2-.4 0-.7-.1-.9-.3-.2-.2-.3-.5-.3-.9 0-.6.2-1 .7-1.3.5-.3 1.3-.4 2.5-.5v2zm10.6-3.9c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2s-.2 1.4-.6 2z"}))},"./packages/icons/build-module/library/format-strikethrough.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M9.1 9v-.5c0-.6.2-1.1.7-1.4.5-.3 1.2-.5 2-.5.7 0 1.4.1 2.1.3.7.2 1.4.5 2.1.9l.2-1.9c-.6-.3-1.2-.5-1.9-.7-.8-.1-1.6-.2-2.4-.2-1.5 0-2.7.3-3.6 1-.8.7-1.2 1.5-1.2 2.6V9h2zM20 12H4v1h8.3c.3.1.6.2.8.3.5.2.9.5 1.1.8.3.3.4.7.4 1.2 0 .7-.2 1.1-.8 1.5-.5.3-1.2.5-2.1.5-.8 0-1.6-.1-2.4-.3-.8-.2-1.5-.5-2.2-.8L7 18.1c.5.2 1.2.4 2 .6.8.2 1.6.3 2.4.3 1.7 0 3-.3 3.9-1 .9-.7 1.3-1.6 1.3-2.8 0-.9-.2-1.7-.7-2.2H20v-1z"}))},"./packages/icons/build-module/library/format-underline.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M7 18v1h10v-1H7zm5-2c1.5 0 2.6-.4 3.4-1.2.8-.8 1.1-2 1.1-3.5V5H15v5.8c0 1.2-.2 2.1-.6 2.8-.4.7-1.2 1-2.4 1s-2-.3-2.4-1c-.4-.7-.6-1.6-.6-2.8V5H7.5v6.2c0 1.5.4 2.7 1.1 3.5.8.9 1.9 1.3 3.4 1.3z"}))},"./packages/icons/build-module/library/format-uppercase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.1 6.8L2.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H6.1zm-.8 6.8L7 8.9l1.7 4.7H5.3zm15.1-.7c-.4-.5-.9-.8-1.6-1 .4-.2.7-.5.8-.9.2-.4.3-.9.3-1.4 0-.9-.3-1.6-.8-2-.6-.5-1.3-.7-2.4-.7h-3.5V18h4.2c1.1 0 2-.3 2.6-.8.6-.6 1-1.4 1-2.4-.1-.8-.3-1.4-.6-1.9zm-5.7-4.7h1.8c.6 0 1.1.1 1.4.4.3.2.5.7.5 1.3 0 .6-.2 1.1-.5 1.3-.3.2-.8.4-1.4.4h-1.8V8.2zm4 8c-.4.3-.9.5-1.5.5h-2.6v-3.8h2.6c1.4 0 2 .6 2 1.9.1.6-.1 1-.5 1.4z"}))},"./packages/icons/build-module/library/keyboard-return.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"}))},"./packages/icons/build-module/library/layout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}))},"./packages/icons/build-module/library/line-dashed.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",d:"M5 11.25h3v1.5H5v-1.5zm5.5 0h3v1.5h-3v-1.5zm8.5 0h-3v1.5h3v-1.5z",clipRule:"evenodd"}))},"./packages/icons/build-module/library/line-dotted.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",d:"M5.25 11.25h1.5v1.5h-1.5v-1.5zm3 0h1.5v1.5h-1.5v-1.5zm4.5 0h-1.5v1.5h1.5v-1.5zm1.5 0h1.5v1.5h-1.5v-1.5zm4.5 0h-1.5v1.5h1.5v-1.5z",clipRule:"evenodd"}))},"./packages/icons/build-module/library/link-off.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M15.6 7.3h-.7l1.6-3.5-.9-.4-3.9 8.5H9v1.5h2l-1.3 2.8H8.4c-2 0-3.7-1.7-3.7-3.7s1.7-3.7 3.7-3.7H10V7.3H8.4c-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2H9l-1.4 3.2.9.4 5.7-12.5h1.4c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.9 0 5.2-2.3 5.2-5.2 0-2.9-2.4-5.2-5.2-5.2z"}))},"./packages/icons/build-module/library/link.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M15.6 7.2H14v1.5h1.6c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.8 0 5.2-2.3 5.2-5.2 0-2.9-2.3-5.2-5.2-5.2zM4.7 12.4c0-2 1.7-3.7 3.7-3.7H10V7.2H8.4c-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2H10v-1.5H8.4c-2 0-3.7-1.7-3.7-3.7zm4.6.9h5.3v-1.5H9.3v1.5z"}))},"./packages/icons/build-module/library/media.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"}))},"./packages/icons/build-module/library/page.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"}))},"./packages/icons/build-module/library/post-featured-image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M19 3H5c-.6 0-1 .4-1 1v7c0 .5.4 1 1 1h14c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1zM5.5 10.5v-.4l1.8-1.3 1.3.8c.3.2.7.2.9-.1L11 8.1l2.4 2.4H5.5zm13 0h-2.9l-4-4c-.3-.3-.8-.3-1.1 0L8.9 8l-1.2-.8c-.3-.2-.6-.2-.9 0l-1.3 1V4.5h13v6zM4 20h9v-1.5H4V20zm0-4h16v-1.5H4V16z"}))},"./packages/icons/build-module/library/post-list.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12zM7 11h2V9H7v2zm0 4h2v-2H7v2zm3-4h7V9h-7v2zm0 4h7v-2h-7v2z"}))},"./packages/icons/build-module/library/settings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M14.5 13.8c-1.1 0-2.1.7-2.4 1.8H4V17h8.1c.3 1 1.3 1.8 2.4 1.8s2.1-.7 2.4-1.8H20v-1.5h-3.1c-.3-1-1.3-1.7-2.4-1.7zM11.9 7c-.3-1-1.3-1.8-2.4-1.8S7.4 6 7.1 7H4v1.5h3.1c.3 1 1.3 1.8 2.4 1.8s2.1-.7 2.4-1.8H20V7h-8.1z"}))},"./packages/icons/build-module/library/styles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z"}))},"./packages/icons/build-module/library/swatch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M5 17.7c.4.5.8.9 1.2 1.2l1.1-1.4c-.4-.3-.7-.6-1-1L5 17.7zM5 6.3l1.4 1.1c.3-.4.6-.7 1-1L6.3 5c-.5.4-.9.8-1.3 1.3zm.1 7.8l-1.7.5c.2.6.4 1.1.7 1.6l1.5-.8c-.2-.4-.4-.8-.5-1.3zM4.8 12v-.7L3 11.1v1.8l1.7-.2c.1-.2.1-.5.1-.7zm3 7.9c.5.3 1.1.5 1.6.7l.5-1.7c-.5-.1-.9-.3-1.3-.5l-.8 1.5zM19 6.3c-.4-.5-.8-.9-1.2-1.2l-1.1 1.4c.4.3.7.6 1 1L19 6.3zm-.1 3.6l1.7-.5c-.2-.6-.4-1.1-.7-1.6l-1.5.8c.2.4.4.8.5 1.3zM5.6 8.6l-1.5-.8c-.3.5-.5 1-.7 1.6l1.7.5c.1-.5.3-.9.5-1.3zm2.2-4.5l.8 1.5c.4-.2.8-.4 1.3-.5l-.5-1.7c-.6.2-1.1.4-1.6.7zm8.8 13.5l1.1 1.4c.5-.4.9-.8 1.2-1.2l-1.4-1.1c-.2.3-.5.6-.9.9zm1.8-2.2l1.5.8c.3-.5.5-1.1.7-1.6l-1.7-.5c-.1.5-.3.9-.5 1.3zm2.6-4.3l-1.7.2v1.4l1.7.2V12v-.9zM11.1 3l.2 1.7h1.4l.2-1.7h-1.8zm3 2.1c.5.1.9.3 1.3.5l.8-1.5c-.5-.3-1.1-.5-1.6-.7l-.5 1.7zM12 19.2h-.7l-.2 1.8h1.8l-.2-1.7c-.2-.1-.5-.1-.7-.1zm2.1-.3l.5 1.7c.6-.2 1.1-.4 1.6-.7l-.8-1.5c-.4.2-.8.4-1.3.5z"}))},"./packages/icons/build-module/library/tag.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M20.1 11.2l-6.7-6.7c-.1-.1-.3-.2-.5-.2H5c-.4-.1-.8.3-.8.7v7.8c0 .2.1.4.2.5l6.7 6.7c.2.2.5.4.7.5s.6.2.9.2c.3 0 .6-.1.9-.2.3-.1.5-.3.8-.5l5.6-5.6c.4-.4.7-1 .7-1.6.1-.6-.2-1.2-.6-1.6zM19 13.4L13.4 19c-.1.1-.2.1-.3.2-.2.1-.4.1-.6 0-.1 0-.2-.1-.3-.2l-6.5-6.5V5.8h6.8l6.5 6.5c.2.2.2.4.2.6 0 .1 0 .3-.2.5zM9 8c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"}))},"./packages/icons/build-module/library/upload.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}))},"./packages/preferences/build-module/store/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>store});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,{set:()=>set,setDefaults:()=>setDefaults,setPersistenceLayer:()=>setPersistenceLayer,toggle:()=>toggle});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject),__webpack_require__.d(selectors_namespaceObject,{get:()=>get});var build_module=__webpack_require__("./packages/data/build-module/index.js"),redux_store=__webpack_require__("./packages/data/build-module/redux-store/index.js");const preferences=function withPersistenceLayer(reducer){let persistenceLayer;return(state,action)=>{if("SET_PERSISTENCE_LAYER"===action.type){const{persistenceLayer:persistence,persistedData}=action;return persistenceLayer=persistence,persistedData}const nextState=reducer(state,action);return"SET_PREFERENCE_VALUE"===action.type&&persistenceLayer?.set(nextState),nextState}}(((state={},action)=>{if("SET_PREFERENCE_VALUE"===action.type){const{scope,name,value}=action;return{...state,[scope]:{...state[scope],[name]:value}}}return state})),reducer=(0,build_module.UY)({defaults:function defaults(state={},action){if("SET_PREFERENCE_DEFAULTS"===action.type){const{scope,defaults:values}=action;return{...state,[scope]:{...state[scope],...values}}}return state},preferences});function toggle(scope,name){return function({select,dispatch}){const currentValue=select.get(scope,name);dispatch.set(scope,name,!currentValue)}}function set(scope,name,value){return{type:"SET_PREFERENCE_VALUE",scope,name,value}}function setDefaults(scope,defaults){return{type:"SET_PREFERENCE_DEFAULTS",scope,defaults}}async function setPersistenceLayer(persistenceLayer){const persistedData=await persistenceLayer.get();return{type:"SET_PERSISTENCE_LAYER",persistenceLayer,persistedData}}function get(state,scope,name){const value=state.preferences[scope]?.[name];return void 0!==value?value:state.defaults[scope]?.[name]}const store=(0,redux_store.Z)("core/preferences",{reducer,actions:actions_namespaceObject,selectors:selectors_namespaceObject});(0,build_module.z2)(store)},"./packages/url/build-module/filter-url-for-display.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function filterURLForDisplay(url,maxLength=null){let filteredURL=url.replace(/^(?:https?:)\/\/(?:www\.)?/,"");filteredURL.match(/^[^\/]+\/$/)&&(filteredURL=filteredURL.replace("/",""));if(!maxLength||filteredURL.length<=maxLength||!filteredURL.match(/([\w|:])*\.(?:jpg|jpeg|gif|png|svg)/))return filteredURL;filteredURL=filteredURL.split("?")[0];const urlPieces=filteredURL.split("/"),file=urlPieces[urlPieces.length-1];if(file.length<=maxLength)return"…"+filteredURL.slice(-maxLength);const index=file.lastIndexOf("."),[fileName,extension]=[file.slice(0,index),file.slice(index+1)],truncatedFile=fileName.slice(-3)+"."+extension;return file.slice(0,maxLength-truncatedFile.length-1)+"…"+truncatedFile}__webpack_require__.d(__webpack_exports__,{w:()=>filterURLForDisplay})},"./packages/url/build-module/get-protocol.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getProtocol(url){const matches=/^([^\s:]+:)/.exec(url);if(matches)return matches[1]}__webpack_require__.d(__webpack_exports__,{E:()=>getProtocol})},"./packages/url/build-module/is-email.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>isEmail});const EMAIL_REGEXP=/^(mailto:)?[a-z0-9._%+-]+@[a-z0-9][a-z0-9.-]*\.[a-z]{2,63}$/i;function isEmail(email){return EMAIL_REGEXP.test(email)}},"./packages/url/build-module/is-url.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isURL(url){try{return new URL(url),!0}catch{return!1}}__webpack_require__.d(__webpack_exports__,{P:()=>isURL})},"./packages/url/build-module/is-valid-fragment.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isValidFragment(fragment){return!!fragment&&/^#[^\s#?\/]*$/.test(fragment)}__webpack_require__.d(__webpack_exports__,{Z:()=>isValidFragment})},"./packages/url/build-module/is-valid-protocol.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isValidProtocol(protocol){return!!protocol&&/^[a-z\-.\+]+[0-9]*:$/i.test(protocol)}__webpack_require__.d(__webpack_exports__,{M:()=>isValidProtocol})},"./packages/url/build-module/prepend-http.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>prependHTTP});var _is_email__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/url/build-module/is-email.js");const USABLE_HREF_REGEXP=/^(?:[a-z]+:|#|\?|\.|\/)/i;function prependHTTP(url){return url?(url=url.trim(),USABLE_HREF_REGEXP.test(url)||(0,_is_email__WEBPACK_IMPORTED_MODULE_0__.J)(url)?url:"http://"+url):url}},"./packages/url/build-module/safe-decode-uri.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function safeDecodeURI(uri){try{return decodeURI(uri)}catch(uriError){return uri}}__webpack_require__.d(__webpack_exports__,{x:()=>safeDecodeURI})},"./packages/wordcount/build-module/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>count});const defaultSettings={HTMLRegExp:/<\/?[a-z][^>]*?>/gi,HTMLcommentRegExp:/<!--[\s\S]*?-->/g,spaceRegExp:/&nbsp;|&#160;/gi,HTMLEntityRegExp:/&\S+?;/g,connectorRegExp:/--|\u2014/g,removeRegExp:new RegExp(["[","!-/:-@[-`{-~","-¿×÷"," -⯿","⸀-⹿","]"].join(""),"g"),astralRegExp:/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wordsRegExp:/\S\s+/g,characters_excluding_spacesRegExp:/\S/g,characters_including_spacesRegExp:/[^\f\n\r\t\v\u00AD\u2028\u2029]/g,l10n:{type:"words"}};function stripTags(settings,text){return text.replace(settings.HTMLRegExp,"\n")}function transposeAstralsToCountableChar(settings,text){return text.replace(settings.astralRegExp,"a")}function stripHTMLEntities(settings,text){return text.replace(settings.HTMLEntityRegExp,"")}function stripConnectors(settings,text){return text.replace(settings.connectorRegExp," ")}function stripRemovables(settings,text){return text.replace(settings.removeRegExp,"")}function stripHTMLComments(settings,text){return text.replace(settings.HTMLcommentRegExp,"")}function stripShortcodes(settings,text){return settings.shortcodesRegExp?text.replace(settings.shortcodesRegExp,"\n"):text}function stripSpaces(settings,text){return text.replace(settings.spaceRegExp," ")}function transposeHTMLEntitiesToCountableChars(settings,text){return text.replace(settings.HTMLEntityRegExp,"a")}function countCharacters(text,regex,settings){var _text$match$length2;return text=[stripTags.bind(null,settings),stripHTMLComments.bind(null,settings),stripShortcodes.bind(null,settings),transposeAstralsToCountableChar.bind(null,settings),stripSpaces.bind(null,settings),transposeHTMLEntitiesToCountableChars.bind(null,settings)].reduce(((result,fn)=>fn(result)),text),text+="\n",null!==(_text$match$length2=text.match(regex)?.length)&&void 0!==_text$match$length2?_text$match$length2:0}function count(text,type,userSettings){const settings=function loadSettings(type,userSettings){var _settings$l10n$shortc;const settings=Object.assign({},defaultSettings,userSettings);return settings.shortcodes=null!==(_settings$l10n$shortc=settings.l10n?.shortcodes)&&void 0!==_settings$l10n$shortc?_settings$l10n$shortc:[],settings.shortcodes&&settings.shortcodes.length&&(settings.shortcodesRegExp=new RegExp("\\[\\/?(?:"+settings.shortcodes.join("|")+")[^\\]]*?\\]","g")),settings.type=type,"characters_excluding_spaces"!==settings.type&&"characters_including_spaces"!==settings.type&&(settings.type="words"),settings}(type,userSettings);let matchRegExp;switch(settings.type){case"words":return matchRegExp=settings.wordsRegExp,function countWords(text,regex,settings){var _text$match$length;return text=[stripTags.bind(null,settings),stripHTMLComments.bind(null,settings),stripShortcodes.bind(null,settings),stripSpaces.bind(null,settings),stripHTMLEntities.bind(null,settings),stripConnectors.bind(null,settings),stripRemovables.bind(null,settings)].reduce(((result,fn)=>fn(result)),text),text+="\n",null!==(_text$match$length=text.match(regex)?.length)&&void 0!==_text$match$length?_text$match$length:0}(text,matchRegExp,settings);case"characters_including_spaces":return matchRegExp=settings.characters_including_spacesRegExp,countCharacters(text,matchRegExp,settings);case"characters_excluding_spaces":return matchRegExp=settings.characters_excluding_spacesRegExp,countCharacters(text,matchRegExp,settings);default:return 0}}},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn-bd":"./node_modules/moment/locale/bn-bd.js","./bn-bd.js":"./node_modules/moment/locale/bn-bd.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-in":"./node_modules/moment/locale/en-in.js","./en-in.js":"./node_modules/moment/locale/en-in.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./en-sg":"./node_modules/moment/locale/en-sg.js","./en-sg.js":"./node_modules/moment/locale/en-sg.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-mx":"./node_modules/moment/locale/es-mx.js","./es-mx.js":"./node_modules/moment/locale/es-mx.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fil":"./node_modules/moment/locale/fil.js","./fil.js":"./node_modules/moment/locale/fil.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./ga":"./node_modules/moment/locale/ga.js","./ga.js":"./node_modules/moment/locale/ga.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-deva":"./node_modules/moment/locale/gom-deva.js","./gom-deva.js":"./node_modules/moment/locale/gom-deva.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it-ch":"./node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ku":"./node_modules/moment/locale/ku.js","./ku.js":"./node_modules/moment/locale/ku.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./oc-lnc":"./node_modules/moment/locale/oc-lnc.js","./oc-lnc.js":"./node_modules/moment/locale/oc-lnc.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tk":"./node_modules/moment/locale/tk.js","./tk.js":"./node_modules/moment/locale/tk.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-mo":"./node_modules/moment/locale/zh-mo.js","./zh-mo.js":"./node_modules/moment/locale/zh-mo.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"}}]);